"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1472],{22651:function(e,l,s){var t=s(85893);s(67294);var a=s(11163),n=s(18360),r=s(22224);l.Z=e=>{let{onChange:l}=e,s=(0,a.useRouter)();return(0,t.jsxs)(n.Z,{onChange:e=>{let t=e.target.value;l?l("all"===t?"":t):s.push("?status=".concat("all"===t?"":t))},defaultValue:l?void 0:s.query.status||"all",placeholder:"Select status",sx:{"& .MuiSelect-select":{width:"200px",padding:"8px"}},children:[(0,t.jsx)(r.Z,{value:"all",children:"All"}),(0,t.jsx)(r.Z,{value:"active",children:"Active"}),(0,t.jsx)(r.Z,{value:"lead",children:"Lead"}),(0,t.jsx)(r.Z,{value:"draft",children:"Draft"}),(0,t.jsx)(r.Z,{value:"onHold",children:"On Hold"}),(0,t.jsx)(r.Z,{value:"canceled",children:"Canceled"}),(0,t.jsx)(r.Z,{value:"filled",children:"Filled"}),(0,t.jsx)(r.Z,{value:"closed",children:"Closed"})]})}},81472:function(e,l,s){s.r(l),s.d(l,{default:function(){return ed}});var t=s(85893),a=s(67294),n=s(30381),r=s.n(n),i=s(11163),d=s(41664),o=s.n(d),c=s(86427),x=s(50657),h=s(37645),u=s(6514),j=s(98456),Z=s(5616),b=s(46901),v=s(58951),p=s(69417),f=s(72882),m=s(90629),g=s(7906),y=s(53184),C=s(53816),S=s(53252),w=s(295),k=s(96070),_=s(12079),I=s(93946),P=s(61903),M=s(91050),E=s(66836),O=s(36872),T=s(18360),q=s(22224),A=s(86886),D=s(40476),G=s(94054),H=s(50594),L=s(69708),W=s(82414),z=s(87478),N=s(80323),R=s(40063),F=e=>{let{open:l,onClose:s,onSuccess:n,job:r}=e,i=r||{},[d,o]=(0,a.useState)(i.title),[c,j]=(0,a.useState)(i.status),[b,v]=(0,a.useState)(i.description),[f,m]=(0,a.useState)(i.notes),[g,y]=(0,a.useState)(i.locationType),[C,S]=(0,a.useState)(i.location),[w,k]=(0,a.useState)(i.recruiterId),[_,F]=(0,a.useState)(i.clientId),[V,Y]=(0,a.useState)([]),[B,J]=(0,a.useState)(i.minSalary),[K,Q]=(0,a.useState)(i.maxSalary),[U,X]=(0,a.useState)(!1),$=async()=>{Y(await (0,W.Gy)({path:"/users",method:"GET"}))};(0,a.useEffect)(()=>{$()},[]);let ee=async()=>{if(X(!0),!d||!_||!C){(0,L.Z)("Please fill the required fields"),X(!1);return}try{await (0,W.Gy)({path:"/jobs/manage",method:"POST",data:{_id:i._id,status:c,clientId:_,title:d,description:b,notes:f,locationType:g,location:C,recruiterId:w,minSalary:B,maxSalary:K}}),n(),X(!1)}catch(e){X(!1),(0,L.Z)(e)}};return(0,t.jsxs)(x.Z,{onClose:s,"aria-labelledby":"modal-title",open:l,fullScreen:!0,style:{width:"50%",left:"inherit"},children:[(0,t.jsx)(h.Z,{id:"modal-title",children:(0,t.jsxs)(Z.Z,{display:"flex",alignItems:"center",children:[(0,t.jsx)(Z.Z,{flexGrow:1,children:i.title?"Edit job":"Add Job"}),(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(I.Z,{onClick:s,children:(0,t.jsx)(H.Z,{})}),(0,t.jsx)(p.Z,{variant:"contained",color:"success",onClick:ee,disabled:U,children:"Save"})]})]})}),(0,t.jsxs)(u.Z,{style:{backgroundColor:"#f8f8f8"},children:[(0,t.jsx)("br",{}),(0,R.fM)({label:"Title",required:!0,renderControl:()=>(0,t.jsx)(P.Z,{value:d,onChange:e=>o(e.target.value),fullWidth:!0})}),(0,R.fM)({label:"Location",required:!0,renderControl:()=>(0,t.jsx)(P.Z,{value:C,onChange:e=>S(e.target.value),fullWidth:!0})}),(0,R.fM)({label:"Location type",renderControl:()=>(0,t.jsxs)(M.Z,{row:!0,defaultValue:"onSite",value:g,name:"radio-buttons-group",onChange:e=>{y(e.target.defaultValue)},children:[(0,t.jsx)(E.Z,{value:"OnSite",control:(0,t.jsx)(O.Z,{}),label:"On-site"}),(0,t.jsx)(E.Z,{value:"Hybrid",control:(0,t.jsx)(O.Z,{}),label:"Hybrid"}),(0,t.jsx)(E.Z,{value:"Remote",control:(0,t.jsx)(O.Z,{}),label:"Remote"})]})}),(0,R.fM)({label:"Recruiter",renderControl:()=>(0,t.jsx)(T.Z,{fullWidth:!0,defaultValue:i.recruiterId,onChange:e=>k(e.target.value),labelId:"recruiter-select-label",children:V.map(e=>(0,t.jsx)(q.Z,{value:e._id,children:e.email}))})}),(0,R.fM)({label:"Status",renderControl:()=>(0,t.jsxs)(T.Z,{labelId:"status-select-label",defaultValue:i.status,onChange:e=>j(e.target.value),fullWidth:!0,children:[(0,t.jsx)(q.Z,{value:"active",children:"Active"}),(0,t.jsx)(q.Z,{value:"lead",children:"Lead"}),(0,t.jsx)(q.Z,{value:"draft",children:"Draft"}),(0,t.jsx)(q.Z,{value:"onHold",children:"On Hold"}),(0,t.jsx)(q.Z,{value:"canceled",children:"Canceled"}),(0,t.jsx)(q.Z,{value:"filled",children:"Filled"}),(0,t.jsx)(q.Z,{value:"closed",children:"Closed"})]})}),(0,R.fM)({label:"Client",required:!0,renderControl:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:i.clientName}),(0,t.jsx)(N.Z,{onSelect:e=>F(e&&e._id)})]})}),(0,t.jsxs)(A.ZP,{container:!0,children:[(0,t.jsx)(A.ZP,{item:!0,flex:1,children:(0,t.jsx)(D.Z,{sx:{color:"#000",fontWeight:"bold"},children:"Salary range"})}),(0,t.jsxs)(A.ZP,{item:!0,flex:4,children:[(0,t.jsxs)(G.Z,{children:[(0,t.jsx)("label",{children:"Minimum"}),(0,t.jsx)(P.Z,{value:B,type:"number",onChange:e=>J(e.target.value)})]}),"  ",(0,t.jsxs)(G.Z,{children:[(0,t.jsx)("label",{children:"Maximum"}),(0,t.jsx)(P.Z,{value:K,type:"number",onChange:e=>Q(e.target.value)})]})]})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsxs)(G.Z,{fullWidth:!0,children:[(0,t.jsx)("h3",{children:"Description"}),(0,t.jsx)(z.Z,{style:{height:"300px"},value:b,onChange:e=>v(e)})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsxs)(G.Z,{fullWidth:!0,children:[(0,t.jsx)("h3",{children:"Notes"}),(0,t.jsx)(z.Z,{style:{height:"300px"},value:f,onChange:e=>m(e)})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})]})},V=s(5921),Y=s(77419),B=s(22651),J=s(20916),K=s(40044),Q=s(67720),U=s(28247),X=s(48102),$=s(82237),ee=s(68562),el=s(14818),es=s(66968);function et(e){let{children:l,value:s,index:a,...n}=e;return(0,t.jsx)("div",{role:"tabpanel",hidden:s!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a),...n,children:s===a&&(0,t.jsx)(Z.Z,{sx:{p:3},children:l})})}function ea(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var en=e=>{let{onClose:l}=e,s=(0,i.useRouter)(),{jobId:n}=s.query,[r,d]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[b,v]=a.useState(0),[p,f]=(0,a.useState)(),m=()=>{if(s.isReady){let{query:e}=s;d(!0),(0,W.Gy)({path:"/jobs/detail?_id=".concat(e.jobId),method:"GET"}).then(e=>{d(!1),e.error||f(e)})}};return((0,a.useEffect)(()=>{m()},[n]),p)?(0,t.jsxs)(x.Z,{open:!0,fullScreen:!0,maxWidth:"lg",style:{width:"45%",left:"inherit"},onClose:l,slotProps:{backdrop:{sx:{display:"none"}}},PaperProps:{sx:{pointerEvents:"auto"}},children:[(0,t.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.title}),(0,t.jsx)(I.Z,{onClick:l,sx:{marginLeft:"auto"},children:(0,t.jsx)(H.Z,{})})]}),(0,t.jsxs)(u.Z,{children:[r?(0,t.jsx)(j.Z,{}):null,(0,t.jsxs)(Z.Z,{sx:{width:"100%"},children:[(0,t.jsx)(Z.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,t.jsxs)(J.Z,{value:b,onChange:(e,l)=>{v(l)},"aria-label":"basic tabs example",children:[(0,t.jsx)(K.Z,{label:"Details",...ea(0)}),(0,t.jsx)(K.Z,{label:"Pipeline",...ea(1)}),(0,t.jsx)(K.Z,{label:"Description",...ea(2)}),(0,t.jsx)(K.Z,{label:"Notes",...ea(3)}),(0,t.jsx)(K.Z,{label:"Feed",...ea(4)}),(0,t.jsx)(K.Z,{label:"Email",...ea(5)})]})}),(0,t.jsxs)(et,{value:b,index:0,children:[(0,t.jsx)(X.Z,{job:p,onChange:()=>{m()}}),(0,t.jsx)(Q.Z,{}),(0,t.jsx)($.Z,{job:p,onChange:()=>{m()}})]}),(0,t.jsx)(et,{value:b,index:1,children:(0,t.jsx)(el.Z,{job:p,onChange:()=>{c(Math.random().toString())}})}),(0,t.jsx)(et,{value:b,index:2,children:(0,t.jsx)(ee.Z,{showTitle:!1,job:p,onChange:()=>{m()}})}),(0,t.jsx)(et,{value:b,index:3,children:(0,t.jsx)($.Z,{showTitle:!1,job:p,onChange:()=>{m()}})}),(0,t.jsx)(et,{value:b,index:4,children:(0,t.jsx)(U.Z,{jobId:n,updateHash:o})}),(0,t.jsx)(et,{value:b,index:5,children:(0,t.jsx)(es.Z,{jobId:n})})]})]})]}):null},er=s(57194);let ei=()=>{let e=(0,i.useRouter)(),l=e.query,s=l.search||"",n=l.status||"",{page:d,fetchList:c,totalCount:I,list:P}=(0,V.Z)({endpoint:"jobs/get-list/",extraParams:"&status=".concat(n,"&search=").concat(s)}),[M,E]=(0,a.useState)(),[O,T]=(0,a.useState)(!1),[q,A]=(0,a.useState)(!1),[D,G]=(0,a.useState)(null),[H,z]=(0,a.useState)(!1),[N,J]=(0,a.useState)(null),K=e=>"".concat((0,W.zH)(),"/").concat(e,"/"),Q=s=>{e.push({pathname:e.pathname,query:{...l,preview:!0,jobId:s._id}})},U=async e=>{A(!0);try{await (0,W.Gy)({path:"/jobs/manage",method:"POST",data:{action:"delete",_id:e}}),A(!1),c()}catch(e){A(!1),(0,L.Z)(e.message)}},X=async e=>{try{z(!0);let l=await (0,W.Gy)({path:"/jobs/get-observer-link",method:"POST",data:{_id:e}});z(!1),G(l.observerLink),J(l.organizationId)}catch(e){z(!1),(0,L.Z)(e.message)}};return(0,a.useEffect)(()=>{c()},[n,s]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{float:"right",display:"flex"},children:[(0,t.jsx)(Y.Z,{}),(0,t.jsx)(B.Z,{}),(0,t.jsx)(p.Z,{onClick:()=>{E(null),T(!0)},variant:"contained",sx:{marginLeft:"5px"},children:"+ Job"})]}),(0,t.jsx)("div",{style:{clear:"both",marginBottom:"10px"}}),l.preview?(0,t.jsx)(en,{onClose:()=>{e.push({pathname:e.pathname,query:{...l,preview:null,jobId:null}})}}):null,O?(0,t.jsx)(F,{open:O,job:M,onClose:()=>T(!1),onSuccess:()=>{T(!1),c()}}):null,(()=>{if(H)return(0,t.jsxs)(x.Z,{open:!0,onClose:()=>{G(null)},children:[(0,t.jsx)(h.Z,{children:"Observer link"}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(j.Z,{})})]});if(!D||!N)return null;let e="".concat(K(N),"jobs/observe/").concat(D);return(0,t.jsxs)(x.Z,{open:!0,onClose:()=>{G(null)},children:[(0,t.jsx)(h.Z,{children:"Observer link"}),(0,t.jsx)(u.Z,{children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(b.Z,{severity:"info",children:"Please share this link with your client, so they can view the job details and the list of candidates."}),(0,t.jsx)("br",{}),(0,t.jsx)(v.Z,{children:(0,t.jsx)(o(),{href:e,target:"_blank",style:{wordBreak:"break-all"},children:e})})]})})]})})(),(0,t.jsx)(f.Z,{component:m.Z,children:(0,t.jsxs)(g.Z,{size:"small",children:[(0,t.jsx)(y.Z,{children:(0,t.jsxs)(C.Z,{children:[(0,t.jsx)(S.Z,{children:"#"}),(0,t.jsx)(S.Z,{}),(0,t.jsx)(S.Z,{children:"Title"}),(0,t.jsx)(S.Z,{children:"Location"}),(0,t.jsx)(S.Z,{children:"Client"}),(0,t.jsx)(S.Z,{children:"Updated"}),(0,t.jsx)(S.Z,{children:"Status"}),(0,t.jsx)(S.Z,{})]})}),(0,t.jsx)(w.Z,{children:P.map((e,l)=>(0,t.jsxs)(C.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,t.jsx)(S.Z,{children:l+1}),(0,t.jsxs)(S.Z,{children:[(0,t.jsx)(k.Z,{color:"action",sx:{cursor:"pointer"},onClick:()=>{Q(e)}}),(0,t.jsx)(_.Z,{color:"action",sx:{cursor:"pointer"},onClick:()=>{window.open("".concat(K(e.organizationId),"carreers/jobs/").concat(e._id),"_blank")}})]}),(0,t.jsx)(S.Z,{children:(0,t.jsx)(o(),{href:"/job?id=".concat(e._id),children:e.title})}),(0,t.jsx)(S.Z,{children:e.location}),(0,t.jsx)(S.Z,{children:e.clientName}),(0,t.jsx)(S.Z,{children:e.updatedAt?r()(e.createdAt).format("MM/DD/YYYY"):null}),(0,t.jsx)(S.Z,{children:(0,R.KY)(e)}),(0,t.jsxs)(S.Z,{align:"right",children:[(0,t.jsx)(p.Z,{variant:"contained",size:"small",color:"inherit",onClick:()=>{let{minValue:l,maxValue:s}=e.estimatedSalary||{};E({...e,minSalary:l,maxSalary:s}),T(!0)},children:"Edit"})," ",(0,t.jsx)(p.Z,{variant:"contained",size:"small",color:"error",onClick:()=>{(0,er.Z)({title:"Confirmation",message:"Are you sure to delete ?",onAnswer:l=>{l&&U(e._id)}})},children:"Delete"})," ",(0,t.jsx)(p.Z,{variant:"contained",size:"small",color:"info",onClick:()=>{X(e._id)},children:"Observer link"})]})]},e._id))})]})}),(0,t.jsx)("div",{className:"clear"}),(0,R.fF)({router:e,totalCount:I,page:d,extraQueryParams:{search:s,status:n}})]})};var ed=()=>(0,t.jsx)(c.Z,{title:"Jobs",children:(0,t.jsx)(ei,{})})}}]);
//# sourceMappingURL=1472-67075c196dbe511c.js.map