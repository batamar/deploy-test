{"version":3,"file":"static/chunks/1c3f3ec3-e0e0a5d9dca6a973.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@remirror/core/dist/remirror-core.js","webpack://_N_E/<anon>"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key2, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key2) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key2, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key2, result);\n  return result;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// packages/remirror__core/src/builtins/attributes-extension.ts\nimport { object as object3 } from \"@remirror/core-helpers\";\n\n// packages/remirror__core/src/extension/extension.ts\nimport {\n  __INTERNAL_REMIRROR_IDENTIFIER_KEY__ as __INTERNAL_REMIRROR_IDENTIFIER_KEY__2,\n  ErrorConstant as ErrorConstant3,\n  ExtensionPriority as ExtensionPriority2,\n  RemirrorIdentifier as RemirrorIdentifier2\n} from \"@remirror/core-constants\";\nimport { assertGet, freeze as freeze2, invariant as invariant3, pascalCase, uniqueBy } from \"@remirror/core-helpers\";\nimport { isIdentifierOfType, isRemirrorType } from \"@remirror/core-utils\";\n\n// packages/remirror__core/src/extension/base-class.ts\nimport {\n  ErrorConstant as ErrorConstant2,\n  ExtensionPriority\n} from \"@remirror/core-constants\";\nimport {\n  deepMerge,\n  invariant as invariant2,\n  isEmptyArray,\n  isFunction,\n  keys as keys2,\n  noop,\n  object as object2,\n  omit,\n  sort\n} from \"@remirror/core-helpers\";\nimport { environment } from \"@remirror/core-utils\";\n\n// packages/remirror__core/src/helpers.ts\nimport { cx as classNames } from \"@linaria/core\";\nimport { ErrorConstant } from \"@remirror/core-constants\";\nimport { freeze, invariant, keys, object, uniqueArray } from \"@remirror/core-helpers\";\nfunction defaultEquals(valueA, valueB) {\n  return valueA === valueB;\n}\nfunction getChangedOptions(props) {\n  const { previousOptions, update, equals = defaultEquals } = props;\n  const next = freeze({ ...previousOptions, ...update });\n  const changes = object();\n  const optionKeys = keys(previousOptions);\n  for (const key2 of optionKeys) {\n    const previousValue = previousOptions[key2];\n    const value = next[key2];\n    if (equals(previousValue, value)) {\n      changes[key2] = { changed: false };\n      continue;\n    }\n    changes[key2] = { changed: true, previousValue, value };\n  }\n  const pickChanged = (keys3) => {\n    const picked = object();\n    for (const key2 of keys3) {\n      const item = changes[key2];\n      if (item == null ? void 0 : item.changed) {\n        picked[key2] = item.value;\n      }\n    }\n    return picked;\n  };\n  return { changes: freeze(changes), options: next, pickChanged };\n}\nvar codeLabelMap = {\n  [ErrorConstant.DUPLICATE_HELPER_NAMES]: \"helper method\",\n  [ErrorConstant.DUPLICATE_COMMAND_NAMES]: \"command method\"\n};\nfunction throwIfNameNotUnique(props) {\n  const { name, set, code } = props;\n  const label = codeLabelMap[code];\n  invariant(!set.has(name), {\n    code,\n    message: `There is a naming conflict for the name: ${name} used in this '${label}'. Please rename or remove from the editor to avoid runtime errors.`\n  });\n  set.add(name);\n}\nfunction cx(...classes) {\n  return uniqueArray(classNames(...classes).split(\" \")).join(\" \");\n}\n\n// packages/remirror__core/src/extension/base-class.ts\nvar IGNORE = \"__IGNORE__\";\nvar GENERAL_OPTIONS = \"__ALL__\";\nvar BaseClass = class {\n  constructor(defaultOptions2, ...[options]) {\n    /**\n     * This is not for external use. It is purely here for TypeScript inference of\n     * the generic `Options` type parameter.\n     *\n     * @internal\n     */\n    this[\"~O\"] = {};\n    this._mappedHandlers = object2();\n    this.populateMappedHandlers();\n    this._options = this._initialOptions = deepMerge(\n      defaultOptions2,\n      this.constructor.defaultOptions,\n      options ?? object2(),\n      this.createDefaultHandlerOptions()\n    );\n    this._dynamicKeys = this.getDynamicKeys();\n    this.init();\n  }\n  /**\n   * The options for this extension.\n   *\n   * @remarks\n   *\n   * Options are composed of Static, Dynamic, Handlers and ObjectHandlers.\n   *\n   * - `Static` - set at instantiation by the constructor.\n   * - `Dynamic` - optionally set at instantiation by the constructor and also\n   *   set during the runtime.\n   * - `Handlers` - can only be set during the runtime.\n   * - `ObjectHandlers` - Can only be set during the runtime of the extension.\n   */\n  get options() {\n    return this._options;\n  }\n  /**\n   * Get the dynamic keys for this extension.\n   */\n  get dynamicKeys() {\n    return this._dynamicKeys;\n  }\n  /**\n   * The options that this instance was created with, merged with all the\n   * default options.\n   */\n  get initialOptions() {\n    return this._initialOptions;\n  }\n  /**\n   * This method is called by the extension constructor. It is not strictly a\n   * lifecycle method since at this point the manager has not yet been\n   * instantiated.\n   *\n   * @remarks\n   *\n   * It should be used instead of overriding the constructor which is strongly\n   * advised against.\n   *\n   * There are some limitations when using this method.\n   *\n   * - Accessing `this.store` will throw an error since the manager hasn't been\n   *   created and it hasn't yet been attached to the extensions.\n   * - `this.type` in `NodeExtension` and `MarkExtension` will also throw an\n   *   error since the schema hasn't been created yet.\n   *\n   * You should use this to setup any instance properties with the options\n   * provided to the extension.\n   */\n  init() {\n  }\n  /**\n   * Get the dynamic keys for this extension.\n   */\n  getDynamicKeys() {\n    const dynamicKeys = [];\n    const { customHandlerKeys, handlerKeys, staticKeys } = this.constructor;\n    for (const key2 of keys2(this._options)) {\n      if (staticKeys.includes(key2) || handlerKeys.includes(key2) || customHandlerKeys.includes(key2)) {\n        continue;\n      }\n      dynamicKeys.push(key2);\n    }\n    return dynamicKeys;\n  }\n  /**\n   * Throw an error if non dynamic keys are updated.\n   */\n  ensureAllKeysAreDynamic(update) {\n    if (environment.isProduction) {\n      return;\n    }\n    const invalid = [];\n    for (const key2 of keys2(update)) {\n      if (this._dynamicKeys.includes(key2)) {\n        continue;\n      }\n      invalid.push(key2);\n    }\n    invariant2(isEmptyArray(invalid), {\n      code: ErrorConstant2.INVALID_SET_EXTENSION_OPTIONS,\n      message: `Invalid properties passed into the 'setOptions()' method: ${JSON.stringify(\n        invalid\n      )}.`\n    });\n  }\n  /**\n   * Update the properties with the provided partial value when changed.\n   */\n  setOptions(update) {\n    var _a;\n    const previousOptions = this.getDynamicOptions();\n    this.ensureAllKeysAreDynamic(update);\n    const { changes, options, pickChanged } = getChangedOptions({\n      previousOptions,\n      update\n    });\n    this.updateDynamicOptions(options);\n    (_a = this.onSetOptions) == null ? void 0 : _a.call(this, {\n      reason: \"set\",\n      changes,\n      options,\n      pickChanged,\n      initialOptions: this._initialOptions\n    });\n  }\n  /**\n   * Reset the extension properties to their default values.\n   *\n   * @nonVirtual\n   */\n  resetOptions() {\n    var _a;\n    const previousOptions = this.getDynamicOptions();\n    const { changes, options, pickChanged } = getChangedOptions({\n      previousOptions,\n      update: this._initialOptions\n    });\n    this.updateDynamicOptions(options);\n    (_a = this.onSetOptions) == null ? void 0 : _a.call(this, {\n      reason: \"reset\",\n      options,\n      changes,\n      pickChanged,\n      initialOptions: this._initialOptions\n    });\n  }\n  /**\n   * Update the private options.\n   */\n  getDynamicOptions() {\n    return omit(this._options, [\n      ...this.constructor.customHandlerKeys,\n      ...this.constructor.handlerKeys\n    ]);\n  }\n  /**\n   * Update the dynamic options.\n   */\n  updateDynamicOptions(options) {\n    this._options = { ...this._options, ...options };\n  }\n  /**\n   * Set up the mapped handlers object with default values (an empty array);\n   */\n  populateMappedHandlers() {\n    for (const key2 of this.constructor.handlerKeys) {\n      this._mappedHandlers[key2] = [];\n    }\n  }\n  /**\n   * This is currently fudged together, I'm not sure it will work.\n   */\n  createDefaultHandlerOptions() {\n    const methods = object2();\n    for (const key2 of this.constructor.handlerKeys) {\n      methods[key2] = (...args) => {\n        var _a;\n        const { handlerKeyOptions } = this.constructor;\n        const reducer = (_a = handlerKeyOptions[key2]) == null ? void 0 : _a.reducer;\n        let returnValue = reducer == null ? void 0 : reducer.getDefault(...args);\n        for (const [, handler] of this._mappedHandlers[key2]) {\n          const value = handler(...args);\n          returnValue = reducer ? reducer.accumulator(returnValue, value, ...args) : value;\n          if (shouldReturnEarly(handlerKeyOptions, returnValue, key2)) {\n            return returnValue;\n          }\n        }\n        return returnValue;\n      };\n    }\n    return methods;\n  }\n  /**\n   * Add a handler to the event handlers so that it is called along with all the\n   * other handler methods.\n   *\n   * This is helpful for integrating react hooks which can be used in multiple\n   * places. The original problem with fixed properties is that you can only\n   * assign to a method once and it overwrites any other methods. This pattern\n   * for adding handlers allows for multiple usages of the same handler in the\n   * most relevant part of the code.\n   *\n   * More to come on this pattern.\n   *\n   * @nonVirtual\n   */\n  addHandler(key2, method, priority = ExtensionPriority.Default) {\n    this._mappedHandlers[key2].push([priority, method]);\n    this.sortHandlers(key2);\n    return () => this._mappedHandlers[key2] = this._mappedHandlers[key2].filter(\n      ([, handler]) => handler !== method\n    );\n  }\n  /**\n   * Determines if handlers exist for the given key.\n   *\n   * Checking the existence of a handler property directly gives wrong results.\n   * `this.options.onHandlerName` is always truthy because it is a reference to\n   * the wrapper function that calls each handler.\n   *\n   * ```ts\n   *\n   * // GOOD \n   * if (!this.hasHandlers('onHandlerName')) {\n   *   return;\n   * }\n   *\n   * // BAD \n   * if (!this.options.onHandlerName) {\n   *   return;\n   * }\n   * ```\n   *\n   * @param key The handler to test\n   */\n  hasHandlers(key2) {\n    return (this._mappedHandlers[key2] ?? []).length > 0;\n  }\n  sortHandlers(key2) {\n    this._mappedHandlers[key2] = sort(\n      this._mappedHandlers[key2],\n      // Sort from highest binding to the lowest.\n      ([a], [z]) => z - a\n    );\n  }\n  /**\n   * A method that can be used to add a custom handler. It is up to the\n   * extension creator to manage the handlers and dispose methods.\n   */\n  addCustomHandler(key2, value) {\n    var _a;\n    return ((_a = this.onAddCustomHandler) == null ? void 0 : _a.call(this, { [key2]: value })) ?? noop;\n  }\n};\n/**\n * The default options for this extension.\n *\n * TODO see if this can be cast to something other than any and allow\n * composition.\n */\nBaseClass.defaultOptions = {};\n/**\n * The static keys for this class.\n */\nBaseClass.staticKeys = [];\n/**\n * The event handler keys.\n */\nBaseClass.handlerKeys = [];\n/**\n * Customize the way the handler should behave.\n */\nBaseClass.handlerKeyOptions = {};\n/**\n * The custom keys.\n */\nBaseClass.customHandlerKeys = [];\nfunction shouldReturnEarly(handlerKeyOptions, returnValue, handlerKey) {\n  const { [GENERAL_OPTIONS]: generalOptions } = handlerKeyOptions;\n  const handlerOptions = handlerKeyOptions[handlerKey];\n  if (!generalOptions && !handlerOptions) {\n    return false;\n  }\n  if (handlerOptions && // Only proceed if the value should not be ignored.\n  handlerOptions.earlyReturnValue !== IGNORE && (isFunction(handlerOptions.earlyReturnValue) ? handlerOptions.earlyReturnValue(returnValue) === true : returnValue === handlerOptions.earlyReturnValue)) {\n    return true;\n  }\n  if (generalOptions && // Only proceed if they are not ignored.\n  generalOptions.earlyReturnValue !== IGNORE && // Check whether the `earlyReturnValue` is a predicate check.\n  (isFunction(generalOptions.earlyReturnValue) ? (\n    // If it is a predicate and when called with the current\n    // `returnValue` the value is `true` then we should return\n    // early.\n    generalOptions.earlyReturnValue(returnValue) === true\n  ) : (\n    // Check the actual return value.\n    returnValue === generalOptions.earlyReturnValue\n  ))) {\n    return true;\n  }\n  return false;\n}\n\n// packages/remirror__core/src/extension/extension.ts\nvar Extension = class extends BaseClass {\n  constructor(...args) {\n    super(defaultOptions, ...args);\n    /**\n     * Not for usage. This is purely for types to make it easier to infer\n     * available sub extension types.\n     *\n     * @internal\n     */\n    this[\"~E\"] = {};\n    this._extensions = uniqueBy(\n      this.createExtensions(),\n      // Ensure that all the provided extensions are unique.\n      (extension2) => extension2.constructor\n    );\n    this.extensionMap = /* @__PURE__ */ new Map();\n    for (const extension2 of this._extensions) {\n      this.extensionMap.set(extension2.constructor, extension2);\n    }\n  }\n  /**\n   * The priority level for this instance of the extension. A higher value\n   * corresponds to a higher priority extension\n   */\n  get priority() {\n    return this.priorityOverride ?? this.options.priority ?? this.constructor.defaultPriority;\n  }\n  /**\n   * The name that the constructor should have, which doesn't get mangled in\n   * production.\n   */\n  get constructorName() {\n    return `${pascalCase(this.name)}Extension`;\n  }\n  /**\n   * The store is a shared object that's internal to each extension. It includes\n   * often used items like the `view` and `schema` that are added by the\n   * extension manager and also the lifecycle extension methods.\n   *\n   * **NOTE** - The store is not available until the manager has been created\n   * and received the extension. As a result trying to access the store during\n   * `init` and `constructor` will result in a runtime error.\n   *\n   * Some properties of the store are available at different phases. You should\n   * check the inline documentation to know when a certain property is useable\n   * in your extension.\n   */\n  get store() {\n    invariant3(this._store, {\n      code: ErrorConstant3.MANAGER_PHASE_ERROR,\n      message: `An error occurred while attempting to access the 'extension.store' when the Manager has not yet set created the lifecycle methods.`\n    });\n    return freeze2(this._store, { requireKeys: true });\n  }\n  /**\n   * The list of extensions added to the editor by this `Preset`.\n   */\n  get extensions() {\n    return this._extensions;\n  }\n  /**\n   * When there are duplicate extensions used within the editor the extension\n   * manager will call this method and make sure all extension holders are using\n   * the same instance of the `ExtensionConstructor`.\n   *\n   * @internal\n   */\n  replaceChildExtension(constructor, extension2) {\n    if (!this.extensionMap.has(constructor)) {\n      return;\n    }\n    this.extensionMap.set(constructor, extension2);\n    this._extensions = this.extensions.map(\n      (currentExtension) => extension2.constructor === constructor ? extension2 : currentExtension\n    );\n  }\n  /**\n   * Create the extensions which will be consumed by the preset. Override this\n   * if you would like to make your extension a parent to other (holder)\n   * extensions which don't make sense existing outside of the context of this\n   * extension.\n   *\n   * @remarks\n   *\n   * Since this method is called in the constructor it should always be created\n   * as an instance method and not a property. Properties aren't available for\n   * the call to the parent class.\n   *\n   * ```ts\n   * class HolderExtension extends PlainExtension {\n   *   get name() {\n   *     return 'holder'\n   *   }\n   *\n   *   // GOOD \n   *   createExtensions() {\n   *     return [];\n   *   }\n   *\n   *   // BAD \n   *   createExtensions = () => {\n   *     return [];\n   *   }\n   * }\n   * ```\n   */\n  createExtensions() {\n    return [];\n  }\n  /**\n   * Get an extension from this holder extension by providing the desired\n   * `Constructor`.\n   *\n   * @param Constructor - the extension constructor to find in the editor.\n   *\n   * @remarks\n   *\n   * This method will throw an error if the constructor doesn't exist within the\n   * extension created by this extension.\n   *\n   * It can be used to forward options and attach handlers to the children\n   * extensions. It is the spiritual replacement of the `Preset` extension.\n   *\n   * ```ts\n   * import { PlainExtension, OnSetOptionsProps } from 'remirror';\n   *\n   * interface ParentOptions { weight?: string }\n   *\n   * class ParentExtension extends PlainExtension<ParentOptions> {\n   *   get name() {\n   *     return 'parent' as const;\n   *   }\n   *\n   *   createExtensions() {\n   *     return [new BoldExtension()]\n   *   }\n   *\n   *   onSetOptions(options: OnSetOptionsProps<ParentOptions>): void {\n   *     if (options.changes.weight.changed) {\n   *       // Update the value of the provided extension.\n   *       this.getExtension(BoldExtension).setOption({ weight: options.changes.weight.value });\n   *     }\n   *   }\n   * }\n   * ```\n   */\n  getExtension(Constructor) {\n    const extension2 = this.extensionMap.get(Constructor);\n    invariant3(extension2, {\n      code: ErrorConstant3.INVALID_GET_EXTENSION,\n      message: `'${Constructor.name}' does not exist within the preset: '${this.name}'`\n    });\n    return extension2;\n  }\n  /**\n   * Check if the type of this extension's constructor matches the type of the\n   * provided constructor.\n   */\n  isOfType(Constructor) {\n    return this.constructor === Constructor;\n  }\n  /**\n   * Pass a reference to the globally shared `ExtensionStore` for this\n   * extension.\n   *\n   * @remarks\n   *\n   * The extension store allows extensions to access important variables without\n   * complicating their creator methods.\n   *\n   * ```ts\n   * import { PlainExtension } from 'remirror';\n   *\n   * class Awesome extends PlainExtension {\n   *   customMethod() {\n   *     if (this.store.view.hasFocus()) {\n   *       log('dance dance dance');\n   *     }\n   *   }\n   * }\n   * ```\n   *\n   * This should only be called by the `RemirrorManager`.\n   *\n   * @internal\n   * @nonVirtual\n   */\n  setStore(store) {\n    if (this._store) {\n      return;\n    }\n    this._store = store;\n  }\n  /**\n   * Clone an extension.\n   */\n  clone(...args) {\n    return new this.constructor(...args);\n  }\n  /**\n   * Set the priority override for this extension. This is used in the\n   * `RemirrorManager` in order to override the priority of an extension.\n   *\n   * If you set the first parameter to `undefined` it will remove the priority\n   * override.\n   *\n   * @internal\n   */\n  setPriority(priority) {\n    this.priorityOverride = priority;\n  }\n};\n/**\n * The default priority for this family of extensions.\n */\nExtension.defaultPriority = ExtensionPriority2.Default;\nvar PlainExtension = class extends Extension {\n  /** @internal */\n  static get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__2]() {\n    return RemirrorIdentifier2.PlainExtensionConstructor;\n  }\n  /** @internal */\n  get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__2]() {\n    return RemirrorIdentifier2.PlainExtension;\n  }\n};\nvar MarkExtension = class extends Extension {\n  /** @internal */\n  static get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__2]() {\n    return RemirrorIdentifier2.MarkExtensionConstructor;\n  }\n  /** @internal */\n  get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__2]() {\n    return RemirrorIdentifier2.MarkExtension;\n  }\n  /**\n   * Provides access to the mark type from the schema.\n   *\n   * @remarks\n   *\n   * The type is available as soon as the schema is created by the\n   * `SchemaExtension` which has the priority `Highest`. It should be safe to\n   * access in any of the lifecycle methods.\n   */\n  get type() {\n    return assertGet(this.store.schema.marks, this.name);\n  }\n  constructor(...args) {\n    super(...args);\n  }\n};\n/**\n * Whether to disable extra attributes for this extension.\n */\nMarkExtension.disableExtraAttributes = false;\nvar NodeExtension = class extends Extension {\n  static get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__2]() {\n    return RemirrorIdentifier2.NodeExtensionConstructor;\n  }\n  /** @internal */\n  get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__2]() {\n    return RemirrorIdentifier2.NodeExtension;\n  }\n  /**\n   * Provides access to the node type from the schema.\n   */\n  get type() {\n    return assertGet(this.store.schema.nodes, this.name);\n  }\n  constructor(...args) {\n    super(...args);\n  }\n};\n/**\n * Whether to disable extra attributes for this extension.\n */\nNodeExtension.disableExtraAttributes = false;\nvar defaultOptions = {\n  priority: void 0,\n  extraAttributes: {},\n  disableExtraAttributes: false,\n  exclude: {}\n};\nfunction mutateDefaultExtensionOptions(mutatorMethod) {\n  mutatorMethod(defaultOptions);\n}\nfunction isExtension(value) {\n  return isRemirrorType(value) && isIdentifierOfType(value, [\n    RemirrorIdentifier2.PlainExtension,\n    RemirrorIdentifier2.MarkExtension,\n    RemirrorIdentifier2.NodeExtension\n  ]);\n}\nfunction isExtensionConstructor(value) {\n  return isRemirrorType(value) && isIdentifierOfType(value, [\n    RemirrorIdentifier2.PlainExtensionConstructor,\n    RemirrorIdentifier2.MarkExtensionConstructor,\n    RemirrorIdentifier2.NodeExtensionConstructor\n  ]);\n}\nfunction isPlainExtension(value) {\n  return isRemirrorType(value) && isIdentifierOfType(value, RemirrorIdentifier2.PlainExtension);\n}\nfunction isNodeExtension(value) {\n  return isRemirrorType(value) && isIdentifierOfType(value, RemirrorIdentifier2.NodeExtension);\n}\nfunction isMarkExtension(value) {\n  return isRemirrorType(value) && isIdentifierOfType(value, RemirrorIdentifier2.MarkExtension);\n}\n\n// packages/remirror__core/src/extension/extension-decorator.ts\nimport { Cast } from \"@remirror/core-helpers\";\nfunction extension(options) {\n  return (ReadonlyConstructor) => {\n    const {\n      defaultOptions: defaultOptions2,\n      customHandlerKeys,\n      handlerKeys,\n      staticKeys,\n      defaultPriority,\n      handlerKeyOptions,\n      ...rest\n    } = options;\n    const Constructor = Cast(ReadonlyConstructor);\n    if (defaultOptions2) {\n      Constructor.defaultOptions = defaultOptions2;\n    }\n    if (defaultPriority) {\n      Constructor.defaultPriority = defaultPriority;\n    }\n    if (handlerKeyOptions) {\n      Constructor.handlerKeyOptions = handlerKeyOptions;\n    }\n    Constructor.staticKeys = staticKeys ?? [];\n    Constructor.handlerKeys = handlerKeys ?? [];\n    Constructor.customHandlerKeys = customHandlerKeys ?? [];\n    for (const [key2, value] of Object.entries(rest)) {\n      if (Constructor[key2]) {\n        continue;\n      }\n      Constructor[key2] = value;\n    }\n    return Cast(Constructor);\n  };\n}\nvar extensionDecorator = extension;\n\n// packages/remirror__core/src/builtins/attributes-extension.ts\nvar AttributesExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    this.attributeList = [];\n    this.attributeObject = object3();\n    this.updateAttributes = (triggerUpdate = true) => {\n      this.transformAttributes();\n      if (triggerUpdate) {\n        this.store.commands.forceUpdate(\"attributes\");\n      }\n    };\n  }\n  get name() {\n    return \"attributes\";\n  }\n  /**\n   * Create the attributes object on initialization.\n   *\n   * @internal\n   */\n  onCreate() {\n    this.transformAttributes();\n    this.store.setExtensionStore(\"updateAttributes\", this.updateAttributes);\n  }\n  transformAttributes() {\n    var _a, _b, _c;\n    this.attributeObject = object3();\n    if ((_a = this.store.managerSettings.exclude) == null ? void 0 : _a.attributes) {\n      this.store.setStoreKey(\"attributes\", this.attributeObject);\n      return;\n    }\n    this.attributeList = [];\n    for (const extension2 of this.store.extensions) {\n      if ((_b = extension2.options.exclude) == null ? void 0 : _b.attributes) {\n        continue;\n      }\n      const createdAttributes = (_c = extension2.createAttributes) == null ? void 0 : _c.call(extension2);\n      const attributes = {\n        ...createdAttributes,\n        class: cx(...extension2.classNames ?? [], createdAttributes == null ? void 0 : createdAttributes.class)\n      };\n      this.attributeList.unshift(attributes);\n    }\n    for (const attributes of this.attributeList) {\n      this.attributeObject = {\n        ...this.attributeObject,\n        ...attributes,\n        class: cx(this.attributeObject.class, attributes.class)\n      };\n    }\n    this.store.setStoreKey(\"attributes\", this.attributeObject);\n  }\n};\n\n// packages/remirror__core/src/builtins/builtin-decorators.ts\nfunction helper(options = {}) {\n  return (target, propertyKey, _descriptor) => {\n    (target.decoratedHelpers ?? (target.decoratedHelpers = {}))[propertyKey] = options;\n  };\n}\nfunction command(options = {}) {\n  return (target, propertyKey, _descriptor) => {\n    (target.decoratedCommands ?? (target.decoratedCommands = {}))[propertyKey] = options;\n  };\n}\nfunction keyBinding(options) {\n  return (target, propertyKey, _descriptor) => {\n    (target.decoratedKeybindings ?? (target.decoratedKeybindings = {}))[propertyKey] = options;\n  };\n}\n\n// packages/remirror__core/src/builtins/builtin-preset.ts\nimport { pick } from \"@remirror/core-helpers\";\n\n// packages/remirror__core/src/builtins/commands-extension.ts\nimport { ErrorConstant as ErrorConstant5, ExtensionPriority as ExtensionPriority3, NamedShortcut } from \"@remirror/core-constants\";\nimport {\n  entries as entries2,\n  invariant as invariant5,\n  isEmptyArray as isEmptyArray2,\n  isEmptyObject,\n  isString as isString2,\n  object as object4,\n  uniqueArray as uniqueArray2\n} from \"@remirror/core-helpers\";\nimport {\n  environment as environment2,\n  getMarkRange,\n  getTextSelection as getTextSelection2,\n  htmlToProsemirrorNode,\n  isEmptyBlockNode,\n  isProsemirrorFragment,\n  isProsemirrorNode,\n  isTextSelection,\n  removeMark,\n  replaceText,\n  setBlockType,\n  toggleBlockItem,\n  toggleWrap,\n  wrapIn\n} from \"@remirror/core-utils\";\nimport { CoreMessages as Messages } from \"@remirror/messages\";\nimport { Mark } from \"@remirror/pm/model\";\nimport { TextSelection } from \"@remirror/pm/state\";\n\n// packages/remirror__core/src/commands.ts\nimport { ErrorConstant as ErrorConstant4 } from \"@remirror/core-constants\";\nimport {\n  assertGet as assertGet2,\n  entries,\n  invariant as invariant4,\n  isFunction as isFunction2,\n  isPromise,\n  isString\n} from \"@remirror/core-helpers\";\nimport { convertCommand, getCursor, getTextSelection, isMarkActive } from \"@remirror/core-utils\";\nimport { toggleMark as originalToggleMark } from \"@remirror/pm/commands\";\nfunction isDelayedValue(value) {\n  return isFunction2(value) || isPromise(value);\n}\nfunction delayedCommand({\n  immediate,\n  promise,\n  onDone,\n  onFail\n}) {\n  return (props) => {\n    const { view } = props;\n    if ((immediate == null ? void 0 : immediate(props)) === false) {\n      return false;\n    }\n    if (!view) {\n      return true;\n    }\n    const deferred = isFunction2(promise) ? promise() : promise;\n    deferred.then((value) => {\n      onDone({ state: view.state, tr: view.state.tr, dispatch: view.dispatch, view, value });\n    }).catch(() => {\n      onFail == null ? void 0 : onFail({ state: view.state, tr: view.state.tr, dispatch: view.dispatch, view });\n    });\n    return true;\n  };\n}\nvar DelayedCommand = class {\n  constructor(promiseCreator) {\n    this.promiseCreator = promiseCreator;\n    this.failureHandlers = [];\n    this.successHandlers = [];\n    this.validateHandlers = [];\n    /**\n     * Generate the `remirror` command.\n     */\n    this.generateCommand = () => (props) => {\n      let isValid = true;\n      const { view, tr, dispatch } = props;\n      if (!view) {\n        return false;\n      }\n      for (const handler of this.validateHandlers) {\n        if (!handler({ ...props, dispatch: () => {\n        } })) {\n          isValid = false;\n          break;\n        }\n      }\n      if (!dispatch || !isValid) {\n        return isValid;\n      }\n      const deferred = this.promiseCreator(props);\n      deferred.then((value) => {\n        this.runHandlers(this.successHandlers, {\n          value,\n          state: view.state,\n          tr: view.state.tr,\n          dispatch: view.dispatch,\n          view\n        });\n      }).catch((error) => {\n        this.runHandlers(this.failureHandlers, {\n          error,\n          state: view.state,\n          tr: view.state.tr,\n          dispatch: view.dispatch,\n          view\n        });\n      });\n      dispatch(tr);\n      return true;\n    };\n  }\n  /**\n   * The commands that will immediately be run and used to evaluate whether to\n   * proceed.\n   */\n  validate(handler, method = \"push\") {\n    this.validateHandlers[method](handler);\n    return this;\n  }\n  /**\n   * Add a success callback to the handler.\n   */\n  success(handler, method = \"push\") {\n    this.successHandlers[method](handler);\n    return this;\n  }\n  /**\n   * Add a failure callback to the handler.\n   */\n  failure(handler, method = \"push\") {\n    this.failureHandlers[method](handler);\n    return this;\n  }\n  runHandlers(handlers, param) {\n    var _a;\n    for (const handler of handlers) {\n      if (!handler({ ...param, dispatch: () => {\n      } })) {\n        break;\n      }\n    }\n    (_a = param.dispatch) == null ? void 0 : _a.call(param, param.tr);\n  }\n};\nfunction toggleMark(props) {\n  const { type, attrs, range, selection } = props;\n  return (props2) => {\n    const { dispatch, tr, state } = props2;\n    const markType = isString(type) ? state.schema.marks[type] : type;\n    invariant4(markType, {\n      code: ErrorConstant4.SCHEMA,\n      message: `Mark type: ${type} does not exist on the current schema.`\n    });\n    if (range || selection) {\n      const { from, to } = getTextSelection(selection ?? range ?? tr.selection, tr.doc);\n      isMarkActive({ trState: tr, type, ...range }) ? dispatch == null ? void 0 : dispatch(tr.removeMark(from, to, markType)) : dispatch == null ? void 0 : dispatch(tr.addMark(from, to, markType.create(attrs)));\n      return true;\n    }\n    return convertCommand(originalToggleMark(markType, attrs))(props2);\n  };\n}\nfunction markApplies(type, doc, ranges) {\n  for (const { $from, $to } of ranges) {\n    let markIsAllowed = $from.depth === 0 ? doc.type.allowsMarkType(type) : false;\n    doc.nodesBetween($from.pos, $to.pos, (node) => {\n      if (markIsAllowed) {\n        return false;\n      }\n      markIsAllowed = node.inlineContent && node.type.allowsMarkType(type);\n      return;\n    });\n    if (markIsAllowed) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction applyMark(type, attrs, selectionPoint) {\n  return ({ tr, dispatch, state }) => {\n    const selection = getTextSelection(selectionPoint ?? tr.selection, tr.doc);\n    const $cursor = getCursor(selection);\n    const markType = isString(type) ? state.schema.marks[type] : type;\n    invariant4(markType, {\n      code: ErrorConstant4.SCHEMA,\n      message: `Mark type: ${type} does not exist on the current schema.`\n    });\n    if (selection.empty && !$cursor || !markApplies(markType, tr.doc, selection.ranges)) {\n      return false;\n    }\n    if (!dispatch) {\n      return true;\n    }\n    if ($cursor) {\n      tr.removeStoredMark(markType);\n      if (attrs) {\n        tr.addStoredMark(markType.create(attrs));\n      }\n      dispatch(tr);\n      return true;\n    }\n    let containsMark = false;\n    for (const { $from, $to } of selection.ranges) {\n      if (containsMark) {\n        break;\n      }\n      containsMark = tr.doc.rangeHasMark($from.pos, $to.pos, markType);\n    }\n    for (const { $from, $to } of selection.ranges) {\n      if (containsMark) {\n        tr.removeMark($from.pos, $to.pos, markType);\n      }\n      if (attrs) {\n        tr.addMark($from.pos, $to.pos, markType.create(attrs));\n      }\n    }\n    dispatch(tr);\n    return true;\n  };\n}\nfunction insertText(text, options = {}) {\n  return ({ tr, dispatch, state }) => {\n    const schema = state.schema;\n    const selection = tr.selection;\n    const { from = selection.from, to = from ?? selection.to, marks = {} } = options;\n    if (!dispatch) {\n      return true;\n    }\n    tr.insertText(text, from, to);\n    const end = assertGet2(tr.steps, tr.steps.length - 1).getMap().map(to);\n    for (const [markName, attributes] of entries(marks)) {\n      tr.addMark(from, end, assertGet2(schema.marks, markName).create(attributes));\n    }\n    dispatch(tr);\n    return true;\n  };\n}\n\n// packages/remirror__core/src/builtins/commands-extension.ts\nvar CommandsExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * Track the decorated command data.\n     */\n    this.decorated = /* @__PURE__ */ new Map();\n    /**\n     * A helper for forcing through updates in the view layer. The view layer can\n     * check for the meta data of the transaction with\n     * `manager.store.getForcedUpdate(tr)`. If that has a value then it should use\n     * the unique symbol to update the key.\n     */\n    this.forceUpdateTransaction = (tr, ...keys3) => {\n      const { forcedUpdates } = this.getCommandMeta(tr);\n      this.setCommandMeta(tr, { forcedUpdates: uniqueArray2([...forcedUpdates, ...keys3]) });\n      return tr;\n    };\n  }\n  get name() {\n    return \"commands\";\n  }\n  /**\n   * The current transaction which allows for making commands chainable.\n   *\n   * It is shared by all the commands helpers and can even be used in the\n   * [[`KeymapExtension`]].\n   *\n   * @internal\n   */\n  get transaction() {\n    const state = this.store.getState();\n    if (!this._transaction) {\n      this._transaction = state.tr;\n    }\n    const isValid = this._transaction.before.eq(state.doc);\n    const hasSteps = !isEmptyArray2(this._transaction.steps);\n    if (!isValid) {\n      const tr = state.tr;\n      if (hasSteps) {\n        for (const step of this._transaction.steps) {\n          tr.step(step);\n        }\n      }\n      this._transaction = tr;\n    }\n    return this._transaction;\n  }\n  onCreate() {\n    this.store.setStoreKey(\"getForcedUpdates\", this.getForcedUpdates.bind(this));\n  }\n  /**\n   * Attach commands once the view is attached.\n   */\n  onView(view) {\n    var _a;\n    const { extensions, helpers } = this.store;\n    const commands = object4();\n    const names = /* @__PURE__ */ new Set();\n    let allDecoratedCommands = object4();\n    const chain = (tr) => {\n      var _a2;\n      const customChain = object4();\n      const getTr = () => tr ?? this.transaction;\n      let commandChain = [];\n      const getChain = () => commandChain;\n      for (const [name, command2] of Object.entries(commands)) {\n        if ((_a2 = allDecoratedCommands[name]) == null ? void 0 : _a2.disableChaining) {\n          continue;\n        }\n        customChain[name] = this.chainedFactory({\n          chain: customChain,\n          command: command2.original,\n          getTr,\n          getChain\n        });\n      }\n      const dispatch = (transaction) => {\n        invariant5(transaction === getTr(), {\n          message: \"Chaining currently only supports `CommandFunction` methods which do not use the `state.tr` property. Instead you should use the provided `tr` property.\"\n        });\n      };\n      customChain.run = (options = {}) => {\n        const commands2 = commandChain;\n        commandChain = [];\n        for (const cmd of commands2) {\n          if (!cmd(dispatch) && options.exitEarly) {\n            return;\n          }\n        }\n        view.dispatch(getTr());\n      };\n      customChain.tr = () => {\n        const commands2 = commandChain;\n        commandChain = [];\n        for (const cmd of commands2) {\n          cmd(dispatch);\n        }\n        return getTr();\n      };\n      customChain.enabled = () => {\n        for (const cmd of commandChain) {\n          if (!cmd()) {\n            return false;\n          }\n        }\n        return true;\n      };\n      customChain.new = (tr2) => {\n        return chain(tr2);\n      };\n      return customChain;\n    };\n    for (const extension2 of extensions) {\n      const extensionCommands = ((_a = extension2.createCommands) == null ? void 0 : _a.call(extension2)) ?? {};\n      const decoratedCommands = extension2.decoratedCommands ?? {};\n      const active = {};\n      allDecoratedCommands = { ...allDecoratedCommands, decoratedCommands };\n      for (const [commandName, options] of Object.entries(decoratedCommands)) {\n        const shortcut = isString2(options.shortcut) && options.shortcut.startsWith(\"_|\") ? { shortcut: helpers.getNamedShortcut(options.shortcut, extension2.options) } : void 0;\n        this.updateDecorated(commandName, { ...options, name: extension2.name, ...shortcut });\n        extensionCommands[commandName] = extension2[commandName].bind(extension2);\n        if (options.active) {\n          active[commandName] = () => {\n            var _a2;\n            return ((_a2 = options.active) == null ? void 0 : _a2.call(options, extension2.options, this.store)) ?? false;\n          };\n        }\n      }\n      if (isEmptyObject(extensionCommands)) {\n        continue;\n      }\n      this.addCommands({ active, names, commands, extensionCommands });\n    }\n    const chainProperty = chain();\n    for (const [key2, command2] of Object.entries(chainProperty)) {\n      chain[key2] = command2;\n    }\n    this.store.setStoreKey(\"commands\", commands);\n    this.store.setStoreKey(\"chain\", chain);\n    this.store.setExtensionStore(\"commands\", commands);\n    this.store.setExtensionStore(\"chain\", chain);\n  }\n  /**\n   * Update the cached transaction whenever the state is updated.\n   */\n  onStateUpdate({ state }) {\n    this._transaction = state.tr;\n  }\n  /**\n   * Create a plugin that solely exists to track forced updates via the\n   * generated plugin key.\n   */\n  createPlugin() {\n    return {};\n  }\n  customDispatch(command2) {\n    return command2;\n  }\n  insertText(text, options = {}) {\n    if (isString2(text)) {\n      return insertText(text, options);\n    }\n    return this.store.createPlaceholderCommand({\n      promise: text,\n      placeholder: { type: \"inline\" },\n      onSuccess: (value, range, props) => this.insertText(value, { ...options, ...range })(props)\n    }).generateCommand();\n  }\n  selectText(selection, options = {}) {\n    return ({ tr, dispatch }) => {\n      const textSelection = getTextSelection2(selection, tr.doc);\n      const selectionUnchanged = tr.selection.anchor === textSelection.anchor && tr.selection.head === textSelection.head;\n      if (selectionUnchanged && !options.forceUpdate) {\n        return false;\n      }\n      dispatch == null ? void 0 : dispatch(tr.setSelection(textSelection));\n      return true;\n    };\n  }\n  selectMark(type) {\n    return (props) => {\n      const { tr } = props;\n      const range = getMarkRange(tr.selection.$from, type);\n      if (!range) {\n        return false;\n      }\n      return this.store.commands.selectText.original({ from: range.from, to: range.to })(props);\n    };\n  }\n  delete(range) {\n    return ({ tr, dispatch }) => {\n      const { from, to } = range ?? tr.selection;\n      dispatch == null ? void 0 : dispatch(tr.delete(from, to));\n      return true;\n    };\n  }\n  emptyUpdate(action) {\n    return ({ tr, dispatch }) => {\n      if (dispatch) {\n        action == null ? void 0 : action();\n        dispatch(tr);\n      }\n      return true;\n    };\n  }\n  forceUpdate(...keys3) {\n    return ({ tr, dispatch }) => {\n      dispatch == null ? void 0 : dispatch(this.forceUpdateTransaction(tr, ...keys3));\n      return true;\n    };\n  }\n  updateNodeAttributes(pos, attrs) {\n    return ({ tr, dispatch }) => {\n      dispatch == null ? void 0 : dispatch(tr.setNodeMarkup(pos, void 0, attrs));\n      return true;\n    };\n  }\n  setContent(content, selection) {\n    return (props) => {\n      const { tr, dispatch } = props;\n      const state = this.store.manager.createState({ content, selection });\n      if (!state) {\n        return false;\n      }\n      dispatch == null ? void 0 : dispatch(tr.replaceRangeWith(0, tr.doc.nodeSize - 2, state.doc));\n      return true;\n    };\n  }\n  resetContent() {\n    return (props) => {\n      const { tr, dispatch } = props;\n      const doc = this.store.manager.createEmptyDoc();\n      if (doc) {\n        return this.setContent(doc)(props);\n      }\n      dispatch == null ? void 0 : dispatch(tr.delete(0, tr.doc.nodeSize));\n      return true;\n    };\n  }\n  emptySelection() {\n    return ({ tr, dispatch }) => {\n      if (tr.selection.empty) {\n        return false;\n      }\n      dispatch == null ? void 0 : dispatch(tr.setSelection(TextSelection.near(tr.selection.$anchor)));\n      return true;\n    };\n  }\n  insertNewLine() {\n    return ({ dispatch, tr }) => {\n      if (!isTextSelection(tr.selection)) {\n        return false;\n      }\n      dispatch == null ? void 0 : dispatch(tr.insertText(\"\\n\"));\n      return true;\n    };\n  }\n  insertNode(node, options = {}) {\n    return ({ dispatch, tr, state }) => {\n      var _a;\n      const { attrs, range, selection, replaceEmptyParentBlock = false } = options;\n      const { from, to, $from } = getTextSelection2(selection ?? range ?? tr.selection, tr.doc);\n      if (isProsemirrorNode(node) || isProsemirrorFragment(node)) {\n        const pos = $from.before($from.depth);\n        dispatch == null ? void 0 : dispatch(\n          replaceEmptyParentBlock && from === to && isEmptyBlockNode($from.parent) ? tr.replaceWith(pos, pos + $from.parent.nodeSize, node) : tr.replaceWith(from, to, node)\n        );\n        return true;\n      }\n      const nodeType = isString2(node) ? state.schema.nodes[node] : node;\n      invariant5(nodeType, {\n        code: ErrorConstant5.SCHEMA,\n        message: `The requested node type ${node} does not exist in the schema.`\n      });\n      const marks = (_a = options.marks) == null ? void 0 : _a.map((mark) => {\n        if (mark instanceof Mark) {\n          return mark;\n        }\n        const markType = isString2(mark) ? state.schema.marks[mark] : mark;\n        invariant5(markType, {\n          code: ErrorConstant5.SCHEMA,\n          message: `The requested mark type ${mark} does not exist in the schema.`\n        });\n        return markType.create();\n      });\n      const content = nodeType.createAndFill(\n        attrs,\n        isString2(options.content) ? state.schema.text(options.content) : options.content,\n        marks\n      );\n      if (!content) {\n        return false;\n      }\n      const isReplacement = from !== to;\n      dispatch == null ? void 0 : dispatch(isReplacement ? tr.replaceRangeWith(from, to, content) : tr.insert(from, content));\n      return true;\n    };\n  }\n  focus(position) {\n    return (props) => {\n      const { dispatch, tr } = props;\n      const { view } = this.store;\n      if (position === false) {\n        return false;\n      }\n      if (view.hasFocus() && (position === void 0 || position === true)) {\n        return false;\n      }\n      if (position === void 0 || position === true) {\n        const { from = 0, to = from } = tr.selection;\n        position = { from, to };\n      }\n      if (dispatch) {\n        this.delayedFocus();\n      }\n      return this.selectText(position)(props);\n    };\n  }\n  blur(position) {\n    return (props) => {\n      const { view } = this.store;\n      if (!view.hasFocus()) {\n        return false;\n      }\n      requestAnimationFrame(() => {\n        view.dom.blur();\n      });\n      return position ? this.selectText(position)(props) : true;\n    };\n  }\n  setBlockNodeType(nodeType, attrs, selection, preserveAttrs = true) {\n    return setBlockType(nodeType, attrs, selection, preserveAttrs);\n  }\n  toggleWrappingNode(nodeType, attrs, selection) {\n    return toggleWrap(nodeType, attrs, selection);\n  }\n  toggleBlockNodeItem(toggleProps) {\n    return toggleBlockItem(toggleProps);\n  }\n  wrapInNode(nodeType, attrs, range) {\n    return wrapIn(nodeType, attrs, range);\n  }\n  applyMark(markType, attrs, selection) {\n    return applyMark(markType, attrs, selection);\n  }\n  toggleMark(props) {\n    return toggleMark(props);\n  }\n  removeMark(props) {\n    return removeMark(props);\n  }\n  setMeta(name, value) {\n    return ({ tr }) => {\n      tr.setMeta(name, value);\n      return true;\n    };\n  }\n  selectAll() {\n    return this.selectText(\"all\");\n  }\n  copy() {\n    return (props) => {\n      if (props.tr.selection.empty) {\n        return false;\n      }\n      if (props.dispatch) {\n        document.execCommand(\"copy\");\n      }\n      return true;\n    };\n  }\n  paste() {\n    return this.store.createPlaceholderCommand({\n      // TODO https://caniuse.com/?search=clipboard.read - once browser support is sufficient.\n      promise: async () => {\n        var _a;\n        if ((_a = navigator.clipboard) == null ? void 0 : _a.readText) {\n          return await navigator.clipboard.readText();\n        }\n        return \"\";\n      },\n      placeholder: { type: \"inline\" },\n      onSuccess: (value, selection, props) => this.insertNode(htmlToProsemirrorNode({ content: value, schema: props.state.schema }), {\n        selection\n      })(props)\n    }).generateCommand();\n  }\n  cut() {\n    return (props) => {\n      if (props.tr.selection.empty) {\n        return false;\n      }\n      if (props.dispatch) {\n        document.execCommand(\"cut\");\n      }\n      return true;\n    };\n  }\n  replaceText(props) {\n    return replaceText(props);\n  }\n  getAllCommandOptions() {\n    const uiCommands = {};\n    for (const [name, options] of this.decorated) {\n      if (isEmptyObject(options)) {\n        continue;\n      }\n      uiCommands[name] = options;\n    }\n    return uiCommands;\n  }\n  getCommandOptions(name) {\n    return this.decorated.get(name);\n  }\n  getCommandProp() {\n    return {\n      tr: this.transaction,\n      dispatch: this.store.view.dispatch,\n      state: this.store.view.state,\n      view: this.store.view\n    };\n  }\n  /**\n   * Update the command options via a shallow merge of the provided options. If\n   * no options are provided the entry is deleted.\n   *\n   * @internal\n   */\n  updateDecorated(name, options) {\n    if (!options) {\n      this.decorated.delete(name);\n      return;\n    }\n    const decoratorOptions = this.decorated.get(name) ?? { name: \"\" };\n    this.decorated.set(name, { ...decoratorOptions, ...options });\n  }\n  /**\n   * Needed on iOS since `requestAnimationFrame` doesn't breaks the focus\n   * implementation.\n   */\n  handleIosFocus() {\n    if (!environment2.isIos) {\n      return;\n    }\n    this.store.view.dom.focus();\n  }\n  /**\n   * Focus the editor after a slight delay.\n   */\n  delayedFocus() {\n    this.handleIosFocus();\n    requestAnimationFrame(() => {\n      this.store.view.focus();\n      this.store.view.dispatch(this.transaction.scrollIntoView());\n    });\n  }\n  /**\n   * Check for a forced update in the transaction. This pulls the meta data\n   * from the transaction and if it is true then it was a forced update.\n   *\n   * ```ts\n   * import { CommandsExtension } from 'remirror/extensions';\n   *\n   * const commandsExtension = manager.getExtension(CommandsExtension);\n   * log(commandsExtension.getForcedUpdates(tr))\n   * ```\n   *\n   * This can be used for updating:\n   *\n   * - `nodeViews`\n   * - `editable` status of the editor\n   * - `attributes` - for the top level node\n   *\n   * @internal\n   */\n  getForcedUpdates(tr) {\n    return this.getCommandMeta(tr).forcedUpdates;\n  }\n  /**\n   * Get the command metadata.\n   */\n  getCommandMeta(tr) {\n    const meta = tr.getMeta(this.pluginKey) ?? {};\n    return { ...DEFAULT_COMMAND_META, ...meta };\n  }\n  setCommandMeta(tr, update) {\n    const meta = this.getCommandMeta(tr);\n    tr.setMeta(this.pluginKey, { ...meta, ...update });\n  }\n  /**\n   * Add the commands from the provided `commands` property to the `chained`,\n   * `original` and `unchained` objects.\n   */\n  addCommands(props) {\n    const { extensionCommands, commands, names, active } = props;\n    for (const [name, command2] of entries2(extensionCommands)) {\n      throwIfNameNotUnique({ name, set: names, code: ErrorConstant5.DUPLICATE_COMMAND_NAMES });\n      invariant5(!forbiddenNames.has(name), {\n        code: ErrorConstant5.DUPLICATE_COMMAND_NAMES,\n        message: \"The command name you chose is forbidden.\"\n      });\n      commands[name] = this.createUnchainedCommand(command2, active[name]);\n    }\n  }\n  /**\n   * Create an unchained command method.\n   */\n  unchainedFactory(props) {\n    return (...args) => {\n      const { shouldDispatch = true, command: command2 } = props;\n      const { view } = this.store;\n      const { state } = view;\n      let dispatch;\n      if (shouldDispatch) {\n        dispatch = view.dispatch;\n      }\n      return command2(...args)({ state, dispatch, view, tr: state.tr });\n    };\n  }\n  /**\n   * Create the unchained command.\n   */\n  createUnchainedCommand(command2, active) {\n    const unchainedCommand = this.unchainedFactory({ command: command2 });\n    unchainedCommand.enabled = this.unchainedFactory({ command: command2, shouldDispatch: false });\n    unchainedCommand.isEnabled = unchainedCommand.enabled;\n    unchainedCommand.original = command2;\n    unchainedCommand.active = active;\n    return unchainedCommand;\n  }\n  /**\n   * Create a chained command method.\n   */\n  chainedFactory(props) {\n    return (...args) => {\n      const { chain: chained, command: command2, getTr, getChain } = props;\n      const lazyChain = getChain();\n      const { view } = this.store;\n      const { state } = view;\n      lazyChain.push(\n        (dispatch) => command2(...args)({ state, dispatch, view, tr: getTr() })\n      );\n      return chained;\n    };\n  }\n};\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"customDispatch\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"insertText\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"selectText\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"selectMark\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"delete\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"emptyUpdate\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"forceUpdate\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"updateNodeAttributes\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"setContent\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"resetContent\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"emptySelection\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"insertNewLine\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"insertNode\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"focus\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"blur\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"setBlockNodeType\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"toggleWrappingNode\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"toggleBlockNodeItem\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"wrapInNode\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"applyMark\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"toggleMark\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"removeMark\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"setMeta\", 1);\n__decorateClass([\n  command({\n    description: ({ t }) => t(Messages.SELECT_ALL_DESCRIPTION),\n    label: ({ t }) => t(Messages.SELECT_ALL_LABEL),\n    shortcut: NamedShortcut.SelectAll\n  })\n], CommandsExtension.prototype, \"selectAll\", 1);\n__decorateClass([\n  command({\n    description: ({ t }) => t(Messages.COPY_DESCRIPTION),\n    label: ({ t }) => t(Messages.COPY_LABEL),\n    shortcut: NamedShortcut.Copy,\n    icon: \"fileCopyLine\"\n  })\n], CommandsExtension.prototype, \"copy\", 1);\n__decorateClass([\n  command({\n    description: ({ t }) => t(Messages.PASTE_DESCRIPTION),\n    label: ({ t }) => t(Messages.PASTE_LABEL),\n    shortcut: NamedShortcut.Paste,\n    icon: \"clipboardLine\"\n  })\n], CommandsExtension.prototype, \"paste\", 1);\n__decorateClass([\n  command({\n    description: ({ t }) => t(Messages.CUT_DESCRIPTION),\n    label: ({ t }) => t(Messages.CUT_LABEL),\n    shortcut: NamedShortcut.Cut,\n    icon: \"scissorsFill\"\n  })\n], CommandsExtension.prototype, \"cut\", 1);\n__decorateClass([\n  command()\n], CommandsExtension.prototype, \"replaceText\", 1);\n__decorateClass([\n  helper()\n], CommandsExtension.prototype, \"getAllCommandOptions\", 1);\n__decorateClass([\n  helper()\n], CommandsExtension.prototype, \"getCommandOptions\", 1);\n__decorateClass([\n  helper()\n], CommandsExtension.prototype, \"getCommandProp\", 1);\nCommandsExtension = __decorateClass([\n  extension({\n    defaultPriority: ExtensionPriority3.Highest,\n    defaultOptions: { trackerClassName: \"remirror-tracker-position\", trackerNodeName: \"span\" },\n    staticKeys: [\"trackerClassName\", \"trackerNodeName\"]\n  })\n], CommandsExtension);\nvar DEFAULT_COMMAND_META = {\n  forcedUpdates: []\n};\nvar forbiddenNames = /* @__PURE__ */ new Set([\"run\", \"chain\", \"original\", \"raw\", \"enabled\", \"tr\", \"new\"]);\n\n// packages/remirror__core/src/builtins/decorations-extension.ts\nimport { ExtensionPriority as ExtensionPriority4 } from \"@remirror/core-constants\";\nimport { isNumber, isString as isString3, uniqueArray as uniqueArray3, uniqueId } from \"@remirror/core-helpers\";\nimport { findNodeAtPosition, isNodeSelection } from \"@remirror/core-utils\";\nimport { Decoration, DecorationSet } from \"@remirror/pm/view\";\nvar DecorationsExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * The placeholder decorations.\n     */\n    this.placeholders = DecorationSet.empty;\n    /**\n     * A map of the html elements to their decorations.\n     */\n    this.placeholderWidgets = /* @__PURE__ */ new Map();\n    /**\n     * Handles delayed commands which rely on the\n     */\n    this.createPlaceholderCommand = (props) => {\n      const id = uniqueId();\n      const { promise, placeholder, onFailure, onSuccess } = props;\n      return new DelayedCommand(promise).validate((props2) => this.addPlaceholder(id, placeholder)(props2)).success((props2) => {\n        const { state, tr, dispatch, view, value } = props2;\n        const range = this.store.helpers.findPlaceholder(id);\n        if (!range) {\n          const error = new Error(\"The placeholder has been removed\");\n          return (onFailure == null ? void 0 : onFailure({ error, state, tr, dispatch, view })) ?? false;\n        }\n        this.removePlaceholder(id)({ state, tr, view, dispatch: () => {\n        } });\n        return onSuccess(value, range, { state, tr, dispatch, view });\n      }).failure((props2) => {\n        this.removePlaceholder(id)({ ...props2, dispatch: () => {\n        } });\n        return (onFailure == null ? void 0 : onFailure(props2)) ?? false;\n      });\n    };\n  }\n  get name() {\n    return \"decorations\";\n  }\n  onCreate() {\n    this.store.setExtensionStore(\"createPlaceholderCommand\", this.createPlaceholderCommand);\n  }\n  /**\n   * Create the extension plugin for inserting decorations into the editor.\n   */\n  createPlugin() {\n    return {\n      state: {\n        init: () => {\n        },\n        apply: (tr) => {\n          var _a, _b, _c, _d, _e, _f;\n          const { added, clearTrackers, removed, updated } = this.getMeta(tr);\n          if (clearTrackers) {\n            this.placeholders = DecorationSet.empty;\n            for (const [, widget] of this.placeholderWidgets) {\n              (_b = (_a = widget.spec).onDestroy) == null ? void 0 : _b.call(_a, this.store.view, widget.spec.element);\n            }\n            this.placeholderWidgets.clear();\n            return;\n          }\n          this.placeholders = this.placeholders.map(tr.mapping, tr.doc, {\n            onRemove: (spec) => {\n              var _a2, _b2;\n              const widget = this.placeholderWidgets.get(spec.id);\n              if (widget) {\n                (_b2 = (_a2 = widget.spec).onDestroy) == null ? void 0 : _b2.call(_a2, this.store.view, widget.spec.element);\n              }\n            }\n          });\n          for (const [, widget] of this.placeholderWidgets) {\n            (_d = (_c = widget.spec).onUpdate) == null ? void 0 : _d.call(\n              _c,\n              this.store.view,\n              widget.from,\n              widget.spec.element,\n              widget.spec.data\n            );\n          }\n          for (const placeholder of added) {\n            if (placeholder.type === \"inline\") {\n              this.addInlinePlaceholder(placeholder, tr);\n              continue;\n            }\n            if (placeholder.type === \"node\") {\n              this.addNodePlaceholder(placeholder, tr);\n              continue;\n            }\n            if (placeholder.type === \"widget\") {\n              this.addWidgetPlaceholder(placeholder, tr);\n              continue;\n            }\n          }\n          for (const { id, data } of updated) {\n            const widget = this.placeholderWidgets.get(id);\n            if (!widget) {\n              continue;\n            }\n            const updatedWidget = Decoration.widget(widget.from, widget.spec.element, {\n              ...widget.spec,\n              data\n            });\n            this.placeholders = this.placeholders.remove([widget]).add(tr.doc, [updatedWidget]);\n            this.placeholderWidgets.set(id, updatedWidget);\n          }\n          for (const id of removed) {\n            const found = this.placeholders.find(\n              void 0,\n              void 0,\n              (spec) => spec.id === id && spec.__type === __type\n            );\n            const widget = this.placeholderWidgets.get(id);\n            if (widget) {\n              (_f = (_e = widget.spec).onDestroy) == null ? void 0 : _f.call(_e, this.store.view, widget.spec.element);\n            }\n            this.placeholders = this.placeholders.remove(found);\n            this.placeholderWidgets.delete(id);\n          }\n        }\n      },\n      props: {\n        decorations: (state) => {\n          let decorationSet = this.options.decorations(state);\n          decorationSet = decorationSet.add(state.doc, this.placeholders.find());\n          for (const extension2 of this.store.extensions) {\n            if (!extension2.createDecorations) {\n              continue;\n            }\n            const decorations = extension2.createDecorations(state).find();\n            decorationSet = decorationSet.add(state.doc, decorations);\n          }\n          return decorationSet;\n        },\n        handleDOMEvents: {\n          // Dispatch a transaction for focus/blur events so that the editor state\n          // can be refreshed.\n          //\n          // https://discuss.prosemirror.net/t/handling-focus-in-plugins/1981/2\n          blur: (view) => {\n            if (this.options.persistentSelectionClass) {\n              view.dispatch(view.state.tr.setMeta(persistentSelectionFocusKey, false));\n            }\n            return false;\n          },\n          focus: (view) => {\n            if (this.options.persistentSelectionClass) {\n              view.dispatch(view.state.tr.setMeta(persistentSelectionFocusKey, true));\n            }\n            return false;\n          }\n        }\n      }\n    };\n  }\n  updateDecorations() {\n    return ({ tr, dispatch }) => (dispatch == null ? void 0 : dispatch(tr), true);\n  }\n  addPlaceholder(id, placeholder, deleteSelection) {\n    return ({ dispatch, tr }) => this.addPlaceholderTransaction(id, placeholder, tr, !dispatch) ? (dispatch == null ? void 0 : dispatch(deleteSelection ? tr.deleteSelection() : tr), true) : false;\n  }\n  updatePlaceholder(id, data) {\n    return ({ dispatch, tr }) => this.updatePlaceholderTransaction({ id, data, tr, checkOnly: !dispatch }) ? (dispatch == null ? void 0 : dispatch(tr), true) : false;\n  }\n  removePlaceholder(id) {\n    return ({ dispatch, tr }) => this.removePlaceholderTransaction({ id, tr, checkOnly: !dispatch }) ? (dispatch == null ? void 0 : dispatch(tr), true) : false;\n  }\n  clearPlaceholders() {\n    return ({ tr, dispatch }) => this.clearPlaceholdersTransaction({ tr, checkOnly: !dispatch }) ? (dispatch == null ? void 0 : dispatch(tr), true) : false;\n  }\n  findPlaceholder(id) {\n    return this.findAllPlaceholders().get(id);\n  }\n  findAllPlaceholders() {\n    const trackers = /* @__PURE__ */ new Map();\n    const found = this.placeholders.find(void 0, void 0, (spec) => spec.__type === __type);\n    for (const decoration of found) {\n      trackers.set(decoration.spec.id, { from: decoration.from, to: decoration.to });\n    }\n    return trackers;\n  }\n  /**\n   * Add some decorations based on the provided settings.\n   */\n  createDecorations(state) {\n    var _a, _b, _c;\n    const { persistentSelectionClass } = this.options;\n    if (!persistentSelectionClass || ((_a = this.store.view) == null ? void 0 : _a.hasFocus()) || ((_c = (_b = this.store.helpers).isInteracting) == null ? void 0 : _c.call(_b))) {\n      return DecorationSet.empty;\n    }\n    return generatePersistentSelectionDecorations(state, DecorationSet.empty, {\n      class: isString3(persistentSelectionClass) ? persistentSelectionClass : \"selection\"\n    });\n  }\n  /**\n   * This stores all tracked positions in the editor and maps them via the\n   * transaction updates.\n   */\n  onApplyState() {\n  }\n  /**\n   * Add a widget placeholder and track it as a widget placeholder.\n   */\n  addWidgetPlaceholder(placeholder, tr) {\n    const { pos, createElement, onDestroy, onUpdate, className, nodeName, id, type } = placeholder;\n    const element = (createElement == null ? void 0 : createElement(this.store.view, pos)) ?? document.createElement(nodeName);\n    element.classList.add(className);\n    const decoration = Decoration.widget(pos, element, {\n      id,\n      __type,\n      type,\n      element,\n      onDestroy,\n      onUpdate\n    });\n    this.placeholderWidgets.set(id, decoration);\n    this.placeholders = this.placeholders.add(tr.doc, [decoration]);\n  }\n  /**\n   * Add an inline placeholder.\n   */\n  addInlinePlaceholder(placeholder, tr) {\n    const {\n      from = tr.selection.from,\n      to = tr.selection.to,\n      className,\n      nodeName,\n      id,\n      type\n    } = placeholder;\n    let decoration;\n    if (from === to) {\n      const element = document.createElement(nodeName);\n      element.classList.add(className);\n      decoration = Decoration.widget(from, element, {\n        id,\n        type,\n        __type,\n        widget: element\n      });\n    } else {\n      decoration = Decoration.inline(\n        from,\n        to,\n        { nodeName, class: className },\n        {\n          id,\n          __type\n        }\n      );\n    }\n    this.placeholders = this.placeholders.add(tr.doc, [decoration]);\n  }\n  /**\n   * Add a placeholder for nodes.\n   */\n  addNodePlaceholder(placeholder, tr) {\n    const { pos, className, nodeName, id } = placeholder;\n    const $pos = isNumber(pos) ? tr.doc.resolve(pos) : tr.selection.$from;\n    const found = isNumber(pos) ? $pos.nodeAfter ? { pos, end: $pos.nodeAfter.nodeSize } : void 0 : findNodeAtPosition($pos);\n    if (!found) {\n      return;\n    }\n    const decoration = Decoration.node(\n      found.pos,\n      found.end,\n      { nodeName, class: className },\n      { id, __type }\n    );\n    this.placeholders = this.placeholders.add(tr.doc, [decoration]);\n  }\n  /**\n   * Add the node and class name to the placeholder object.\n   */\n  withRequiredBase(id, placeholder) {\n    const { placeholderNodeName, placeholderClassName } = this.options;\n    const { nodeName = placeholderNodeName, className, ...rest } = placeholder;\n    const classes = (className ? [placeholderClassName, className] : [placeholderClassName]).join(\n      \" \"\n    );\n    return { nodeName, className: classes, ...rest, id };\n  }\n  /**\n   * Get the command metadata.\n   */\n  getMeta(tr) {\n    const meta = tr.getMeta(this.pluginKey) ?? {};\n    return { ...DEFAULT_PLACEHOLDER_META, ...meta };\n  }\n  /**\n   * Set the metadata for the command.\n   */\n  setMeta(tr, update) {\n    const meta = this.getMeta(tr);\n    tr.setMeta(this.pluginKey, { ...meta, ...update });\n  }\n  /**\n   * Add a placeholder decoration with the specified params to the transaction\n   * and return the transaction.\n   *\n   * It is up to you to dispatch the transaction or you can just use the\n   * commands.\n   */\n  addPlaceholderTransaction(id, placeholder, tr, checkOnly = false) {\n    const existingPosition = this.findPlaceholder(id);\n    if (existingPosition) {\n      return false;\n    }\n    if (checkOnly) {\n      return true;\n    }\n    const { added } = this.getMeta(tr);\n    this.setMeta(tr, {\n      added: [...added, this.withRequiredBase(id, placeholder)]\n    });\n    return true;\n  }\n  /**\n   * Update the data stored by a placeholder.\n   *\n   * This replaces the whole data value.\n   */\n  updatePlaceholderTransaction(props) {\n    const { id, tr, checkOnly = false, data } = props;\n    const existingPosition = this.findPlaceholder(id);\n    if (!existingPosition) {\n      return false;\n    }\n    if (checkOnly) {\n      return true;\n    }\n    const { updated } = this.getMeta(tr);\n    this.setMeta(tr, { updated: uniqueArray3([...updated, { id, data }]) });\n    return true;\n  }\n  /**\n   * Discards a previously defined tracker once not needed.\n   *\n   * This should be used to cleanup once the position is no longer needed.\n   */\n  removePlaceholderTransaction(props) {\n    const { id, tr, checkOnly = false } = props;\n    const existingPosition = this.findPlaceholder(id);\n    if (!existingPosition) {\n      return false;\n    }\n    if (checkOnly) {\n      return true;\n    }\n    const { removed } = this.getMeta(tr);\n    this.setMeta(tr, { removed: uniqueArray3([...removed, id]) });\n    return true;\n  }\n  /**\n   * This helper returns a transaction that clears all position trackers when\n   * any exist.\n   *\n   * Otherwise it returns undefined.\n   */\n  clearPlaceholdersTransaction(props) {\n    const { tr, checkOnly = false } = props;\n    const positionTrackerState = this.getPluginState();\n    if (positionTrackerState === DecorationSet.empty) {\n      return false;\n    }\n    if (checkOnly) {\n      return true;\n    }\n    this.setMeta(tr, { clearTrackers: true });\n    return true;\n  }\n};\n__decorateClass([\n  command()\n], DecorationsExtension.prototype, \"updateDecorations\", 1);\n__decorateClass([\n  command()\n], DecorationsExtension.prototype, \"addPlaceholder\", 1);\n__decorateClass([\n  command()\n], DecorationsExtension.prototype, \"updatePlaceholder\", 1);\n__decorateClass([\n  command()\n], DecorationsExtension.prototype, \"removePlaceholder\", 1);\n__decorateClass([\n  command()\n], DecorationsExtension.prototype, \"clearPlaceholders\", 1);\n__decorateClass([\n  helper()\n], DecorationsExtension.prototype, \"findPlaceholder\", 1);\n__decorateClass([\n  helper()\n], DecorationsExtension.prototype, \"findAllPlaceholders\", 1);\nDecorationsExtension = __decorateClass([\n  extension({\n    defaultOptions: {\n      persistentSelectionClass: void 0,\n      placeholderClassName: \"placeholder\",\n      placeholderNodeName: \"span\"\n    },\n    staticKeys: [\"placeholderClassName\", \"placeholderNodeName\"],\n    handlerKeys: [\"decorations\"],\n    handlerKeyOptions: {\n      decorations: {\n        reducer: {\n          accumulator: (accumulated, latestValue, state) => accumulated.add(state.doc, latestValue.find()),\n          getDefault: () => DecorationSet.empty\n        }\n      }\n    },\n    defaultPriority: ExtensionPriority4.Low\n  })\n], DecorationsExtension);\nvar DEFAULT_PLACEHOLDER_META = {\n  added: [],\n  updated: [],\n  clearTrackers: false,\n  removed: []\n};\nvar __type = \"placeholderDecoration\";\nvar persistentSelectionFocusKey = \"persistentSelectionFocus\";\nfunction generatePersistentSelectionDecorations(state, decorationSet, attrs) {\n  const { selection, doc } = state;\n  if (selection.empty) {\n    return decorationSet;\n  }\n  const { from, to } = selection;\n  const decoration = isNodeSelection(selection) ? Decoration.node(from, to, attrs) : Decoration.inline(from, to, attrs);\n  return decorationSet.add(doc, [decoration]);\n}\n\n// packages/remirror__core/src/builtins/doc-changed-extension.ts\nimport { ExtensionPriority as ExtensionPriority5 } from \"@remirror/core-constants\";\nvar DocChangedExtension = class extends PlainExtension {\n  get name() {\n    return \"docChanged\";\n  }\n  onStateUpdate(props) {\n    const { firstUpdate, transactions, tr } = props;\n    if (firstUpdate) {\n      return;\n    }\n    if ((transactions ?? [tr]).some((tr2) => tr2 == null ? void 0 : tr2.docChanged)) {\n      this.options.docChanged(props);\n    }\n  }\n};\nDocChangedExtension = __decorateClass([\n  extension({\n    handlerKeys: [\"docChanged\"],\n    handlerKeyOptions: {\n      docChanged: { earlyReturnValue: false }\n      // Execute all handlers, even if one returns false\n    },\n    defaultPriority: ExtensionPriority5.Lowest\n  })\n], DocChangedExtension);\n\n// packages/remirror__core/src/builtins/helpers-extension.ts\nimport { ErrorConstant as ErrorConstant6, NULL_CHARACTER } from \"@remirror/core-constants\";\nimport { entries as entries3, isEmptyObject as isEmptyObject2, object as object5 } from \"@remirror/core-helpers\";\nimport {\n  containsAttributes,\n  getActiveNode,\n  getMarkRange as getMarkRange2,\n  htmlToProsemirrorNode as htmlToProsemirrorNode2,\n  isMarkActive as isMarkActive2,\n  isNodeActive,\n  isSelectionEmpty,\n  prosemirrorNodeToHtml\n} from \"@remirror/core-utils\";\nvar HelpersExtension = class extends PlainExtension {\n  get name() {\n    return \"helpers\";\n  }\n  /**\n   * Add the `html` and `text` string handlers to the editor.\n   */\n  onCreate() {\n    var _a;\n    this.store.setStringHandler(\"text\", this.textToProsemirrorNode.bind(this));\n    this.store.setStringHandler(\"html\", htmlToProsemirrorNode2);\n    const helpers = object5();\n    const active = object5();\n    const attrs = object5();\n    const names = /* @__PURE__ */ new Set();\n    for (const extension2 of this.store.extensions) {\n      if (isNodeExtension(extension2)) {\n        active[extension2.name] = (attrs2) => isNodeActive({ state: this.store.getState(), type: extension2.type, attrs: attrs2 });\n        attrs[extension2.name] = (attrs2) => {\n          var _a2;\n          return (_a2 = getActiveNode({ state: this.store.getState(), type: extension2.type, attrs: attrs2 })) == null ? void 0 : _a2.node.attrs;\n        };\n      }\n      if (isMarkExtension(extension2)) {\n        active[extension2.name] = (attrs2) => isMarkActive2({ trState: this.store.getState(), type: extension2.type, attrs: attrs2 });\n        attrs[extension2.name] = (attrs2) => {\n          const markRange = getMarkRange2(this.store.getState().selection.$from, extension2.type);\n          if (!markRange || !attrs2) {\n            return markRange == null ? void 0 : markRange.mark.attrs;\n          }\n          if (containsAttributes(markRange.mark, attrs2)) {\n            return markRange.mark.attrs;\n          }\n          return;\n        };\n      }\n      const extensionHelpers = ((_a = extension2.createHelpers) == null ? void 0 : _a.call(extension2)) ?? {};\n      for (const helperName of Object.keys(extension2.decoratedHelpers ?? {})) {\n        extensionHelpers[helperName] = extension2[helperName].bind(extension2);\n      }\n      if (isEmptyObject2(extensionHelpers)) {\n        continue;\n      }\n      for (const [name, helper2] of entries3(extensionHelpers)) {\n        throwIfNameNotUnique({ name, set: names, code: ErrorConstant6.DUPLICATE_HELPER_NAMES });\n        helpers[name] = helper2;\n      }\n    }\n    this.store.setStoreKey(\"attrs\", attrs);\n    this.store.setStoreKey(\"active\", active);\n    this.store.setStoreKey(\"helpers\", helpers);\n    this.store.setExtensionStore(\"attrs\", attrs);\n    this.store.setExtensionStore(\"active\", active);\n    this.store.setExtensionStore(\"helpers\", helpers);\n  }\n  isSelectionEmpty(state = this.store.getState()) {\n    return isSelectionEmpty(state);\n  }\n  isViewEditable(state = this.store.getState()) {\n    var _a, _b;\n    return ((_b = (_a = this.store.view.props).editable) == null ? void 0 : _b.call(_a, state)) ?? false;\n  }\n  getStateJSON(state = this.store.getState()) {\n    return state.toJSON();\n  }\n  getJSON(state = this.store.getState()) {\n    return state.doc.toJSON();\n  }\n  getRemirrorJSON(state = this.store.getState()) {\n    return this.getJSON(state);\n  }\n  insertHtml(html, options) {\n    return (props) => {\n      const { state } = props;\n      const fragment = htmlToProsemirrorNode2({\n        content: html,\n        schema: state.schema,\n        fragment: true\n      });\n      return this.store.commands.insertNode.original(fragment, options)(props);\n    };\n  }\n  getText({\n    lineBreakDivider = \"\\n\\n\",\n    state = this.store.getState()\n  } = {}) {\n    return state.doc.textBetween(0, state.doc.content.size, lineBreakDivider, NULL_CHARACTER);\n  }\n  getTextBetween(from, to, doc = this.store.getState().doc) {\n    return doc.textBetween(from, to, \"\\n\\n\", NULL_CHARACTER);\n  }\n  getHTML(state = this.store.getState()) {\n    return prosemirrorNodeToHtml(state.doc, this.store.document);\n  }\n  textToProsemirrorNode(options) {\n    const content = `<pre>${options.content}</pre>`;\n    return this.store.stringHandlers.html({ ...options, content });\n  }\n};\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"isSelectionEmpty\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"isViewEditable\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"getStateJSON\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"getJSON\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"getRemirrorJSON\", 1);\n__decorateClass([\n  command()\n], HelpersExtension.prototype, \"insertHtml\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"getText\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"getTextBetween\", 1);\n__decorateClass([\n  helper()\n], HelpersExtension.prototype, \"getHTML\", 1);\nHelpersExtension = __decorateClass([\n  extension({})\n], HelpersExtension);\n\n// packages/remirror__core/src/builtins/input-rules-extension.ts\nimport { ExtensionPriority as ExtensionPriority6, ExtensionTag } from \"@remirror/core-constants\";\nimport { inputRules } from \"@remirror/pm/inputrules\";\nvar InputRulesExtension = class extends PlainExtension {\n  get name() {\n    return \"inputRules\";\n  }\n  /**\n   * Add the extension store method for rebuilding all input rules.\n   */\n  onCreate() {\n    this.store.setExtensionStore(\"rebuildInputRules\", this.rebuildInputRules.bind(this));\n  }\n  /**\n   * Add the `inputRules` plugin to the editor.\n   */\n  createExternalPlugins() {\n    return [this.generateInputRulesPlugin()];\n  }\n  generateInputRulesPlugin() {\n    var _a, _b;\n    const rules = [];\n    const invalidMarks = this.store.markTags[ExtensionTag.ExcludeInputRules];\n    for (const extension2 of this.store.extensions) {\n      if (\n        // managerSettings excluded this from running\n        ((_a = this.store.managerSettings.exclude) == null ? void 0 : _a.inputRules) || // Method doesn't exist\n        !extension2.createInputRules || // Extension settings exclude it\n        ((_b = extension2.options.exclude) == null ? void 0 : _b.inputRules)\n      ) {\n        continue;\n      }\n      for (const rule of extension2.createInputRules()) {\n        rule.shouldSkip = this.options.shouldSkipInputRule;\n        rule.invalidMarks = invalidMarks;\n        rules.push(rule);\n      }\n    }\n    return inputRules({ rules });\n  }\n  /**\n   * The method for rebuilding all the input rules.\n   *\n   * 1. Rebuild inputRules.\n   * 2. Replace the old input rules plugin.\n   * 3. Update the plugins used in the state (triggers an editor update).\n   */\n  rebuildInputRules() {\n    this.store.updateExtensionPlugins(this);\n  }\n};\nInputRulesExtension = __decorateClass([\n  extension({\n    defaultPriority: ExtensionPriority6.Default,\n    handlerKeys: [\"shouldSkipInputRule\"],\n    // Return when the value `true` is encountered.\n    handlerKeyOptions: { shouldSkipInputRule: { earlyReturnValue: true } }\n  })\n], InputRulesExtension);\n\n// packages/remirror__core/src/builtins/keymap-extension.ts\nimport { ExtensionPriority as ExtensionPriority7, ExtensionTag as ExtensionTag2, NamedShortcut as NamedShortcut2 } from \"@remirror/core-constants\";\nimport {\n  entries as entries4,\n  includes,\n  isArray,\n  isEmptyArray as isEmptyArray3,\n  isFunction as isFunction3,\n  isString as isString4,\n  isUndefined,\n  object as object6,\n  sort as sort2,\n  values\n} from \"@remirror/core-helpers\";\nimport {\n  chainKeyBindingCommands,\n  convertCommand as convertCommand2,\n  environment as environment3,\n  findParentNodeOfType,\n  isDefaultBlockNode,\n  isEmptyBlockNode as isEmptyBlockNode2,\n  isEndOfTextBlock,\n  isStartOfDoc,\n  isStartOfTextBlock,\n  mergeProsemirrorKeyBindings\n} from \"@remirror/core-utils\";\nimport {\n  baseKeymap,\n  chainCommands as pmChainCommands,\n  selectParentNode\n} from \"@remirror/pm/commands\";\nimport { undoInputRule } from \"@remirror/pm/inputrules\";\nimport { keydownHandler } from \"@remirror/pm/keymap\";\nimport { Plugin } from \"@remirror/pm/state\";\nvar KeymapExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * The custom keybindings added by the handlers. In react these can be added\n     * via `hooks`.\n     */\n    this.extraKeyBindings = [];\n    /**\n     * Track the backward exits from a mark to allow double tapping the left arrow\n     * to move to the previous block node.\n     */\n    this.backwardMarkExitTracker = /* @__PURE__ */ new Map();\n    /**\n     * The underlying keydown handler.\n     */\n    this.keydownHandler = null;\n    /**\n     * @internalremarks\n     *\n     * Think about the case where bindings are disposed of and then added in a\n     * different position in the `extraKeyBindings` array. This is especially\n     * pertinent when using hooks.\n     */\n    this.onAddCustomHandler = ({ keymap }) => {\n      var _a, _b;\n      if (!keymap) {\n        return;\n      }\n      this.extraKeyBindings = [...this.extraKeyBindings, keymap];\n      (_b = (_a = this.store).rebuildKeymap) == null ? void 0 : _b.call(_a);\n      return () => {\n        var _a2, _b2;\n        this.extraKeyBindings = this.extraKeyBindings.filter((binding) => binding !== keymap);\n        (_b2 = (_a2 = this.store).rebuildKeymap) == null ? void 0 : _b2.call(_a2);\n      };\n    };\n    /**\n     * The method for rebuilding all the extension keymaps.\n     *\n     * 1. Rebuild keymaps.\n     * 2. Replace `this.keydownHandler` with the new keydown handler.\n     */\n    this.rebuildKeymap = () => {\n      this.setupKeydownHandler();\n    };\n  }\n  get name() {\n    return \"keymap\";\n  }\n  /**\n   * Get the shortcut map.\n   */\n  get shortcutMap() {\n    const { shortcuts } = this.options;\n    return isString4(shortcuts) ? keyboardShortcuts[shortcuts] : shortcuts;\n  }\n  /**\n   * This adds the `createKeymap` method functionality to all extensions.\n   */\n  onCreate() {\n    this.store.setExtensionStore(\"rebuildKeymap\", this.rebuildKeymap);\n  }\n  /** Add the created keymap to the available plugins. */\n  createExternalPlugins() {\n    var _a;\n    if (\n      // The user doesn't want any keymaps in the editor so don't add the keymap\n      // handler.\n      (_a = this.store.managerSettings.exclude) == null ? void 0 : _a.keymap\n    ) {\n      return [];\n    }\n    this.setupKeydownHandler();\n    return [\n      new Plugin({\n        props: {\n          handleKeyDown: (view, event) => {\n            var _a2;\n            return (_a2 = this.keydownHandler) == null ? void 0 : _a2.call(this, view, event);\n          }\n        }\n      })\n    ];\n  }\n  setupKeydownHandler() {\n    const bindings = this.generateKeymapBindings();\n    this.keydownHandler = keydownHandler(bindings);\n  }\n  /**\n   * Updates the stored keymap bindings on this extension.\n   */\n  generateKeymapBindings() {\n    var _a;\n    const extensionKeymaps = [];\n    const shortcutMap = this.shortcutMap;\n    const commandsExtension = this.store.getExtension(CommandsExtension);\n    const extractNamesFactory = (extension2) => (shortcut) => extractShortcutNames({\n      shortcut,\n      map: shortcutMap,\n      store: this.store,\n      options: extension2.options\n    });\n    for (const extension2 of this.store.extensions) {\n      const decoratedKeybindings = extension2.decoratedKeybindings ?? {};\n      if (\n        // The extension was configured to ignore the keymap.\n        (_a = extension2.options.exclude) == null ? void 0 : _a.keymap\n      ) {\n        continue;\n      }\n      if (\n        // The extension doesn't have the `createKeymap` method.\n        extension2.createKeymap\n      ) {\n        extensionKeymaps.push(\n          updateNamedKeys(extension2.createKeymap(extractNamesFactory(extension2)), shortcutMap)\n        );\n      }\n      for (const [name, options] of entries4(decoratedKeybindings)) {\n        if (options.isActive && !options.isActive(extension2.options, this.store)) {\n          continue;\n        }\n        const keyBinding2 = extension2[name].bind(extension2);\n        const shortcutNames = extractShortcutNames({\n          shortcut: options.shortcut,\n          map: shortcutMap,\n          options: extension2.options,\n          store: this.store\n        });\n        const priority = isFunction3(options.priority) ? options.priority(extension2.options, this.store) : options.priority ?? ExtensionPriority7.Low;\n        const bindingObject = object6();\n        for (const shortcut of shortcutNames) {\n          bindingObject[shortcut] = keyBinding2;\n        }\n        extensionKeymaps.push([priority, bindingObject]);\n        if (options.command) {\n          commandsExtension.updateDecorated(options.command, { shortcut: shortcutNames });\n        }\n      }\n    }\n    const sortedKeymaps = this.sortKeymaps([...this.extraKeyBindings, ...extensionKeymaps]);\n    const mappedCommands = mergeProsemirrorKeyBindings(sortedKeymaps);\n    return mappedCommands;\n  }\n  arrowRightShortcut(props) {\n    const excludedMarks = this.store.markTags[ExtensionTag2.PreventExits];\n    const excludedNodes = this.store.nodeTags[ExtensionTag2.PreventExits];\n    return this.exitMarkForwards(excludedMarks, excludedNodes)(props);\n  }\n  arrowLeftShortcut(props) {\n    const excludedMarks = this.store.markTags[ExtensionTag2.PreventExits];\n    const excludedNodes = this.store.nodeTags[ExtensionTag2.PreventExits];\n    return chainKeyBindingCommands(\n      this.exitNodeBackwards(excludedNodes),\n      this.exitMarkBackwards(excludedMarks, excludedNodes)\n    )(props);\n  }\n  backspace(props) {\n    const excludedMarks = this.store.markTags[ExtensionTag2.PreventExits];\n    const excludedNodes = this.store.nodeTags[ExtensionTag2.PreventExits];\n    return chainKeyBindingCommands(\n      this.exitNodeBackwards(excludedNodes, true),\n      this.exitMarkBackwards(excludedMarks, excludedNodes, true)\n    )(props);\n  }\n  /**\n   * Create the base keymap and give it a low priority so that all other keymaps\n   * override it.\n   */\n  createKeymap() {\n    const { selectParentNodeOnEscape, undoInputRuleOnBackspace, excludeBaseKeymap } = this.options;\n    const baseKeyBindings = object6();\n    if (!excludeBaseKeymap) {\n      for (const [key2, value] of entries4(baseKeymap)) {\n        baseKeyBindings[key2] = convertCommand2(value);\n      }\n    }\n    if (undoInputRuleOnBackspace && baseKeymap.Backspace) {\n      baseKeyBindings.Backspace = convertCommand2(\n        pmChainCommands(undoInputRule, baseKeymap.Backspace)\n      );\n    }\n    if (selectParentNodeOnEscape) {\n      baseKeyBindings.Escape = convertCommand2(selectParentNode);\n    }\n    return [ExtensionPriority7.Low, baseKeyBindings];\n  }\n  getNamedShortcut(shortcut, options = {}) {\n    if (!shortcut.startsWith(\"_|\")) {\n      return [shortcut];\n    }\n    return extractShortcutNames({\n      shortcut,\n      map: this.shortcutMap,\n      store: this.store,\n      options\n    });\n  }\n  /**\n   * Handle changes in the dynamic properties.\n   */\n  onSetOptions(props) {\n    var _a, _b;\n    const { changes } = props;\n    if (changes.excludeBaseKeymap.changed || changes.selectParentNodeOnEscape.changed || changes.undoInputRuleOnBackspace.changed) {\n      (_b = (_a = this.store).rebuildKeymap) == null ? void 0 : _b.call(_a);\n    }\n  }\n  sortKeymaps(bindings) {\n    return sort2(\n      bindings.map(\n        (binding) => (\n          // Make all bindings prioritized a default priority of\n          // `ExtensionPriority.Default`\n          isArray(binding) ? binding : [ExtensionPriority7.Default, binding]\n        )\n      ),\n      // Sort from highest binding to the lowest.\n      (a, z) => z[0] - a[0]\n      // Extract the bindings from the prioritized tuple.\n    ).map((binding) => binding[1]);\n  }\n  /**\n   * Exits the mark forwards when at the end of a block node.\n   */\n  exitMarkForwards(excludedMarks, excludedNodes) {\n    return (props) => {\n      const { tr, dispatch } = props;\n      if (!isEndOfTextBlock(tr.selection)) {\n        return false;\n      }\n      const isInsideExcludedNode = findParentNodeOfType({\n        selection: tr.selection,\n        types: excludedNodes\n      });\n      if (isInsideExcludedNode) {\n        return false;\n      }\n      const $pos = tr.selection.$from;\n      const marksToRemove = $pos.marks().filter((mark) => !excludedMarks.includes(mark.type.name));\n      if (isEmptyArray3(marksToRemove)) {\n        return false;\n      }\n      if (!dispatch) {\n        return true;\n      }\n      for (const mark of marksToRemove) {\n        tr.removeStoredMark(mark);\n      }\n      dispatch(tr.insertText(\" \", tr.selection.from));\n      return true;\n    };\n  }\n  exitNodeBackwards(excludedNodes, startOfDoc = false) {\n    return (props) => {\n      const { tr } = props;\n      const checker = startOfDoc ? isStartOfDoc : isStartOfTextBlock;\n      if (!checker(tr.selection)) {\n        return false;\n      }\n      const node = tr.selection.$anchor.node();\n      if (!isEmptyBlockNode2(node) || isDefaultBlockNode(node) || excludedNodes.includes(node.type.name)) {\n        return false;\n      }\n      return this.store.commands.toggleBlockNodeItem.original({ type: node.type })(props);\n    };\n  }\n  /**\n   * Exit a mark when at the beginning of a block node.\n   */\n  exitMarkBackwards(excludedMarks, excludedNodes, startOfDoc = false) {\n    return (props) => {\n      const { tr, dispatch } = props;\n      const checker = startOfDoc ? isStartOfDoc : isStartOfTextBlock;\n      if (!checker(tr.selection) || this.backwardMarkExitTracker.has(tr.selection.anchor)) {\n        this.backwardMarkExitTracker.clear();\n        return false;\n      }\n      const isInsideExcludedNode = findParentNodeOfType({\n        selection: tr.selection,\n        types: excludedNodes\n      });\n      if (isInsideExcludedNode) {\n        return false;\n      }\n      const marksToRemove = [...tr.storedMarks ?? [], ...tr.selection.$from.marks()].filter(\n        (mark) => !excludedMarks.includes(mark.type.name)\n      );\n      if (isEmptyArray3(marksToRemove)) {\n        return false;\n      }\n      if (!dispatch) {\n        return true;\n      }\n      for (const mark of marksToRemove) {\n        tr.removeStoredMark(mark);\n      }\n      this.backwardMarkExitTracker.set(tr.selection.anchor, true);\n      dispatch(tr);\n      return true;\n    };\n  }\n};\n__decorateClass([\n  keyBinding({\n    shortcut: \"ArrowRight\",\n    isActive: (options) => options.exitMarksOnArrowPress\n  })\n], KeymapExtension.prototype, \"arrowRightShortcut\", 1);\n__decorateClass([\n  keyBinding({\n    shortcut: \"ArrowLeft\",\n    isActive: (options) => options.exitMarksOnArrowPress\n  })\n], KeymapExtension.prototype, \"arrowLeftShortcut\", 1);\n__decorateClass([\n  keyBinding({\n    shortcut: \"Backspace\",\n    isActive: (options) => options.exitMarksOnArrowPress\n  })\n], KeymapExtension.prototype, \"backspace\", 1);\n__decorateClass([\n  helper()\n], KeymapExtension.prototype, \"getNamedShortcut\", 1);\nKeymapExtension = __decorateClass([\n  extension({\n    defaultPriority: ExtensionPriority7.Low,\n    defaultOptions: {\n      shortcuts: \"default\",\n      undoInputRuleOnBackspace: true,\n      selectParentNodeOnEscape: false,\n      excludeBaseKeymap: false,\n      exitMarksOnArrowPress: true\n    },\n    customHandlerKeys: [\"keymap\"]\n  })\n], KeymapExtension);\nfunction isNamedShortcut(value) {\n  return includes(values(NamedShortcut2), value);\n}\nfunction extractShortcutNames({\n  shortcut,\n  map,\n  options,\n  store\n}) {\n  if (isString4(shortcut)) {\n    return [normalizeShortcutName(shortcut, map)];\n  }\n  if (isArray(shortcut)) {\n    return shortcut.map((value) => normalizeShortcutName(value, map));\n  }\n  shortcut = shortcut(options, store);\n  return extractShortcutNames({ shortcut, map, options, store });\n}\nfunction normalizeShortcutName(value, shortcutMap) {\n  return isNamedShortcut(value) ? shortcutMap[value] : value;\n}\nfunction updateNamedKeys(prioritizedBindings, shortcutMap) {\n  const updatedBindings = {};\n  let previousBindings;\n  let priority;\n  if (isArray(prioritizedBindings)) {\n    [priority, previousBindings] = prioritizedBindings;\n  } else {\n    previousBindings = prioritizedBindings;\n  }\n  for (const [shortcutName, commandFunction] of entries4(previousBindings)) {\n    updatedBindings[normalizeShortcutName(shortcutName, shortcutMap)] = commandFunction;\n  }\n  return isUndefined(priority) ? updatedBindings : [priority, updatedBindings];\n}\nvar DEFAULT_SHORTCUTS = {\n  [NamedShortcut2.Copy]: \"Mod-c\",\n  [NamedShortcut2.Cut]: \"Mod-x\",\n  [NamedShortcut2.Paste]: \"Mod-v\",\n  [NamedShortcut2.PastePlain]: \"Mod-Shift-v\",\n  [NamedShortcut2.SelectAll]: \"Mod-a\",\n  [NamedShortcut2.Undo]: \"Mod-z\",\n  [NamedShortcut2.Redo]: environment3.isMac ? \"Shift-Mod-z\" : \"Mod-y\",\n  [NamedShortcut2.Bold]: \"Mod-b\",\n  [NamedShortcut2.Italic]: \"Mod-i\",\n  [NamedShortcut2.Underline]: \"Mod-u\",\n  [NamedShortcut2.Strike]: \"Mod-d\",\n  [NamedShortcut2.Code]: \"Mod-`\",\n  [NamedShortcut2.Paragraph]: \"Mod-Shift-0\",\n  [NamedShortcut2.H1]: \"Mod-Shift-1\",\n  [NamedShortcut2.H2]: \"Mod-Shift-2\",\n  [NamedShortcut2.H3]: \"Mod-Shift-3\",\n  [NamedShortcut2.H4]: \"Mod-Shift-4\",\n  [NamedShortcut2.H5]: \"Mod-Shift-5\",\n  [NamedShortcut2.H6]: \"Mod-Shift-6\",\n  [NamedShortcut2.TaskList]: \"Mod-Shift-7\",\n  [NamedShortcut2.BulletList]: \"Mod-Shift-8\",\n  [NamedShortcut2.OrderedList]: \"Mod-Shift-9\",\n  [NamedShortcut2.Quote]: \"Mod->\",\n  [NamedShortcut2.Divider]: \"Mod-Shift-|\",\n  [NamedShortcut2.Codeblock]: \"Mod-Shift-~\",\n  [NamedShortcut2.ClearFormatting]: \"Mod-Shift-C\",\n  [NamedShortcut2.Superscript]: \"Mod-.\",\n  [NamedShortcut2.Subscript]: \"Mod-,\",\n  [NamedShortcut2.LeftAlignment]: \"Mod-Shift-L\",\n  [NamedShortcut2.CenterAlignment]: \"Mod-Shift-E\",\n  [NamedShortcut2.RightAlignment]: \"Mod-Shift-R\",\n  [NamedShortcut2.JustifyAlignment]: \"Mod-Shift-J\",\n  [NamedShortcut2.InsertLink]: \"Mod-k\",\n  [NamedShortcut2.Find]: \"Mod-f\",\n  [NamedShortcut2.FindBackwards]: \"Mod-Shift-f\",\n  [NamedShortcut2.FindReplace]: \"Mod-Shift-H\",\n  [NamedShortcut2.AddFootnote]: \"Mod-Alt-f\",\n  [NamedShortcut2.AddComment]: \"Mod-Alt-m\",\n  [NamedShortcut2.ContextMenu]: \"Mod-Shift-\\\\\",\n  [NamedShortcut2.IncreaseFontSize]: \"Mod-Shift-.\",\n  [NamedShortcut2.DecreaseFontSize]: \"Mod-Shift-,\",\n  [NamedShortcut2.IncreaseIndent]: \"Tab\",\n  [NamedShortcut2.DecreaseIndent]: \"Shift-Tab\",\n  [NamedShortcut2.Shortcuts]: \"Mod-/\",\n  [NamedShortcut2.Format]: environment3.isMac ? \"Alt-Shift-f\" : \"Shift-Ctrl-f\"\n};\nvar GOOGLE_DOC_SHORTCUTS = {\n  ...DEFAULT_SHORTCUTS,\n  [NamedShortcut2.Strike]: \"Mod-Shift-S\",\n  [NamedShortcut2.Code]: \"Mod-Shift-M\",\n  [NamedShortcut2.Paragraph]: \"Mod-Alt-0\",\n  [NamedShortcut2.H1]: \"Mod-Alt-1\",\n  [NamedShortcut2.H2]: \"Mod-Alt-2\",\n  [NamedShortcut2.H3]: \"Mod-Alt-3\",\n  [NamedShortcut2.H4]: \"Mod-Alt-4\",\n  [NamedShortcut2.H5]: \"Mod-Alt-5\",\n  [NamedShortcut2.H6]: \"Mod-Alt-6\",\n  [NamedShortcut2.OrderedList]: \"Mod-Alt-7\",\n  [NamedShortcut2.BulletList]: \"Mod-Alt-8\",\n  [NamedShortcut2.Quote]: \"Mod-Alt-9\",\n  [NamedShortcut2.ClearFormatting]: \"Mod-\\\\\",\n  [NamedShortcut2.IncreaseIndent]: \"Mod-[\",\n  [NamedShortcut2.DecreaseIndent]: \"Mod-]\"\n};\nvar keyboardShortcuts = {\n  default: DEFAULT_SHORTCUTS,\n  googleDoc: GOOGLE_DOC_SHORTCUTS\n};\n\n// packages/remirror__core/src/builtins/node-views-extension.ts\nimport { isFunction as isFunction4, object as object7 } from \"@remirror/core-helpers\";\nvar NodeViewsExtension = class extends PlainExtension {\n  get name() {\n    return \"nodeViews\";\n  }\n  createPlugin() {\n    const nodeViewList = [];\n    const nodeViews = object7();\n    for (const extension2 of this.store.extensions) {\n      if (!extension2.createNodeViews) {\n        continue;\n      }\n      const nodeView = extension2.createNodeViews();\n      nodeViewList.unshift(isFunction4(nodeView) ? { [extension2.name]: nodeView } : nodeView);\n    }\n    nodeViewList.unshift(this.store.managerSettings.nodeViews ?? {});\n    for (const nodeView of nodeViewList) {\n      Object.assign(nodeViews, nodeView);\n    }\n    return {\n      props: { nodeViews }\n    };\n  }\n};\n\n// packages/remirror__core/src/builtins/paste-rules-extension.ts\nimport { isArray as isArray2 } from \"@remirror/core-helpers\";\nimport { pasteRules } from \"@remirror/pm/paste-rules\";\nvar PasteRulesExtension = class extends PlainExtension {\n  get name() {\n    return \"pasteRules\";\n  }\n  createExternalPlugins() {\n    return [this.generatePasteRulesPlugin()];\n  }\n  generatePasteRulesPlugin() {\n    var _a, _b;\n    const extensionPasteRules = [];\n    for (const extension2 of this.store.extensions) {\n      if (\n        // managerSettings excluded this from running\n        ((_a = this.store.managerSettings.exclude) == null ? void 0 : _a.pasteRules) || // Method doesn't exist\n        !extension2.createPasteRules || // Extension settings exclude it\n        ((_b = extension2.options.exclude) == null ? void 0 : _b.pasteRules)\n      ) {\n        continue;\n      }\n      const value = extension2.createPasteRules();\n      const rules = isArray2(value) ? value : [value];\n      extensionPasteRules.push(...rules);\n    }\n    return pasteRules(extensionPasteRules);\n  }\n};\n\n// packages/remirror__core/src/builtins/plugins-extension.ts\nimport { ErrorConstant as ErrorConstant7, ExtensionPriority as ExtensionPriority8, ManagerPhase } from \"@remirror/core-constants\";\nimport { assertGet as assertGet3, invariant as invariant6, isEmptyArray as isEmptyArray4, object as object8 } from \"@remirror/core-helpers\";\nimport { Plugin as Plugin2, PluginKey } from \"@remirror/pm/state\";\nvar PluginsExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * All plugins created by other extension as well.\n     */\n    this.plugins = [];\n    /**\n     * The plugins added via the manager (for reference only).\n     */\n    this.managerPlugins = [];\n    /**\n     * Called when the state is is being applied after an update.\n     */\n    this.applyStateHandlers = [];\n    /**\n     * Called when the state is first initialized.\n     */\n    this.initStateHandlers = [];\n    /**\n     * Handlers for the `onAppendTransaction` lifecycle method.\n     */\n    this.appendTransactionHandlers = [];\n    /**\n     * Store the plugin keys.\n     */\n    this.pluginKeys = object8();\n    /**\n     * Store state getters for the extension.\n     */\n    this.stateGetters = /* @__PURE__ */ new Map();\n    this.getPluginStateCreator = (key2) => (state) => key2.getState(state ?? this.store.getState());\n    // Method for retrieving the plugin state by the extension name.\n    this.getStateByName = (identifier) => {\n      const stateGetter = this.stateGetters.get(identifier);\n      invariant6(stateGetter, { message: \"No plugin exists for the requested extension name.\" });\n      return stateGetter();\n    };\n  }\n  get name() {\n    return \"plugins\";\n  }\n  /**\n   * This extension is responsible for adding state to the editor.\n   */\n  onCreate() {\n    const { setStoreKey, setExtensionStore, managerSettings, extensions } = this.store;\n    this.updateExtensionStore();\n    const { plugins = [] } = managerSettings;\n    this.updatePlugins(plugins, this.managerPlugins);\n    for (const extension2 of extensions) {\n      if (extension2.onApplyState) {\n        this.applyStateHandlers.push(extension2.onApplyState.bind(extension2));\n      }\n      if (extension2.onInitState) {\n        this.initStateHandlers.push(extension2.onInitState.bind(extension2));\n      }\n      if (extension2.onAppendTransaction) {\n        this.appendTransactionHandlers.push(extension2.onAppendTransaction.bind(extension2));\n      }\n      this.extractExtensionPlugins(extension2);\n    }\n    this.managerPlugins = plugins;\n    this.store.setStoreKey(\"plugins\", this.plugins);\n    setStoreKey(\"pluginKeys\", this.pluginKeys);\n    setStoreKey(\"getPluginState\", this.getStateByName);\n    setExtensionStore(\"getPluginState\", this.getStateByName);\n  }\n  /**\n   * Create a plugin which adds the [[`onInitState`]] and [[`onApplyState`]]\n   * lifecycle methods.\n   */\n  createPlugin() {\n    return {\n      appendTransaction: (transactions, previousState, state) => {\n        const tr = state.tr;\n        const props = { previousState, tr, transactions, state };\n        for (const handler of this.appendTransactionHandlers) {\n          handler(props);\n        }\n        this.options.appendTransaction(props);\n        return tr.docChanged || tr.steps.length > 0 || tr.selectionSet || tr.storedMarksSet ? tr : void 0;\n      },\n      state: {\n        init: (_, state) => {\n          for (const handler of this.initStateHandlers) {\n            handler(state);\n          }\n        },\n        apply: (tr, _, previousState, state) => {\n          const props = { previousState, state, tr };\n          for (const handler of this.applyStateHandlers) {\n            handler(props);\n          }\n          this.options.applyState(props);\n        }\n      }\n    };\n  }\n  /**\n   * Get all the plugins from the extension.\n   */\n  extractExtensionPlugins(extension2) {\n    var _a, _b;\n    const isNotPluginCreator = !extension2.createPlugin && !extension2.createExternalPlugins;\n    if (isNotPluginCreator || // the manager settings don't exclude plugins\n    ((_a = this.store.managerSettings.exclude) == null ? void 0 : _a.plugins) || // The extension settings don't exclude plugins\n    ((_b = extension2.options.exclude) == null ? void 0 : _b.plugins)) {\n      return;\n    }\n    if (extension2.createPlugin) {\n      const key2 = new PluginKey(extension2.name);\n      this.pluginKeys[extension2.name] = key2;\n      const getter = this.getPluginStateCreator(key2);\n      extension2.pluginKey = key2;\n      extension2.getPluginState = getter;\n      this.stateGetters.set(extension2.name, getter);\n      this.stateGetters.set(extension2.constructor, getter);\n      const pluginSpec = {\n        ...extension2.createPlugin(),\n        key: key2\n      };\n      const plugin = new Plugin2(pluginSpec);\n      this.updatePlugins([plugin], extension2.plugin ? [extension2.plugin] : void 0);\n      extension2.plugin = plugin;\n    }\n    if (extension2.createExternalPlugins) {\n      const externalPlugins = extension2.createExternalPlugins();\n      this.updatePlugins(externalPlugins, extension2.externalPlugins);\n      extension2.externalPlugins = externalPlugins;\n    }\n  }\n  /**\n   * Add or replace a plugin.\n   */\n  updatePlugins(plugins, previous) {\n    if (!previous || isEmptyArray4(previous)) {\n      this.plugins = [...this.plugins, ...plugins];\n      return;\n    }\n    if (plugins.length !== previous.length) {\n      this.plugins = [...this.plugins.filter((plugin) => !previous.includes(plugin)), ...plugins];\n      return;\n    }\n    const pluginMap = /* @__PURE__ */ new Map();\n    for (const [index, plugin] of plugins.entries()) {\n      pluginMap.set(assertGet3(previous, index), plugin);\n    }\n    this.plugins = this.plugins.map(\n      (plugin) => (\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        previous.includes(plugin) ? pluginMap.get(plugin) : plugin\n      )\n    );\n  }\n  /**\n   * Add the plugin specific properties and methods to the manager and extension\n   * store.\n   */\n  updateExtensionStore() {\n    const { setExtensionStore } = this.store;\n    setExtensionStore(\"updatePlugins\", this.updatePlugins.bind(this));\n    setExtensionStore(\"dispatchPluginUpdate\", this.dispatchPluginUpdate.bind(this));\n    setExtensionStore(\"updateExtensionPlugins\", this.updateExtensionPlugins.bind(this));\n  }\n  /**\n   * Reruns the `createPlugin` and `createExternalPlugins` methods of the\n   * provided extension.\n   *\n   * ```ts\n   * // From within an extension\n   * this.store.updateExtensionPlugins(this);\n   * ```\n   */\n  updateExtensionPlugins(value) {\n    const extension2 = isExtension(value) ? value : isExtensionConstructor(value) ? this.store.manager.getExtension(value) : this.store.extensions.find((extension3) => extension3.name === value);\n    invariant6(extension2, {\n      code: ErrorConstant7.INVALID_MANAGER_EXTENSION,\n      message: `The extension ${value} does not exist within the editor.`\n    });\n    this.extractExtensionPlugins(extension2);\n    this.store.setStoreKey(\"plugins\", this.plugins);\n    this.dispatchPluginUpdate();\n  }\n  /**\n   * Applies the store plugins to the state. If any have changed then it will be\n   * updated.\n   */\n  dispatchPluginUpdate() {\n    invariant6(this.store.phase >= ManagerPhase.EditorView, {\n      code: ErrorConstant7.MANAGER_PHASE_ERROR,\n      message: \"`dispatchPluginUpdate` should only be called after the view has been added to the manager.\"\n    });\n    const { view, updateState } = this.store;\n    const newState = view.state.reconfigure({ plugins: this.plugins });\n    updateState(newState);\n  }\n};\nPluginsExtension = __decorateClass([\n  extension({\n    defaultPriority: ExtensionPriority8.Highest,\n    handlerKeys: [\"applyState\", \"appendTransaction\"]\n  })\n], PluginsExtension);\n\n// packages/remirror__core/src/builtins/schema-extension.ts\nimport {\n  ErrorConstant as ErrorConstant8,\n  ExtensionPriority as ExtensionPriority9,\n  ExtensionTag as ExtensionTag3\n} from \"@remirror/core-constants\";\nimport {\n  assertGet as assertGet4,\n  entries as entries5,\n  invariant as invariant7,\n  isArray as isArray3,\n  isFunction as isFunction5,\n  isNullOrUndefined,\n  isPlainObject,\n  isString as isString5,\n  object as object9,\n  toString\n} from \"@remirror/core-helpers\";\nimport {\n  getDefaultBlockNode,\n  getMarkRange as getMarkRange3,\n  isElementDomNode,\n  isProsemirrorMark,\n  isProsemirrorNode as isProsemirrorNode2\n} from \"@remirror/core-utils\";\nimport { Schema } from \"@remirror/pm/model\";\nimport { ignoreUpdateForSuggest } from \"@remirror/pm/suggest\";\nvar SchemaExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * The dynamic attributes for each node and mark extension.\n     *\n     * The structure will look like the following.\n     *\n     * ```ts\n     * {\n     *   paragraph: { id: () => uid(), hash: (node) => hash(node) },\n     *   bold: { random: () => Math.random(), created: () => Date.now() },\n     * };\n     * ```\n     *\n     * This object is used by the created plugin to listen for changes to the doc,\n     * and check for new nodes and marks which haven't yet applied the dynamic\n     * attribute and add the attribute.\n     */\n    this.dynamicAttributes = {\n      marks: object9(),\n      nodes: object9()\n    };\n  }\n  get name() {\n    return \"schema\";\n  }\n  /**\n   * This method is responsible for creating, configuring and adding the\n   * `schema` to the editor. `Schema` is a special type in ProseMirror editors\n   * and with `remirror` it's all just handled for you.\n   */\n  onCreate() {\n    const { managerSettings, tags, markNames, nodeNames, extensions } = this.store;\n    const { defaultBlockNode, disableExtraAttributes, nodeOverride, markOverride } = managerSettings;\n    const isValidDefaultBlockNode = (name) => !!(name && tags[ExtensionTag3.Block].includes(name));\n    if (managerSettings.schema) {\n      const { nodes: nodes2, marks: marks2 } = getSpecFromSchema(managerSettings.schema);\n      this.addSchema(managerSettings.schema, nodes2, marks2);\n      return;\n    }\n    const nodes = isValidDefaultBlockNode(defaultBlockNode) ? {\n      doc: object9(),\n      // Ensure that this is the highest positioned block node by adding it\n      // to the object early. Later on it will be overwritten but maintain\n      // it's position.\n      [defaultBlockNode]: object9()\n    } : object9();\n    const marks = object9();\n    const namedExtraAttributes = getNamedSchemaAttributes({\n      settings: managerSettings,\n      gatheredSchemaAttributes: this.gatherExtraAttributes(extensions),\n      nodeNames,\n      markNames,\n      tags\n    });\n    for (const extension2 of extensions) {\n      namedExtraAttributes[extension2.name] = {\n        ...namedExtraAttributes[extension2.name],\n        ...extension2.options.extraAttributes\n      };\n      const ignoreExtraAttributes = disableExtraAttributes === true || extension2.options.disableExtraAttributes === true || extension2.constructor.disableExtraAttributes === true;\n      if (isNodeExtension(extension2)) {\n        const { spec, dynamic } = createSpec({\n          createExtensionSpec: (extra, override) => extension2.createNodeSpec(extra, override),\n          extraAttributes: assertGet4(namedExtraAttributes, extension2.name),\n          // Todo add support for setting overrides via the manager.\n          override: { ...nodeOverride, ...extension2.options.nodeOverride },\n          ignoreExtraAttributes,\n          name: extension2.constructorName,\n          tags: extension2.tags\n        });\n        extension2.spec = spec;\n        nodes[extension2.name] = spec;\n        if (Object.keys(dynamic).length > 0) {\n          this.dynamicAttributes.nodes[extension2.name] = dynamic;\n        }\n      }\n      if (isMarkExtension(extension2)) {\n        const { spec, dynamic } = createSpec({\n          createExtensionSpec: (extra, override) => extension2.createMarkSpec(extra, override),\n          extraAttributes: assertGet4(namedExtraAttributes, extension2.name),\n          // Todo add support for setting overrides via the manager.\n          override: { ...markOverride, ...extension2.options.markOverride },\n          ignoreExtraAttributes,\n          name: extension2.constructorName,\n          tags: extension2.tags ?? []\n        });\n        extension2.spec = spec;\n        marks[extension2.name] = spec;\n        if (Object.keys(dynamic).length > 0) {\n          this.dynamicAttributes.marks[extension2.name] = dynamic;\n        }\n      }\n    }\n    const schema = new Schema({ nodes, marks, topNode: \"doc\" });\n    this.addSchema(\n      schema,\n      nodes,\n      marks\n    );\n  }\n  /**\n   * This creates the plugin that is used to automatically create the dynamic\n   * attributes defined in the extra attributes object.\n   */\n  createPlugin() {\n    return {\n      appendTransaction: (transactions, _, nextState) => {\n        const { tr } = nextState;\n        const documentHasChanged = transactions.some((tr2) => tr2.docChanged);\n        if (!documentHasChanged) {\n          return null;\n        }\n        if (Object.keys(this.dynamicAttributes.nodes).length === 0 && Object.keys(this.dynamicAttributes.marks).length === 0) {\n          return null;\n        }\n        tr.doc.descendants((child, pos) => {\n          this.checkAndUpdateDynamicNodes(child, pos, tr);\n          this.checkAndUpdateDynamicMarks(child, pos, tr);\n          return true;\n        });\n        return tr.steps.length > 0 ? tr : null;\n      }\n    };\n  }\n  /**\n   * Add the schema and nodes to the manager and extension store.\n   */\n  addSchema(schema, nodes, marks) {\n    this.store.setStoreKey(\"nodes\", nodes);\n    this.store.setStoreKey(\"marks\", marks);\n    this.store.setStoreKey(\"schema\", schema);\n    this.store.setExtensionStore(\"schema\", schema);\n    this.store.setStoreKey(\"defaultBlockNode\", getDefaultBlockNode(schema).name);\n    for (const type of Object.values(schema.nodes)) {\n      if (type.name === \"doc\") {\n        continue;\n      }\n      if (type.isBlock || type.isTextblock) {\n        break;\n      }\n    }\n  }\n  /**\n   * Check the dynamic nodes to see if the provided node:\n   *\n   * - a) is dynamic and therefore can be updated.\n   * - b) has just been created and does not yet have a value for the dynamic\n   *   node.\n   *\n   * @param node - the node\n   * @param pos - the node's position\n   * @param tr - the mutable ProseMirror transaction which is applied to create\n   * the next editor state\n   */\n  checkAndUpdateDynamicNodes(node, pos, tr) {\n    for (const [name, dynamic] of entries5(this.dynamicAttributes.nodes)) {\n      if (node.type.name !== name) {\n        continue;\n      }\n      for (const [attributeName, attributeCreator] of entries5(dynamic)) {\n        if (!isNullOrUndefined(node.attrs[attributeName])) {\n          continue;\n        }\n        const attrs = { ...node.attrs, [attributeName]: attributeCreator(node) };\n        tr.setNodeMarkup(pos, void 0, attrs);\n        ignoreUpdateForSuggest(tr);\n      }\n    }\n  }\n  /**\n   * Loop through the dynamic marks to see if the provided node:\n   *\n   * - a) is wrapped by a matching mark.\n   * - b) has just been added and doesn't yet have the dynamic attribute\n   *   applied.\n   *\n   * @param node - the node\n   * @param pos - the node's position\n   * @param tr - the mutable ProseMirror transaction which is applied to create\n   * the next editor state.\n   */\n  checkAndUpdateDynamicMarks(node, pos, tr) {\n    for (const [name, dynamic] of entries5(this.dynamicAttributes.marks)) {\n      const type = assertGet4(this.store.schema.marks, name);\n      const mark = node.marks.find((mark2) => mark2.type.name === name);\n      if (!mark) {\n        continue;\n      }\n      for (const [attributeName, attributeCreator] of entries5(dynamic)) {\n        if (!isNullOrUndefined(mark.attrs[attributeName])) {\n          continue;\n        }\n        const range = getMarkRange3(tr.doc.resolve(pos), type);\n        if (!range) {\n          continue;\n        }\n        const { from, to } = range;\n        const newMark = type.create({\n          ...mark.attrs,\n          [attributeName]: attributeCreator(mark)\n        });\n        tr.removeMark(from, to, type).addMark(from, to, newMark);\n        ignoreUpdateForSuggest(tr);\n      }\n    }\n  }\n  /**\n   * Gather all the extra attributes that have been added by extensions.\n   */\n  gatherExtraAttributes(extensions) {\n    const extraSchemaAttributes = [];\n    for (const extension2 of extensions) {\n      if (!extension2.createSchemaAttributes) {\n        continue;\n      }\n      extraSchemaAttributes.push(...extension2.createSchemaAttributes());\n    }\n    return extraSchemaAttributes;\n  }\n};\nSchemaExtension = __decorateClass([\n  extension({ defaultPriority: ExtensionPriority9.Highest })\n], SchemaExtension);\nfunction getNamedSchemaAttributes(props) {\n  const { settings, gatheredSchemaAttributes, nodeNames, markNames, tags } = props;\n  const extraAttributes = object9();\n  if (settings.disableExtraAttributes) {\n    return extraAttributes;\n  }\n  const extraSchemaAttributes = [\n    ...gatheredSchemaAttributes,\n    ...settings.extraAttributes ?? []\n  ];\n  for (const attributeGroup of extraSchemaAttributes ?? []) {\n    const identifiers = getIdentifiers({\n      identifiers: attributeGroup.identifiers,\n      nodeNames,\n      markNames,\n      tags\n    });\n    for (const identifier of identifiers) {\n      const currentValue = extraAttributes[identifier] ?? {};\n      extraAttributes[identifier] = { ...currentValue, ...attributeGroup.attributes };\n    }\n  }\n  return extraAttributes;\n}\nfunction isIdentifiersObject(value) {\n  return isPlainObject(value) && isArray3(value.tags);\n}\nfunction getIdentifiers(props) {\n  const { identifiers, nodeNames, markNames, tags } = props;\n  if (identifiers === \"nodes\") {\n    return nodeNames;\n  }\n  if (identifiers === \"marks\") {\n    return markNames;\n  }\n  if (identifiers === \"all\") {\n    return [...nodeNames, ...markNames];\n  }\n  if (isArray3(identifiers)) {\n    return identifiers;\n  }\n  invariant7(isIdentifiersObject(identifiers), {\n    code: ErrorConstant8.EXTENSION_EXTRA_ATTRIBUTES,\n    message: `Invalid value passed as an identifier when creating \\`extraAttributes\\`.`\n  });\n  const {\n    tags: extensionTags = [],\n    names: extensionNames = [],\n    behavior = \"any\",\n    excludeNames,\n    excludeTags,\n    type\n  } = identifiers;\n  const names = /* @__PURE__ */ new Set();\n  const acceptableNames = type === \"mark\" ? markNames : type === \"node\" ? nodeNames : [...markNames, ...nodeNames];\n  const isNameValid = (name) => acceptableNames.includes(name) && !(excludeNames == null ? void 0 : excludeNames.includes(name));\n  for (const name of extensionNames) {\n    if (isNameValid(name)) {\n      names.add(name);\n    }\n  }\n  const taggedNamesMap = /* @__PURE__ */ new Map();\n  for (const tag of extensionTags) {\n    if (excludeTags == null ? void 0 : excludeTags.includes(tag)) {\n      continue;\n    }\n    for (const name of tags[tag]) {\n      if (!isNameValid(name)) {\n        continue;\n      }\n      if (behavior === \"any\") {\n        names.add(name);\n        continue;\n      }\n      const tagSet = taggedNamesMap.get(name) ?? /* @__PURE__ */ new Set();\n      tagSet.add(tag);\n      taggedNamesMap.set(name, tagSet);\n    }\n  }\n  for (const [name, tagSet] of taggedNamesMap) {\n    if (tagSet.size === extensionTags.length) {\n      names.add(name);\n    }\n  }\n  return [...names];\n}\nfunction createSpec(props) {\n  var _a;\n  const { createExtensionSpec, extraAttributes, ignoreExtraAttributes, name, tags, override } = props;\n  const dynamic = object9();\n  function addDynamic(attributeName, creator) {\n    dynamic[attributeName] = creator;\n  }\n  let defaultsCalled = false;\n  function onDefaultsCalled() {\n    defaultsCalled = true;\n  }\n  const defaults = createDefaults(\n    extraAttributes,\n    ignoreExtraAttributes,\n    onDefaultsCalled,\n    addDynamic\n  );\n  const parse = createParseDOM(extraAttributes, ignoreExtraAttributes);\n  const dom = createToDOM(extraAttributes, ignoreExtraAttributes);\n  const spec = createExtensionSpec({ defaults, parse, dom }, override);\n  invariant7(ignoreExtraAttributes || defaultsCalled, {\n    code: ErrorConstant8.EXTENSION_SPEC,\n    message: `When creating a node specification you must call the 'defaults', and parse, and 'dom' methods. To avoid this error you can set the static property 'disableExtraAttributes' of '${name}' to 'true'.`\n  });\n  spec.group = [...((_a = spec.group) == null ? void 0 : _a.split(\" \")) ?? [], ...tags].join(\" \") || void 0;\n  return { spec, dynamic };\n}\nfunction getExtraAttributesObject(value) {\n  if (isString5(value) || isFunction5(value)) {\n    return { default: value };\n  }\n  invariant7(value, {\n    message: `${toString(value)} is not supported`,\n    code: ErrorConstant8.EXTENSION_EXTRA_ATTRIBUTES\n  });\n  return value;\n}\nfunction createDefaults(extraAttributes, shouldIgnore, onCalled, addDynamicCreator) {\n  return () => {\n    onCalled();\n    const attributes = object9();\n    if (shouldIgnore) {\n      return attributes;\n    }\n    for (const [name, config] of entries5(extraAttributes)) {\n      const attributesObject = getExtraAttributesObject(config);\n      let defaultValue = attributesObject.default;\n      if (isFunction5(defaultValue)) {\n        addDynamicCreator(name, defaultValue);\n        defaultValue = null;\n      }\n      attributes[name] = defaultValue === void 0 ? {} : { default: defaultValue };\n    }\n    return attributes;\n  };\n}\nfunction createParseDOM(extraAttributes, shouldIgnore) {\n  return (domNode) => {\n    const attributes = object9();\n    if (shouldIgnore) {\n      return attributes;\n    }\n    for (const [name, config] of entries5(extraAttributes)) {\n      const { parseDOM, ...other } = getExtraAttributesObject(config);\n      if (!isElementDomNode(domNode)) {\n        continue;\n      }\n      if (isNullOrUndefined(parseDOM)) {\n        attributes[name] = domNode.getAttribute(name) ?? other.default;\n        continue;\n      }\n      if (isFunction5(parseDOM)) {\n        attributes[name] = parseDOM(domNode) ?? other.default;\n        continue;\n      }\n      attributes[name] = domNode.getAttribute(parseDOM) ?? other.default;\n    }\n    return attributes;\n  };\n}\nfunction createToDOM(extraAttributes, shouldIgnore) {\n  return (item) => {\n    const domAttributes = object9();\n    if (shouldIgnore) {\n      return domAttributes;\n    }\n    function updateDomAttributes(value, name) {\n      if (!value) {\n        return;\n      }\n      if (isString5(value)) {\n        domAttributes[name] = value;\n        return;\n      }\n      if (isArray3(value)) {\n        const [attr, val] = value;\n        domAttributes[attr] = val ?? item.attrs[name];\n        return;\n      }\n      for (const [attr, val] of entries5(value)) {\n        domAttributes[attr] = val;\n      }\n    }\n    for (const [name, config] of entries5(extraAttributes)) {\n      const { toDOM, parseDOM } = getExtraAttributesObject(config);\n      if (isNullOrUndefined(toDOM)) {\n        const key2 = isString5(parseDOM) ? parseDOM : name;\n        domAttributes[key2] = item.attrs[name];\n        continue;\n      }\n      if (isFunction5(toDOM)) {\n        updateDomAttributes(toDOM(item.attrs, getNodeMarkOptions(item)), name);\n        continue;\n      }\n      updateDomAttributes(toDOM, name);\n    }\n    return domAttributes;\n  };\n}\nfunction getNodeMarkOptions(item) {\n  if (isProsemirrorNode2(item)) {\n    return { node: item };\n  }\n  if (isProsemirrorMark(item)) {\n    return { mark: item };\n  }\n  return {};\n}\nfunction getSpecFromSchema(schema) {\n  const nodes = object9();\n  const marks = object9();\n  for (const [name, type] of Object.entries(schema.nodes)) {\n    nodes[name] = type.spec;\n  }\n  for (const [name, type] of Object.entries(schema.marks)) {\n    marks[name] = type.spec;\n  }\n  return { nodes, marks };\n}\n\n// packages/remirror__core/src/builtins/suggest-extension.ts\nimport { includes as includes2, isArray as isArray4 } from \"@remirror/core-helpers\";\nimport {\n  addSuggester,\n  getSuggestPluginState,\n  removeSuggester,\n  suggest\n} from \"@remirror/pm/suggest\";\nvar SuggestExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * Allow additional `Suggesters` to be added to the editor. This can be used\n     * by `React` to create hooks.\n     */\n    this.onAddCustomHandler = ({ suggester }) => {\n      var _a;\n      if (!suggester || ((_a = this.store.managerSettings.exclude) == null ? void 0 : _a.suggesters)) {\n        return;\n      }\n      return addSuggester(this.store.getState(), suggester);\n    };\n  }\n  get name() {\n    return \"suggest\";\n  }\n  /**\n   * Create the `addSuggester` method and `removeSuggester` methods to the\n   * extension store.\n   *\n   * This can be used by extensions to conditionally add suggestion support.\n   */\n  onCreate() {\n    this.store.setExtensionStore(\n      \"addSuggester\",\n      (suggester) => addSuggester(this.store.getState(), suggester)\n    );\n    this.store.setExtensionStore(\n      \"removeSuggester\",\n      (suggester) => removeSuggester(this.store.getState(), suggester)\n    );\n  }\n  /**\n   * Add the `prosemirror-suggest` plugin to the editor.\n   */\n  createExternalPlugins() {\n    var _a, _b;\n    const suggesters = [];\n    for (const extension2 of this.store.extensions) {\n      if ((_a = this.store.managerSettings.exclude) == null ? void 0 : _a.suggesters) {\n        break;\n      }\n      if (\n        // Method doesn't exist\n        !extension2.createSuggesters || // Extension settings exclude it from running\n        ((_b = extension2.options.exclude) == null ? void 0 : _b.suggesters)\n      ) {\n        continue;\n      }\n      const suggester = extension2.createSuggesters();\n      const suggesterList = isArray4(suggester) ? suggester : [suggester];\n      suggesters.push(...suggesterList);\n    }\n    return [suggest(...suggesters)];\n  }\n  getSuggestState(state) {\n    return getSuggestPluginState(state ?? this.store.getState());\n  }\n  getSuggestMethods() {\n    const {\n      addIgnored,\n      clearIgnored,\n      removeIgnored,\n      ignoreNextExit,\n      setMarkRemoved,\n      findMatchAtPosition,\n      findNextTextSelection,\n      setLastChangeFromAppend\n    } = this.getSuggestState();\n    return {\n      addIgnored,\n      clearIgnored,\n      removeIgnored,\n      ignoreNextExit,\n      setMarkRemoved,\n      findMatchAtPosition,\n      findNextTextSelection,\n      setLastChangeFromAppend\n    };\n  }\n  isSuggesterActive(name) {\n    var _a;\n    return includes2(isArray4(name) ? name : [name], (_a = this.getSuggestState().match) == null ? void 0 : _a.suggester.name);\n  }\n};\n__decorateClass([\n  helper()\n], SuggestExtension.prototype, \"getSuggestState\", 1);\n__decorateClass([\n  helper()\n], SuggestExtension.prototype, \"getSuggestMethods\", 1);\n__decorateClass([\n  helper()\n], SuggestExtension.prototype, \"isSuggesterActive\", 1);\nSuggestExtension = __decorateClass([\n  extension({ customHandlerKeys: [\"suggester\"] })\n], SuggestExtension);\n\n// packages/remirror__core/src/builtins/tags-extension.ts\nimport {\n  ErrorConstant as ErrorConstant9,\n  ExtensionPriority as ExtensionPriority10,\n  ExtensionTag as ExtensionTag4\n} from \"@remirror/core-constants\";\nimport { includes as includes3, invariant as invariant8, object as object10, values as values2 } from \"@remirror/core-helpers\";\nvar TagsExtension = class extends PlainExtension {\n  constructor() {\n    super(...arguments);\n    /**\n     * Track the tags which have been applied to the extensions in this editor.\n     */\n    this.allTags = object10();\n    /**\n     * The tags for plain extensions.\n     */\n    this.plainTags = object10();\n    /**\n     * The tags for mark extensions.\n     */\n    this.markTags = object10();\n    /**\n     * The tags for node extensions.\n     */\n    this.nodeTags = object10();\n  }\n  get name() {\n    return \"tags\";\n  }\n  /**\n   * Create the tags which are used to identify extension with particular\n   * behavioral traits.\n   */\n  onCreate() {\n    this.resetTags();\n    for (const extension2 of this.store.extensions) {\n      this.updateTagForExtension(extension2);\n    }\n    this.store.setStoreKey(\"tags\", this.allTags);\n    this.store.setExtensionStore(\"tags\", this.allTags);\n    this.store.setStoreKey(\"plainTags\", this.plainTags);\n    this.store.setExtensionStore(\"plainTags\", this.plainTags);\n    this.store.setStoreKey(\"markTags\", this.markTags);\n    this.store.setExtensionStore(\"markTags\", this.markTags);\n    this.store.setStoreKey(\"nodeTags\", this.nodeTags);\n    this.store.setExtensionStore(\"nodeTags\", this.nodeTags);\n  }\n  /**\n   * Reset the tags to the empty object with empty arrays.\n   */\n  resetTags() {\n    const allTags = object10();\n    const plainTags = object10();\n    const markTags = object10();\n    const nodeTags = object10();\n    for (const tagName of values2(ExtensionTag4)) {\n      allTags[tagName] = [];\n      plainTags[tagName] = [];\n      markTags[tagName] = [];\n      nodeTags[tagName] = [];\n    }\n    this.allTags = allTags;\n    this.plainTags = plainTags;\n    this.markTags = markTags;\n    this.nodeTags = nodeTags;\n  }\n  /**\n   * Update the tags object for each extension.\n   */\n  updateTagForExtension(extension2) {\n    var _a, _b;\n    const allTags = /* @__PURE__ */ new Set([\n      // TODO remove `extension.tags` once all tags have been moved over to `createTags`\n      ...extension2.tags ?? [],\n      ...((_a = extension2.createTags) == null ? void 0 : _a.call(extension2)) ?? [],\n      ...extension2.options.extraTags ?? [],\n      ...((_b = this.store.managerSettings.extraTags) == null ? void 0 : _b[extension2.name]) ?? []\n    ]);\n    for (const tag of allTags) {\n      invariant8(isExtensionTag(tag), {\n        code: ErrorConstant9.EXTENSION,\n        message: `The tag provided by the extension: ${extension2.constructorName} is not supported by the editor. To add custom tags you can use the 'mutateTag' method.`\n      });\n      this.allTags[tag].push(extension2.name);\n      if (isPlainExtension(extension2)) {\n        this.plainTags[tag].push(extension2.name);\n      }\n      if (isMarkExtension(extension2)) {\n        this.markTags[tag].push(extension2.name);\n      }\n      if (isNodeExtension(extension2)) {\n        this.nodeTags[tag].push(extension2.name);\n      }\n    }\n    extension2.tags = [...allTags];\n  }\n};\nTagsExtension = __decorateClass([\n  extension({ defaultPriority: ExtensionPriority10.Highest })\n], TagsExtension);\nfunction isExtensionTag(value) {\n  return includes3(values2(ExtensionTag4), value);\n}\n\n// packages/remirror__core/src/builtins/upload-extension/file-placeholder-plugin.ts\nimport { Plugin as Plugin3, PluginKey as PluginKey2 } from \"@remirror/pm/state\";\nimport { Decoration as Decoration2, DecorationSet as DecorationSet2 } from \"@remirror/pm/view\";\nvar key = new PluginKey2(\"remirrorFilePlaceholderPlugin\");\nfunction createUploadPlaceholderPlugin() {\n  const plugin = new Plugin3({\n    key,\n    state: {\n      init() {\n        return { set: DecorationSet2.empty, payloads: /* @__PURE__ */ new Map() };\n      },\n      apply(tr, { set, payloads }) {\n        set = set.map(tr.mapping, tr.doc);\n        const action = tr.getMeta(plugin);\n        if (action) {\n          if (action.type === 0 /* ADD_PLACEHOLDER */) {\n            const widget = document.createElement(\"placeholder\");\n            const deco = Decoration2.widget(action.pos, widget, { id: action.id });\n            set = set.add(tr.doc, [deco]);\n            payloads.set(action.id, action.payload);\n          } else if (action.type === 1 /* REMOVE_PLACEHOLDER */) {\n            set = set.remove(set.find(void 0, void 0, (spec) => spec.id === action.id));\n            payloads.delete(action.id);\n          }\n        }\n        return { set, payloads };\n      }\n    },\n    props: {\n      decorations(state) {\n        var _a;\n        return ((_a = plugin.getState(state)) == null ? void 0 : _a.set) ?? null;\n      }\n    }\n  });\n  return plugin;\n}\nfunction findUploadPlaceholderPos(state, id) {\n  var _a, _b;\n  const set = (_a = key.getState(state)) == null ? void 0 : _a.set;\n  if (set) {\n    const decorations = set.find(void 0, void 0, (spec) => spec.id === id);\n    const pos = (_b = decorations == null ? void 0 : decorations[0]) == null ? void 0 : _b.from;\n    if (pos != null && pos < state.doc.content.size) {\n      const $pos = state.doc.resolve(pos);\n      const node = $pos.nodeAfter;\n      if ((node == null ? void 0 : node.attrs.id) === id) {\n        return pos;\n      }\n    }\n  }\n  let foundPos;\n  state.doc.descendants((node, pos) => {\n    if (node.attrs.id === id) {\n      foundPos = pos;\n    }\n    return foundPos === void 0;\n  });\n  return foundPos;\n}\nfunction findUploadPlaceholderPayload(state, id) {\n  var _a;\n  const payloads = (_a = key.getState(state)) == null ? void 0 : _a.payloads;\n  if (!payloads) {\n    return void 0;\n  }\n  return payloads.get(id);\n}\nfunction hasUploadingFile(state) {\n  var _a, _b;\n  const placeholderCount = ((_b = (_a = key.getState(state)) == null ? void 0 : _a.payloads) == null ? void 0 : _b.size) ?? 0;\n  return placeholderCount > 0;\n}\nfunction setUploadPlaceholderAction(tr, action) {\n  return tr.setMeta(key, action);\n}\n\n// packages/remirror__core/src/builtins/upload-extension/file-upload.ts\nimport { isNumber as isNumber2, uniqueId as uniqueId2 } from \"@remirror/core-helpers\";\n\n// packages/remirror__core/src/builtins/upload-extension/upload-context.ts\nimport { createNanoEvents } from \"nanoevents\";\nfunction createUploadContext() {\n  const values3 = {};\n  const emitter = createNanoEvents();\n  const get = (key2) => values3[key2];\n  const set = (key2, value) => {\n    values3[key2] = value;\n    emitter.emit(\"set\", values3);\n  };\n  const addListener = (listener) => emitter.on(\"set\", listener);\n  return { set, get, addListener };\n}\n\n// packages/remirror__core/src/builtins/upload-extension/file-upload.ts\nfunction uploadFile({\n  file,\n  pos,\n  view,\n  fileType,\n  uploadHandler\n}) {\n  const id = uniqueId2(\"file-placeholder-\");\n  const context = createUploadContext();\n  const fileUploader = createFilePlaceholder({\n    id,\n    context,\n    file,\n    pos,\n    view,\n    fileType,\n    uploadHandler\n  });\n  fileUploader == null ? void 0 : fileUploader.upload(context).then((attrs) => onFileLoaded({ id, fileType, view, attrs })).catch((error) => onFileLoaded({ id, fileType, view, attrs: { error: error.message } }));\n}\nfunction insertFilePoint(doc, pos, nodeType) {\n  const $pos = doc.resolve(pos);\n  if ($pos.parent.canReplaceWith($pos.index(), $pos.index(), nodeType)) {\n    return pos;\n  }\n  if ($pos.parentOffset === 0) {\n    for (let d = $pos.depth - 1; d >= 0; d--) {\n      const index = $pos.index(d);\n      if ($pos.node(d).canReplaceWith(index, index, nodeType)) {\n        return $pos.before(d + 1);\n      }\n      if (index > 0) {\n        return null;\n      }\n    }\n  }\n  for (let d = $pos.depth - 1; d >= 0; d--) {\n    const index = $pos.indexAfter(d);\n    if ($pos.node(d).canReplaceWith(index, index, nodeType)) {\n      return $pos.after(d + 1);\n    }\n    if (index < $pos.node(d).childCount) {\n      return null;\n    }\n  }\n  return null;\n}\nfunction createFilePlaceholder({\n  id,\n  context,\n  file,\n  pos,\n  view,\n  fileType,\n  uploadHandler\n}) {\n  const tr = view.state.tr;\n  const insertPos = insertFilePoint(tr.doc, isNumber2(pos) ? pos : tr.selection.from, fileType);\n  if (!isNumber2(insertPos)) {\n    return;\n  }\n  const fileUploader = uploadHandler();\n  const attrs = { ...fileUploader.insert(file), id };\n  tr.insert(insertPos, fileType.createChecked(attrs));\n  const payload = { context, fileUploader };\n  setUploadPlaceholderAction(tr, { type: 0 /* ADD_PLACEHOLDER */, id, pos: insertPos, payload });\n  view.dispatch(tr);\n  return fileUploader;\n}\nfunction onFileLoaded({\n  id,\n  attrs,\n  fileType,\n  view\n}) {\n  const placeholderPos = findUploadPlaceholderPos(view.state, id);\n  if (placeholderPos == null) {\n    return;\n  }\n  const $pos = view.state.doc.resolve(placeholderPos);\n  const fileNode = $pos.nodeAfter;\n  if (!fileNode || fileNode.type !== fileType || fileNode.attrs.id !== id) {\n    const tr2 = view.state.tr;\n    setUploadPlaceholderAction(tr2, { type: 1 /* REMOVE_PLACEHOLDER */, id });\n    view.dispatch(tr2);\n    return;\n  }\n  const tr = view.state.tr;\n  setUploadPlaceholderAction(tr, { type: 1 /* REMOVE_PLACEHOLDER */, id });\n  const fileAttrs = { ...fileNode.attrs, ...attrs, id: null };\n  tr.setNodeMarkup(placeholderPos, void 0, fileAttrs);\n  view.dispatch(tr);\n}\n\n// packages/remirror__core/src/builtins/upload-extension/upload-extension.ts\nvar UploadExtension = class extends PlainExtension {\n  get name() {\n    return \"upload\";\n  }\n  /**\n   * Create the extension plugin for inserting decorations into the editor.\n   */\n  createExternalPlugins() {\n    return [createUploadPlaceholderPlugin()];\n  }\n};\n\n// packages/remirror__core/src/builtins/builtin-preset.ts\nfunction builtinPreset(options = {}) {\n  const defaultOptions2 = {\n    exitMarksOnArrowPress: KeymapExtension.defaultOptions.exitMarksOnArrowPress,\n    excludeBaseKeymap: KeymapExtension.defaultOptions.excludeBaseKeymap,\n    selectParentNodeOnEscape: KeymapExtension.defaultOptions.selectParentNodeOnEscape,\n    undoInputRuleOnBackspace: KeymapExtension.defaultOptions.undoInputRuleOnBackspace,\n    persistentSelectionClass: DecorationsExtension.defaultOptions.persistentSelectionClass\n  };\n  options = { ...defaultOptions2, ...options };\n  const keymapOptions = pick(options, [\n    \"excludeBaseKeymap\",\n    \"selectParentNodeOnEscape\",\n    \"undoInputRuleOnBackspace\"\n  ]);\n  const decorationsOptions = pick(options, [\"persistentSelectionClass\"]);\n  return [\n    // The order of these extension is important. First come first served.\n    new TagsExtension(),\n    new SchemaExtension(),\n    new AttributesExtension(),\n    new PluginsExtension(),\n    new InputRulesExtension(),\n    new PasteRulesExtension(),\n    new NodeViewsExtension(),\n    new SuggestExtension(),\n    new CommandsExtension(),\n    new HelpersExtension(),\n    new KeymapExtension(keymapOptions),\n    new DocChangedExtension(),\n    new UploadExtension(),\n    new DecorationsExtension(decorationsOptions)\n  ];\n}\n\n// packages/remirror__core/src/builtins/meta-extension.ts\nimport { ExtensionPriority as ExtensionPriority11 } from \"@remirror/core-constants\";\nimport { environment as environment4 } from \"@remirror/core-utils\";\nvar MetaExtension = class extends PlainExtension {\n  get name() {\n    return \"meta\";\n  }\n  onCreate() {\n    this.store.setStoreKey(\"getCommandMeta\", this.getCommandMeta.bind(this));\n    if (!this.options.capture) {\n      return;\n    }\n    for (const extension2 of this.store.extensions) {\n      this.captureCommands(extension2);\n      this.captureKeybindings(extension2);\n    }\n  }\n  /**\n   * This is here to provide a\n   */\n  createPlugin() {\n    return {};\n  }\n  /**\n   * Intercept command names and attributes.\n   */\n  captureCommands(extension2) {\n    const decoratedCommands = extension2.decoratedCommands ?? {};\n    const createCommands = extension2.createCommands;\n    for (const name of Object.keys(decoratedCommands)) {\n      const command2 = extension2[name];\n      extension2[name] = (...args) => (props) => {\n        var _a;\n        const value = command2(...args)(props);\n        if (props.dispatch && value) {\n          this.setCommandMeta(props.tr, {\n            type: \"command\",\n            chain: props.dispatch !== ((_a = props.view) == null ? void 0 : _a.dispatch),\n            name,\n            extension: extension2.name,\n            decorated: true\n          });\n        }\n        return value;\n      };\n    }\n    if (createCommands) {\n      extension2.createCommands = () => {\n        const commandsObject = createCommands();\n        for (const [name, command2] of Object.entries(commandsObject)) {\n          commandsObject[name] = (...args) => (props) => {\n            var _a;\n            const value = command2(...args)(props);\n            if (props.dispatch && value) {\n              this.setCommandMeta(props.tr, {\n                type: \"command\",\n                chain: props.dispatch !== ((_a = props.view) == null ? void 0 : _a.dispatch),\n                name,\n                extension: extension2.name,\n                decorated: false\n              });\n            }\n            return value;\n          };\n        }\n        return commandsObject;\n      };\n    }\n  }\n  /**\n   * Intercept command name and attributes.\n   */\n  captureKeybindings(_) {\n  }\n  /**\n   * Get the command metadata.\n   */\n  getCommandMeta(tr) {\n    return tr.getMeta(this.pluginKey) ?? [];\n  }\n  setCommandMeta(tr, update) {\n    const meta = this.getCommandMeta(tr);\n    tr.setMeta(this.pluginKey, [...meta, update]);\n  }\n};\nMetaExtension = __decorateClass([\n  extension({\n    defaultOptions: {\n      capture: environment4.isDevelopment\n    },\n    staticKeys: [\"capture\"],\n    defaultPriority: ExtensionPriority11.Highest\n  })\n], MetaExtension);\n\n// packages/remirror__core/src/framework/framework.ts\nimport { createNanoEvents as createNanoEvents2 } from \"nanoevents\";\nimport { ErrorConstant as ErrorConstant10 } from \"@remirror/core-constants\";\nimport {\n  invariant as invariant9,\n  isEmptyArray as isEmptyArray5,\n  isFunction as isFunction6,\n  isNumber as isNumber3,\n  object as object11,\n  omitUndefined,\n  pick as pick2,\n  uniqueArray as uniqueArray4,\n  uniqueId as uniqueId3\n} from \"@remirror/core-helpers\";\nvar _uid, _getProps, _previousState, _firstRender, _events, _addHandler, _initialEditorState;\nvar Framework = class {\n  constructor(options) {\n    /**\n     * A unique ID for the editor which can also be used as a key in frameworks\n     * that need it.\n     */\n    __privateAdd(this, _uid, uniqueId3());\n    /**\n     * A method which enables retrieving the props from the editor.\n     */\n    __privateAdd(this, _getProps, void 0);\n    /**\n     * The private reference to the previous state.\n     */\n    __privateAdd(this, _previousState, void 0);\n    /**\n     * True when this is the first render.\n     */\n    __privateAdd(this, _firstRender, true);\n    /**\n     * The event listener which allows consumers to subscribe to the different\n     * events taking place in the editor. Events currently supported are:\n     *\n     * - `destroy`\n     * - `focus`\n     * - `blur`\n     * - `updated`\n     */\n    __privateAdd(this, _events, createNanoEvents2());\n    /**\n     * The handler which is bound to the events listener object.\n     */\n    __privateAdd(this, _addHandler, void 0);\n    __privateAdd(this, _initialEditorState, void 0);\n    /**\n     * Retrieve the editor state.\n     */\n    this.getState = () => this.view.state ?? this.initialEditorState;\n    /**\n     * Retrieve the previous editor state.\n     */\n    this.getPreviousState = () => this.previousState;\n    /**\n     * Part of the Prosemirror API and is called whenever there is state change in\n     * the editor.\n     *\n     * @internalremarks\n     * How does it work when transactions are dispatched one after the other.\n     */\n    this.dispatchTransaction = (tr) => {\n      var _a, _b;\n      invariant9(!this.manager.destroyed, {\n        code: ErrorConstant10.MANAGER_PHASE_ERROR,\n        message: \"A transaction was dispatched to a manager that has already been destroyed. Please check your set up, or open an issue.\"\n      });\n      tr = ((_b = (_a = this.props).onDispatchTransaction) == null ? void 0 : _b.call(_a, tr, this.getState())) ?? tr;\n      const previousState = this.getState();\n      const { state, transactions } = previousState.applyTransaction(tr);\n      __privateSet(this, _previousState, previousState);\n      this.updateState({ state, tr, transactions });\n      const forcedUpdates = this.manager.store.getForcedUpdates(tr);\n      if (!isEmptyArray5(forcedUpdates)) {\n        this.updateViewProps(...forcedUpdates);\n      }\n    };\n    /**\n     * Use this method in the `onUpdate` event to run all change handlers.\n     */\n    this.onChange = (props = object11()) => {\n      var _a, _b;\n      const onChangeProps = this.eventListenerProps(props);\n      if (__privateGet(this, _firstRender)) {\n        __privateSet(this, _firstRender, false);\n      }\n      (_b = (_a = this.props).onChange) == null ? void 0 : _b.call(_a, onChangeProps);\n    };\n    /**\n     * Listener for editor 'blur' events\n     */\n    this.onBlur = (event) => {\n      var _a, _b;\n      const props = this.eventListenerProps();\n      (_b = (_a = this.props).onBlur) == null ? void 0 : _b.call(_a, props, event);\n      __privateGet(this, _events).emit(\"blur\", props, event);\n    };\n    /**\n     * Listener for editor 'focus' events\n     */\n    this.onFocus = (event) => {\n      var _a, _b;\n      const props = this.eventListenerProps();\n      (_b = (_a = this.props).onFocus) == null ? void 0 : _b.call(_a, props, event);\n      __privateGet(this, _events).emit(\"focus\", props, event);\n    };\n    /**\n     * Sets the content of the editor. This bypasses the update function.\n     *\n     * @param content\n     * @param triggerChange\n     */\n    this.setContent = (content, { triggerChange = false } = {}) => {\n      const { doc } = this.manager.createState({ content });\n      const previousState = this.getState();\n      const { state } = this.getState().applyTransaction(\n        previousState.tr.replaceRangeWith(0, previousState.doc.nodeSize - 2, doc)\n      );\n      if (triggerChange) {\n        return this.updateState({ state, triggerChange });\n      }\n      this.view.updateState(state);\n    };\n    /**\n     * Clear the content of the editor (reset to the default empty node).\n     *\n     * @param triggerChange - whether to notify the onChange handler that the\n     * content has been reset\n     */\n    this.clearContent = ({ triggerChange = false } = {}) => {\n      this.setContent(this.manager.createEmptyDoc(), { triggerChange });\n    };\n    this.createStateFromContent = (content, selection) => this.manager.createState({ content, selection });\n    /**\n     * Focus the editor.\n     */\n    this.focus = (position) => {\n      this.manager.store.commands.focus(position);\n    };\n    /**\n     * Blur the editor.\n     */\n    this.blur = (position) => {\n      this.manager.store.commands.blur(position);\n    };\n    const { getProps, initialEditorState, element } = options;\n    __privateSet(this, _getProps, getProps);\n    __privateSet(this, _initialEditorState, initialEditorState);\n    this.manager.attachFramework(this, this.updateListener.bind(this));\n    if (this.manager.view) {\n      return;\n    }\n    const view = this.createView(initialEditorState, element);\n    this.manager.addView(view);\n  }\n  /**\n   * The event listener which allows consumers to subscribe to the different\n   * events taking place in the editor. Events currently supported are:\n   *\n   * - `destroy`\n   * - `focus`\n   * - `blur`\n   * - `updated`\n   */\n  get addHandler() {\n    return __privateGet(this, _addHandler) ?? __privateSet(this, _addHandler, __privateGet(this, _events).on.bind(__privateGet(this, _events)));\n  }\n  /**\n   * The updatable view props.\n   */\n  get updatableViewProps() {\n    return {\n      attributes: () => this.getAttributes(),\n      editable: () => this.props.editable ?? true\n    };\n  }\n  /**\n   * True when this is the first render of the editor.\n   */\n  get firstRender() {\n    return __privateGet(this, _firstRender);\n  }\n  /**\n   * The props passed in when creating or updating the `Framework` instance.\n   */\n  get props() {\n    return __privateGet(this, _getProps).call(this);\n  }\n  /**\n   * Returns the previous editor state. On the first render it defaults to\n   * returning the current state. For the first render the previous state and\n   * current state will always be equal.\n   */\n  get previousState() {\n    return this.previousStateOverride ?? __privateGet(this, _previousState) ?? this.initialEditorState;\n  }\n  /**\n   * The instance of the [[`RemirrorManager`]].\n   */\n  get manager() {\n    return this.props.manager;\n  }\n  /**\n   * The ProseMirror [[`EditorView`]].\n   */\n  get view() {\n    return this.manager.view;\n  }\n  /**\n   * A unique id for the editor. Can be used to differentiate between editors.\n   *\n   * Please note that this ID is only locally unique, it should not be used as a\n   * database key.\n   */\n  get uid() {\n    return __privateGet(this, _uid);\n  }\n  /**\n   * The initial editor state from when the editor was first created.\n   */\n  get initialEditorState() {\n    return __privateGet(this, _initialEditorState);\n  }\n  /**\n   * Setup the manager event listeners which are disposed of when the manager is\n   * destroyed.\n   */\n  updateListener(props) {\n    const { state, tr } = props;\n    return __privateGet(this, _events).emit(\"updated\", this.eventListenerProps({ state, tr }));\n  }\n  /**\n   * Update the constructor props passed in. Useful for frameworks like react\n   * where props are constantly changing and when using hooks function closures\n   * can become stale.\n   *\n   * You can call the update method with the new `props` to update the internal\n   * state of this instance.\n   */\n  update(options) {\n    const { getProps } = options;\n    __privateSet(this, _getProps, getProps);\n    return this;\n  }\n  /**\n   * Update the view props.\n   */\n  updateViewProps(...keys3) {\n    const props = pick2(this.updatableViewProps, keys3);\n    this.view.setProps({ ...this.view.props, ...props });\n  }\n  getAttributes(ssr) {\n    var _a;\n    const { attributes, autoFocus, classNames: classNames2 = [], label, editable } = this.props;\n    const managerAttributes = (_a = this.manager.store) == null ? void 0 : _a.attributes;\n    const propAttributes = isFunction6(attributes) ? attributes(this.eventListenerProps()) : attributes;\n    let focus = {};\n    if (autoFocus || isNumber3(autoFocus)) {\n      focus = ssr ? { autoFocus: true } : { autofocus: \"true\" };\n    }\n    const uniqueClasses = uniqueArray4(\n      cx(ssr && \"Prosemirror\", \"remirror-editor\", managerAttributes == null ? void 0 : managerAttributes.class, ...classNames2).split(\n        \" \"\n      )\n    ).join(\" \");\n    const defaultAttributes = {\n      role: \"textbox\",\n      ...focus,\n      \"aria-multiline\": \"true\",\n      ...!(editable ?? true) ? { \"aria-readonly\": \"true\" } : {},\n      \"aria-label\": label ?? \"\",\n      ...managerAttributes,\n      class: uniqueClasses\n    };\n    return omitUndefined({ ...defaultAttributes, ...propAttributes });\n  }\n  /**\n   * Adds `onBlur` and `onFocus` listeners.\n   *\n   * When extending this class make sure to call this method once\n   * `ProsemirrorView` has been added to the dom.\n   */\n  addFocusListeners() {\n    this.view.dom.addEventListener(\"blur\", this.onBlur);\n    this.view.dom.addEventListener(\"focus\", this.onFocus);\n  }\n  /**\n   * Remove `onBlur` and `onFocus` listeners.\n   *\n   * When extending this class in your framework, make sure to call this just\n   * before the view is destroyed.\n   */\n  removeFocusListeners() {\n    this.view.dom.removeEventListener(\"blur\", this.onBlur);\n    this.view.dom.removeEventListener(\"focus\", this.onFocus);\n  }\n  /**\n   * Called when the component unmounts and is responsible for cleanup.\n   *\n   * @remarks\n   *\n   * - Removes listeners for the editor `blur` and `focus` events\n   */\n  destroy() {\n    __privateGet(this, _events).emit(\"destroy\");\n    if (this.view) {\n      this.removeFocusListeners();\n    }\n  }\n  /**\n   * Creates the props passed into all event listener handlers. e.g.\n   * `onChange`\n   */\n  eventListenerProps(props = object11()) {\n    const { state, tr, transactions } = props;\n    return {\n      tr,\n      transactions,\n      internalUpdate: !tr,\n      view: this.view,\n      firstRender: __privateGet(this, _firstRender),\n      state: state ?? this.getState(),\n      createStateFromContent: this.createStateFromContent,\n      previousState: this.previousState,\n      helpers: this.manager.store.helpers\n    };\n  }\n  /**\n   * Methods and properties which are made available to all consumers of the\n   * `Framework` class.\n   */\n  get baseOutput() {\n    return {\n      manager: this.manager,\n      ...this.manager.store,\n      addHandler: this.addHandler,\n      // Commands\n      focus: this.focus,\n      blur: this.blur,\n      // Properties\n      uid: __privateGet(this, _uid),\n      view: this.view,\n      // Getter Methods\n      getState: this.getState,\n      getPreviousState: this.getPreviousState,\n      getExtension: this.manager.getExtension.bind(this.manager),\n      hasExtension: this.manager.hasExtension.bind(this.manager),\n      // Setter Methods\n      clearContent: this.clearContent,\n      setContent: this.setContent\n    };\n  }\n};\n_uid = new WeakMap();\n_getProps = new WeakMap();\n_previousState = new WeakMap();\n_firstRender = new WeakMap();\n_events = new WeakMap();\n_addHandler = new WeakMap();\n_initialEditorState = new WeakMap();\n\n// packages/remirror__core/src/manager/remirror-manager.ts\nimport { createNanoEvents as createNanoEvents3 } from \"nanoevents\";\nimport {\n  __INTERNAL_REMIRROR_IDENTIFIER_KEY__ as __INTERNAL_REMIRROR_IDENTIFIER_KEY__3,\n  ErrorConstant as ErrorConstant12,\n  ManagerPhase as ManagerPhase2,\n  RemirrorIdentifier as RemirrorIdentifier3\n} from \"@remirror/core-constants\";\nimport {\n  freeze as freeze3,\n  getLazyArray,\n  includes as includes4,\n  invariant as invariant11,\n  isNullOrUndefined as isNullOrUndefined2,\n  isString as isString6,\n  object as object12\n} from \"@remirror/core-helpers\";\nimport {\n  createDocumentNode,\n  getDocument,\n  getTextSelection as getTextSelection3,\n  isIdentifierOfType as isIdentifierOfType2,\n  isRemirrorType as isRemirrorType2\n} from \"@remirror/core-utils\";\nimport { EditorState as EditorState3 } from \"@remirror/pm/state\";\n\n// packages/remirror__core/src/manager/remirror-manager-helpers.ts\nimport warning from \"tiny-warning\";\nimport { ErrorConstant as ErrorConstant11 } from \"@remirror/core-constants\";\nimport { invariant as invariant10, isEmptyArray as isEmptyArray6, sort as sort3 } from \"@remirror/core-helpers\";\nfunction transformExtensions(initialExtensions, settings) {\n  const extensions = [];\n  const extensionMap = /* @__PURE__ */ new WeakMap();\n  const parentExtensions = [];\n  const duplicateMap = /* @__PURE__ */ new WeakMap();\n  let gatheredExtensions = [];\n  const gatherRawExtensionConfig = { duplicateMap, parentExtensions, gatheredExtensions, settings };\n  for (const extension2 of initialExtensions) {\n    gatherRawExtensions(gatherRawExtensionConfig, { extension: extension2 });\n  }\n  gatheredExtensions = sort3(gatheredExtensions, (a, z) => z.priority - a.priority);\n  const found = /* @__PURE__ */ new WeakSet();\n  const names = /* @__PURE__ */ new Set();\n  for (const extension2 of gatheredExtensions) {\n    const key2 = extension2.constructor;\n    const name = extension2.name;\n    const duplicates = duplicateMap.get(key2);\n    invariant10(duplicates, {\n      message: `No entries were found for the ExtensionConstructor ${extension2.name}`,\n      code: ErrorConstant11.INTERNAL\n    });\n    if (found.has(key2) || names.has(name)) {\n      continue;\n    }\n    found.add(key2);\n    names.add(name);\n    extensions.push(extension2);\n    extensionMap.set(key2, extension2);\n    duplicates.forEach((parent) => parent == null ? void 0 : parent.replaceChildExtension(key2, extension2));\n  }\n  const missing = [];\n  for (const extension2 of extensions) {\n    findMissingExtensions({ extension: extension2, found, missing });\n  }\n  invariant10(isEmptyArray6(missing), {\n    code: ErrorConstant11.MISSING_REQUIRED_EXTENSION,\n    message: missing.map(\n      ({ Constructor, extension: extension2 }) => `The extension '${extension2.name}' requires '${Constructor.name} in order to run correctly.`\n    ).join(\"\\n\")\n  });\n  return { extensions, extensionMap };\n}\nfunction gatherRawExtensions(config, props) {\n  var _a;\n  const { gatheredExtensions, duplicateMap, parentExtensions, settings } = config;\n  const { extension: extension2, parentExtension } = props;\n  let { names = [] } = props;\n  invariant10(isExtension(extension2), {\n    code: ErrorConstant11.INVALID_MANAGER_EXTENSION,\n    message: `An invalid extension: ${extension2} was provided to the [[\\`RemirrorManager\\`]].`\n  });\n  const childExtensions = extension2.extensions;\n  extension2.setPriority((_a = settings.priority) == null ? void 0 : _a[extension2.name]);\n  gatheredExtensions.push(extension2);\n  updateExtensionDuplicates({ duplicateMap, extension: extension2, parentExtension });\n  if (childExtensions.length === 0) {\n    return;\n  }\n  if (names.includes(extension2.name)) {\n    warning(\n      false,\n      `Circular dependency encountered when loading extensions: ${names.join(\" > \")} > ${extension2.name}`\n    );\n    return;\n  }\n  names = [...names, extension2.name];\n  parentExtensions.push(extension2);\n  for (const child of childExtensions) {\n    gatherRawExtensions(config, { names, extension: child, parentExtension: extension2 });\n  }\n}\nfunction findMissingExtensions(props) {\n  const { extension: extension2, found, missing } = props;\n  if (!extension2.requiredExtensions) {\n    return;\n  }\n  for (const Constructor of extension2.requiredExtensions ?? []) {\n    if (found.has(Constructor)) {\n      continue;\n    }\n    missing.push({ Constructor, extension: extension2 });\n  }\n}\nfunction updateExtensionDuplicates(props) {\n  const { duplicateMap, extension: extension2, parentExtension } = props;\n  const key2 = extension2.constructor;\n  const duplicate = duplicateMap.get(key2);\n  const parentToAdd = parentExtension ? [parentExtension] : [];\n  duplicateMap.set(key2, duplicate ? [...duplicate, ...parentToAdd] : parentToAdd);\n}\nfunction extractLifecycleMethods(props) {\n  var _a, _b, _c, _d;\n  const { extension: extension2, nodeNames, markNames, plainNames, store, handlers } = props;\n  extension2.setStore(store);\n  const createHandler = (_a = extension2.onCreate) == null ? void 0 : _a.bind(extension2);\n  const viewHandler = (_b = extension2.onView) == null ? void 0 : _b.bind(extension2);\n  const stateUpdateHandler = (_c = extension2.onStateUpdate) == null ? void 0 : _c.bind(extension2);\n  const destroyHandler = (_d = extension2.onDestroy) == null ? void 0 : _d.bind(extension2);\n  if (createHandler) {\n    handlers.create.push(createHandler);\n  }\n  if (viewHandler) {\n    handlers.view.push(viewHandler);\n  }\n  if (stateUpdateHandler) {\n    handlers.update.push(stateUpdateHandler);\n  }\n  if (destroyHandler) {\n    handlers.destroy.push(destroyHandler);\n  }\n  if (isMarkExtension(extension2)) {\n    markNames.push(extension2.name);\n  }\n  if (isNodeExtension(extension2) && extension2.name !== \"doc\") {\n    nodeNames.push(extension2.name);\n  }\n  if (isPlainExtension(extension2)) {\n    plainNames.push(extension2.name);\n  }\n}\n\n// packages/remirror__core/src/manager/remirror-manager.ts\nvar _extensionStore, _stringHandlers, _store, _extensions, _extensionMap, _phase, _settings, _firstStateUpdate, _handlers, _disposers, _events2, _framework, _disposeFramework;\nvar _RemirrorManager = class {\n  /**\n   * Creates the extension manager which is used to simplify the management of\n   * the prosemirror editor.\n   *\n   * This is set to private to encourage using `RemirrorManager.create`\n   * instead of the `new` keyword.\n   */\n  constructor(initialExtension, settings = {}) {\n    /**\n     * Utility getter for storing the base method props which is available to\n     * all extensions.\n     */\n    __privateAdd(this, _extensionStore, void 0);\n    /**\n     * The named string handlers\n     */\n    __privateAdd(this, _stringHandlers, object12());\n    /**\n     * The extension manager store.\n     */\n    __privateAdd(this, _store, object12());\n    /**\n     * All the extensions being used within this editor.\n     */\n    __privateAdd(this, _extensions, void 0);\n    /**\n     * The map of extension constructor to their extension counterparts. This is\n     * what makes the `getExtension` method possible.\n     */\n    __privateAdd(this, _extensionMap, void 0);\n    /**\n     * The stage the manager is currently running.\n     */\n    __privateAdd(this, _phase, ManagerPhase2.None);\n    /**\n     * The settings used to create the manager.\n     */\n    __privateAdd(this, _settings, void 0);\n    /**\n     * When true this identifies this as the first state update since the view was\n     * added to the editor.\n     */\n    __privateAdd(this, _firstStateUpdate, true);\n    /**\n     * Store the handlers that will be run when for each event method.\n     */\n    __privateAdd(this, _handlers, {\n      create: [],\n      view: [],\n      update: [],\n      destroy: []\n    });\n    /**\n     * The disposers for the editor.\n     */\n    __privateAdd(this, _disposers, []);\n    /**\n     * The event listener which allows consumers to subscribe to the different\n     * events without using props.\n     */\n    __privateAdd(this, _events2, createNanoEvents3());\n    /**\n     * The active framework for this manager if it exists.\n     */\n    __privateAdd(this, _framework, void 0);\n    /**\n     * A method for disposing the state update event listeners on the active\n     * framework.\n     */\n    __privateAdd(this, _disposeFramework, void 0);\n    /**\n     * A state getter method which is passed into the params.\n     */\n    this.getState = () => {\n      var _a;\n      if (__privateGet(this, _phase) >= ManagerPhase2.EditorView) {\n        return this.view.state;\n      }\n      invariant11(__privateGet(this, _framework), {\n        code: ErrorConstant12.MANAGER_PHASE_ERROR,\n        message: \"`getState` can only be called after the `Framework` or the `EditorView` has been added to the manager`. Check your plugins to make sure that the decorations callback uses the state argument.\"\n      });\n      return (_a = __privateGet(this, _framework)) == null ? void 0 : _a.initialEditorState;\n    };\n    /**\n     * Update the state of the view and trigger the `onStateUpdate` lifecycle\n     * method as well.\n     */\n    this.updateState = (state) => {\n      const previousState = this.getState();\n      this.view.updateState(state);\n      this.onStateUpdate({ previousState, state });\n    };\n    const { extensions, extensionMap } = transformExtensions(initialExtension, settings);\n    __privateSet(this, _settings, settings);\n    __privateSet(this, _extensions, freeze3(extensions));\n    __privateSet(this, _extensionMap, extensionMap);\n    __privateSet(this, _extensionStore, this.createExtensionStore());\n    __privateSet(this, _phase, ManagerPhase2.Create);\n    this.setupLifecycleHandlers();\n    for (const handler of __privateGet(this, _handlers).create) {\n      const disposer = handler();\n      if (disposer) {\n        __privateGet(this, _disposers).push(disposer);\n      }\n    }\n  }\n  /**\n   * Create the manager for your `Remirror` editor.\n   */\n  static create(extensions, settings = {}) {\n    return new _RemirrorManager(\n      [...getLazyArray(extensions), ...builtinPreset(settings.builtin)],\n      settings\n    );\n  }\n  /**\n   * Identifies this as a `Manager`.\n   *\n   * @internal\n   */\n  get [__INTERNAL_REMIRROR_IDENTIFIER_KEY__3]() {\n    return RemirrorIdentifier3.Manager;\n  }\n  /**\n   * Returns `true` if the manager has been destroyed.\n   */\n  get destroyed() {\n    return __privateGet(this, _phase) === ManagerPhase2.Destroy;\n  }\n  /**\n   * `true` when the view has been added to the UI layer and the editor is\n   * running.\n   */\n  get mounted() {\n    return __privateGet(this, _phase) >= ManagerPhase2.EditorView && __privateGet(this, _phase) < ManagerPhase2.Destroy;\n  }\n  /**\n   * Retrieve the framework output.\n   *\n   * This be undefined if the manager hasn't been provided to a framework yet\n   * the manager.\n   *\n   * With synchronous frameworks this means that it should only be accessed\n   * after the manager has been applied to the editor creation function.\n   *\n   * For frameworks like React it is only available when the manager is provided\n   * to the `Remirror` component and after the very first render. This means it\n   * is available within the `onRef` callback.\n   *\n   * ```tsx\n   * import React, { useEffect } from 'react';\n   * import { useRemirror, Remirror } from '@remirror/react';\n   *\n   * const Editor = () => {\n   *   const { manager } = useRemirror();\n   *\n   *   const callback = () => {\n   *     return manager.output; //  This is fine.\n   *   }\n   *\n   *   useEffect(() => {\n   *     log(manager.output); //   This is also fine.\n   *   }, []);\n   *\n   *   log(manager.output); //  This will be undefined on the first render.\n   *\n   *   return <Remirror manager={manager} />\n   * }\n   * ```\n   */\n  get output() {\n    var _a;\n    return (_a = __privateGet(this, _framework)) == null ? void 0 : _a.frameworkOutput;\n  }\n  /**\n   * Returns true when a framework is attached to the manager.\n   *\n   * This can be used to check if it is safe to call `manager.output`.\n   */\n  get frameworkAttached() {\n    return !!__privateGet(this, _framework);\n  }\n  /**\n   * The extensions stored by this manager\n   */\n  get extensions() {\n    return __privateGet(this, _extensions);\n  }\n  /**\n   * The registered string handlers provided by the extensions.\n   *\n   * By default this includes `html` and `plainText`\n   */\n  get stringHandlers() {\n    return __privateGet(this, _stringHandlers);\n  }\n  /**\n   * Get the extension manager store which is accessible at initialization.\n   */\n  get store() {\n    return freeze3(__privateGet(this, _store));\n  }\n  /**\n   * Provides access to the extension store.\n   */\n  get extensionStore() {\n    return freeze3(__privateGet(this, _extensionStore));\n  }\n  /**\n   * Shorthand access to the active transaction from the manager. This is the\n   * shared transaction available to all commands and should be used when you\n   * need to make your commands chainable.\n   *\n   * If working with react and setting up your editor as a controlled component\n   * then this is the preferred way to run custom commands, otherwise your\n   * commands will end up being non-chainable and be overwritten by anything\n   * that comes after.\n   */\n  get tr() {\n    return this.getExtension(CommandsExtension).transaction;\n  }\n  /**\n   * Returns the stored nodes\n   */\n  get nodes() {\n    return __privateGet(this, _store).nodes;\n  }\n  /**\n   * Returns the store marks.\n   */\n  get marks() {\n    return __privateGet(this, _store).marks;\n  }\n  /**\n   * A shorthand method for retrieving the schema for this extension manager\n   * from the data.\n   */\n  get schema() {\n    return __privateGet(this, _store).schema;\n  }\n  /**\n   * A shorthand getter for retrieving the tags from the extension manager.\n   */\n  get extensionTags() {\n    return __privateGet(this, _store).tags;\n  }\n  /**\n   * A shorthand way of retrieving the editor view.\n   */\n  get view() {\n    return __privateGet(this, _store).view;\n  }\n  /**\n   * Retrieve the settings used when creating the manager.\n   */\n  get settings() {\n    return __privateGet(this, _settings);\n  }\n  /**\n   * The document to use for rendering and outputting HTML.\n   */\n  get document() {\n    return __privateGet(this, _settings).document ?? getDocument();\n  }\n  /**\n   * Loops through all extensions to set up the lifecycle handlers.\n   */\n  setupLifecycleHandlers() {\n    const store = __privateGet(this, _extensionStore);\n    const handlers = __privateGet(this, _handlers);\n    const nodeNames = [];\n    const markNames = [];\n    const plainNames = [];\n    store.nodeNames = nodeNames;\n    store.markNames = markNames;\n    store.plainNames = plainNames;\n    for (const extension2 of __privateGet(this, _extensions)) {\n      extractLifecycleMethods({ extension: extension2, nodeNames, markNames, plainNames, handlers, store });\n    }\n  }\n  /**\n   * Set the string handler to use for a given name.\n   *\n   * This allows users to set the string handler\n   */\n  setStringHandler(name, handler) {\n    __privateGet(this, _stringHandlers)[name] = handler;\n  }\n  /**\n   * Set the manager value for the provided key. This is used by extensions to\n   * add data to the manager.\n   */\n  setStoreKey(key2, value) {\n    __privateGet(this, _store)[key2] = value;\n  }\n  /**\n   * Get the manager value for the provided key. This is used by extensions to\n   * get data from the manager.\n   */\n  getStoreKey(key2) {\n    const value = __privateGet(this, _store)[key2];\n    invariant11(!isNullOrUndefined2(value), {\n      code: ErrorConstant12.MANAGER_PHASE_ERROR,\n      message: \"`getStoreKey` should not be called before the values are available.\"\n    });\n    return value;\n  }\n  /**\n   * A method to set values in the extension store which is made available to\n   * extension.\n   *\n   * **NOTE** This method should only be used in the `onCreate` extension method\n   * or it will throw an error.\n   */\n  setExtensionStore(key2, value) {\n    invariant11(__privateGet(this, _phase) <= ManagerPhase2.EditorView, {\n      code: ErrorConstant12.MANAGER_PHASE_ERROR,\n      message: \"`setExtensionStore` should only be called during the `onCreate` lifecycle hook. Make sure to only call it within the returned methods.\"\n    });\n    __privateGet(this, _extensionStore)[key2] = value;\n  }\n  /**\n   * Create the initial store.\n   */\n  createExtensionStore() {\n    const store = object12();\n    const enumerable = true;\n    let currentState;\n    let previousState;\n    Object.defineProperties(store, {\n      extensions: { get: () => __privateGet(this, _extensions), enumerable },\n      phase: { get: () => __privateGet(this, _phase), enumerable },\n      view: { get: () => this.view, enumerable },\n      managerSettings: { get: () => freeze3(__privateGet(this, _settings)), enumerable },\n      getState: { value: this.getState, enumerable },\n      updateState: { value: this.updateState, enumerable },\n      isMounted: { value: () => this.mounted, enumerable },\n      getExtension: { value: this.getExtension.bind(this), enumerable },\n      manager: { get: () => this, enumerable },\n      document: { get: () => this.document, enumerable },\n      stringHandlers: { get: () => __privateGet(this, _stringHandlers), enumerable },\n      currentState: {\n        get: () => currentState ?? (currentState = this.getState()),\n        set: (state) => {\n          currentState = state;\n        },\n        enumerable\n      },\n      previousState: {\n        get: () => previousState,\n        set: (state) => {\n          previousState = state;\n        },\n        enumerable\n      }\n    });\n    store.getStoreKey = this.getStoreKey.bind(this);\n    store.setStoreKey = this.setStoreKey.bind(this);\n    store.setExtensionStore = this.setExtensionStore.bind(this);\n    store.setStringHandler = this.setStringHandler.bind(this);\n    return store;\n  }\n  /**\n   * Stores the editor view on the manager\n   *\n   * @param view - the editor view\n   */\n  addView(view) {\n    if (__privateGet(this, _phase) >= ManagerPhase2.EditorView) {\n      return this;\n    }\n    __privateSet(this, _firstStateUpdate, true);\n    __privateSet(this, _phase, ManagerPhase2.EditorView);\n    __privateGet(this, _store).view = view;\n    for (const handler of __privateGet(this, _handlers).view) {\n      const disposer = handler(view);\n      if (disposer) {\n        __privateGet(this, _disposers).push(disposer);\n      }\n    }\n    return this;\n  }\n  /**\n   * Attach a framework to the manager.\n   */\n  attachFramework(framework, updateHandler) {\n    var _a;\n    if (__privateGet(this, _framework) === framework) {\n      return;\n    }\n    if (__privateGet(this, _framework)) {\n      __privateGet(this, _framework).destroy();\n      (_a = __privateGet(this, _disposeFramework)) == null ? void 0 : _a.call(this);\n    }\n    __privateSet(this, _framework, framework);\n    __privateSet(this, _disposeFramework, this.addHandler(\"stateUpdate\", updateHandler));\n  }\n  /* Public Methods */\n  /**\n   * Create an empty document for the editor based on the current schema.\n   *\n   * This automatically looks at the supported content for the doc and the\n   * available nodes which fulfil that content in order to create a document\n   * with only the minimal required content.\n   *\n   * This can be used in conjunction with the create state to reset the current\n   * value of the editor.\n   */\n  createEmptyDoc() {\n    var _a;\n    const doc = (_a = this.schema.nodes.doc) == null ? void 0 : _a.createAndFill();\n    invariant11(doc, {\n      code: ErrorConstant12.INVALID_CONTENT,\n      message: `An empty node could not be created due to an invalid schema.`\n    });\n    return doc;\n  }\n  /**\n   * Create the editor state from content passed to this extension manager.\n   */\n  createState(props = {}) {\n    const { onError, defaultSelection = \"end\" } = this.settings;\n    const {\n      content = this.createEmptyDoc(),\n      selection = defaultSelection,\n      stringHandler = this.settings.stringHandler\n    } = props;\n    const { schema, plugins } = this.store;\n    const doc = createDocumentNode({\n      stringHandler: isString6(stringHandler) ? this.stringHandlers[stringHandler] : stringHandler,\n      document: this.document,\n      content,\n      onError,\n      schema,\n      selection\n    });\n    return EditorState3.create({\n      schema,\n      doc,\n      plugins,\n      selection: getTextSelection3(selection, doc)\n    });\n  }\n  /**\n   * Add a handler to the manager.\n   *\n   * Currently the only event that can be listened to is the `destroy` event.\n   */\n  addHandler(event, cb) {\n    return __privateGet(this, _events2).on(event, cb);\n  }\n  /**\n   * This method should be called by the view layer every time the state is\n   * updated.\n   *\n   * An example usage of this is within the collaboration extension.\n   */\n  onStateUpdate(props) {\n    const firstUpdate = __privateGet(this, _firstStateUpdate);\n    __privateGet(this, _extensionStore).currentState = props.state;\n    __privateGet(this, _extensionStore).previousState = props.previousState;\n    if (firstUpdate) {\n      __privateSet(this, _phase, ManagerPhase2.Runtime);\n      __privateSet(this, _firstStateUpdate, false);\n    }\n    const propsWithUpdate = { ...props, firstUpdate };\n    for (const handler of __privateGet(this, _handlers).update) {\n      handler(propsWithUpdate);\n    }\n    __privateGet(this, _events2).emit(\"stateUpdate\", propsWithUpdate);\n  }\n  /**\n   * Get the extension instance matching the provided constructor from the\n   * manager.\n   *\n   * This will throw an error if non existent.\n   */\n  getExtension(Constructor) {\n    const extension2 = __privateGet(this, _extensionMap).get(Constructor);\n    invariant11(extension2, {\n      code: ErrorConstant12.INVALID_MANAGER_EXTENSION,\n      message: `'${Constructor.name}' doesn't exist within this manager. Make sure it is properly added before attempting to use it.`\n    });\n    return extension2;\n  }\n  /**\n   * Determines in an extension is present by providing the desired\n   * `Constructor`.\n   *\n   * This method can be used as a safer alternative to getExtension which\n   * will throw an error if the constructor doesn't exist within the\n   * extension created by this extension.\n   */\n  hasExtension(Constructor) {\n    const extension2 = __privateGet(this, _extensionMap).get(Constructor);\n    return !!extension2;\n  }\n  /**\n   * Make a clone of the manager.\n   *\n   * @internalremarks What about the state stored in the extensions and presets,\n   * does this need to be recreated as well?\n   */\n  clone() {\n    const extensions = __privateGet(this, _extensions).map((e) => e.clone(e.options));\n    const manager = _RemirrorManager.create(() => extensions, __privateGet(this, _settings));\n    __privateGet(this, _events2).emit(\"clone\", manager);\n    return manager;\n  }\n  /**\n   * Recreate the manager with new settings and extensions\n   */\n  recreate(extensions = [], settings = {}) {\n    const currentExtensions = __privateGet(this, _extensions).map((e) => e.clone(e.initialOptions));\n    const manager = _RemirrorManager.create(() => [...currentExtensions, ...extensions], settings);\n    __privateGet(this, _events2).emit(\"recreate\", manager);\n    return manager;\n  }\n  /**\n   * This method should be called to destroy the manager and remove the view.\n   */\n  destroy() {\n    var _a, _b, _c, _d, _e, _f;\n    __privateSet(this, _phase, ManagerPhase2.Destroy);\n    for (const plugin of ((_a = this.view) == null ? void 0 : _a.state.plugins) ?? []) {\n      (_c = (_b = plugin.getState(this.view.state)) == null ? void 0 : _b.destroy) == null ? void 0 : _c.call(_b);\n    }\n    (_d = __privateGet(this, _framework)) == null ? void 0 : _d.destroy();\n    (_e = __privateGet(this, _disposeFramework)) == null ? void 0 : _e.call(this);\n    for (const dispose of __privateGet(this, _disposers)) {\n      dispose();\n    }\n    for (const onDestroy of __privateGet(this, _handlers).destroy) {\n      onDestroy();\n    }\n    (_f = this.view) == null ? void 0 : _f.destroy();\n    __privateGet(this, _events2).emit(\"destroy\");\n  }\n  /**\n   * Check whether the manager includes the names or constructors provided for\n   * the preset and extensions.\n   *\n   * Returns true if all are included, returns false otherwise.\n   */\n  includes(mustIncludeList) {\n    const names = [];\n    const extensionsAndPresets = [];\n    for (const item of __privateGet(this, _extensions)) {\n      names.push(item.name, item.constructorName);\n      extensionsAndPresets.push(item.constructor);\n    }\n    return mustIncludeList.every(\n      (item) => isString6(item) ? includes4(names, item) : includes4(extensionsAndPresets, item)\n    );\n  }\n};\nvar RemirrorManager = _RemirrorManager;\n_extensionStore = new WeakMap();\n_stringHandlers = new WeakMap();\n_store = new WeakMap();\n_extensions = new WeakMap();\n_extensionMap = new WeakMap();\n_phase = new WeakMap();\n_settings = new WeakMap();\n_firstStateUpdate = new WeakMap();\n_handlers = new WeakMap();\n_disposers = new WeakMap();\n_events2 = new WeakMap();\n_framework = new WeakMap();\n_disposeFramework = new WeakMap();\nfunction isRemirrorManager(value, mustIncludeList) {\n  if (!isRemirrorType2(value) || !isIdentifierOfType2(value, RemirrorIdentifier3.Manager)) {\n    return false;\n  }\n  if (!mustIncludeList) {\n    return true;\n  }\n  return value.includes(mustIncludeList);\n}\n\n// packages/remirror__core/src/index.ts\nexport * from \"@remirror/core-constants\";\nexport * from \"@remirror/core-helpers\";\nexport * from \"@remirror/core-types\";\nexport * from \"@remirror/core-utils\";\nexport {\n  AttributesExtension,\n  CommandsExtension,\n  DEFAULT_SHORTCUTS,\n  DecorationsExtension,\n  DelayedCommand,\n  DocChangedExtension,\n  Framework,\n  GOOGLE_DOC_SHORTCUTS,\n  HelpersExtension,\n  InputRulesExtension,\n  KeymapExtension,\n  MarkExtension,\n  MetaExtension,\n  NodeExtension,\n  NodeViewsExtension,\n  PasteRulesExtension,\n  PlainExtension,\n  PluginsExtension,\n  RemirrorManager,\n  SchemaExtension,\n  SuggestExtension,\n  TagsExtension,\n  UploadExtension,\n  builtinPreset,\n  command,\n  cx,\n  delayedCommand,\n  extension,\n  extensionDecorator,\n  findUploadPlaceholderPayload,\n  findUploadPlaceholderPos,\n  hasUploadingFile,\n  helper,\n  insertText,\n  isDelayedValue,\n  isExtension,\n  isExtensionConstructor,\n  isExtensionTag,\n  isMarkExtension,\n  isNodeExtension,\n  isPlainExtension,\n  isRemirrorManager,\n  keyBinding,\n  keyboardShortcuts,\n  mutateDefaultExtensionOptions,\n  setUploadPlaceholderAction,\n  toggleMark,\n  uploadFile\n};\n"],"names":["_uid","_getProps","_previousState","_firstRender","_events","_addHandler","_initialEditorState","_extensionStore","_stringHandlers","_store","_extensions","_extensionMap","_phase","_settings","_firstStateUpdate","_handlers","_disposers","_events2","_framework","_disposeFramework","__defProp","Object","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__decorateClass","decorators","target","key2","kind","decorator","result","i","length","__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateSet","setter","defaultEquals","valueA","valueB","getChangedOptions","props","previousOptions","update","equals","next","_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_0__","vV","changes","Ry","XP","previousValue","changed","options","pickChanged","picked","keys3","item","codeLabelMap","_remirror_core_constants__WEBPACK_IMPORTED_MODULE_1__","mA","DUPLICATE_HELPER_NAMES","DUPLICATE_COMMAND_NAMES","throwIfNameNotUnique","name","code","label","kG","message","cx","classes","Nb","_linaria_core__WEBPACK_IMPORTED_MODULE_2__","split","join","IGNORE","BaseClass","constructor","defaultOptions2","_mappedHandlers","populateMappedHandlers","_options","_initialOptions","RH","defaultOptions","createDefaultHandlerOptions","_dynamicKeys","getDynamicKeys","init","dynamicKeys","initialOptions","customHandlerKeys","handlerKeys","staticKeys","includes","push","ensureAllKeysAreDynamic","_remirror_core_utils__WEBPACK_IMPORTED_MODULE_3__","NZ","isProduction","invalid","yD","INVALID_SET_EXTENSION_OPTIONS","JSON","stringify","setOptions","_a","getDynamicOptions","updateDynamicOptions","onSetOptions","reason","resetOptions","_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_4__","methods","args","handlerKeyOptions","reducer","returnValue","getDefault","handler","shouldReturnEarly","handlerKey","generalOptions","handlerOptions","earlyReturnValue","mf","accumulator","addHandler","method","priority","xV","Default","sortHandlers","filter","hasHandlers","DY","a","z","addCustomHandler","onAddCustomHandler","ZT","Extension","extension2","uw","createExtensions","extensionMap","Map","priorityOverride","defaultPriority","constructorName","_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_5__","Ho","store","MANAGER_PHASE_ERROR","requireKeys","extensions","replaceChildExtension","map","currentExtension","getExtension","Constructor","INVALID_GET_EXTENSION","isOfType","setStore","clone","setPriority","PlainExtension","By","lk","PlainExtensionConstructor","MarkExtension","MarkExtensionConstructor","type","fp","schema","marks","disableExtraAttributes","NodeExtension","NodeExtensionConstructor","nodes","extraAttributes","exclude","isExtension","gf","pI","isPlainExtension","isNodeExtension","isMarkExtension","extension","rest","RF","ReadonlyConstructor","entries","AttributesExtension","arguments","attributeList","attributeObject","updateAttributes","triggerUpdate","transformAttributes","commands","forceUpdate","onCreate","setExtensionStore","_b","_c","managerSettings","attributes","setStoreKey","createdAttributes","createAttributes","class","classNames","unshift","helper","propertyKey","_descriptor","decoratedHelpers","command","decoratedCommands","keyBinding","decoratedKeybindings","DelayedCommand","promiseCreator","failureHandlers","successHandlers","validateHandlers","generateCommand","isValid","view","tr","dispatch","deferred","then","runHandlers","state","catch","error","validate","success","failure","handlers","param","toggleMark","attrs","range","selection","props2","markType","HD","SCHEMA","from","to","b0","doc","yw","trState","removeMark","addMark","create","_remirror_core_utils__WEBPACK_IMPORTED_MODULE_6__","A_","_remirror_pm_commands__WEBPACK_IMPORTED_MODULE_7__","w9","CommandsExtension","decorated","forceUpdateTransaction","forcedUpdates","getCommandMeta","setCommandMeta","transaction","getState","_transaction","before","eq","hasSteps","steps","step","getForcedUpdates","bind","onView","helpers","names","Set","allDecoratedCommands","chain","_a2","customChain","getTr","commandChain","getChain","command2","disableChaining","chainedFactory","original","run","commands2","cmd","exitEarly","enabled","new","tr2","extensionCommands","createCommands","active","commandName","shortcut","startsWith","getNamedShortcut","updateDecorated","Qr","addCommands","onStateUpdate","createPlugin","customDispatch","insertText","text","end","getMap","markName","qh","createPlaceholderCommand","promise","placeholder","onSuccess","selectText","textSelection","selectionUnchanged","anchor","head","setSelection","selectMark","IH","$from","delete","emptyUpdate","action","updateNodeAttributes","pos","setNodeMarkup","setContent","content","manager","createState","replaceRangeWith","nodeSize","resetContent","createEmptyDoc","emptySelection","empty","_remirror_pm_state__WEBPACK_IMPORTED_MODULE_8__","Bs","near","$anchor","insertNewLine","hT","insertNode","node","replaceEmptyParentBlock","PH","mt","depth","mp","parent","replaceWith","nodeType","mark","_remirror_pm_model__WEBPACK_IMPORTED_MODULE_9__","vc","createAndFill","isReplacement","insert","focus","position","hasFocus","delayedFocus","blur","requestAnimationFrame","dom","setBlockNodeType","preserveAttrs","uJ","toggleWrappingNode","bm","toggleBlockNodeItem","toggleProps","zU","wrapInNode","ym","applyMark","selectionPoint","$cursor","Lp","markApplies","ranges","$to","markIsAllowed","allowsMarkType","nodesBetween","inlineContent","removeStoredMark","addStoredMark","containsMark","rangeHasMark","P9","setMeta","selectAll","copy","document","execCommand","paste","navigator","clipboard","readText","OC","cut","replaceText","lp","getAllCommandOptions","uiCommands","getCommandOptions","getCommandProp","decoratorOptions","handleIosFocus","isIos","scrollIntoView","meta","getMeta","pluginKey","DEFAULT_COMMAND_META","forbiddenNames","createUnchainedCommand","unchainedFactory","shouldDispatch","unchainedCommand","isEnabled","chained","lazyChain","prototype","description","t","_remirror_messages__WEBPACK_IMPORTED_MODULE_10__","Vb","SELECT_ALL_DESCRIPTION","SELECT_ALL_LABEL","vO","SelectAll","COPY_DESCRIPTION","COPY_LABEL","Copy","icon","PASTE_DESCRIPTION","PASTE_LABEL","Paste","CUT_DESCRIPTION","CUT_LABEL","Cut","Highest","trackerClassName","trackerNodeName","DecorationsExtension","placeholders","_remirror_pm_view__WEBPACK_IMPORTED_MODULE_11__","EH","placeholderWidgets","id","EL","onFailure","addPlaceholder","findPlaceholder","removePlaceholder","apply","_d","_e","_f","added","clearTrackers","removed","updated","widget","spec","onDestroy","element","clear","mapping","onRemove","_b2","onUpdate","data","addInlinePlaceholder","addNodePlaceholder","addWidgetPlaceholder","updatedWidget","p","remove","found","find","__type","decorations","decorationSet","createDecorations","handleDOMEvents","persistentSelectionClass","persistentSelectionFocusKey","updateDecorations","deleteSelection","addPlaceholderTransaction","updatePlaceholder","updatePlaceholderTransaction","checkOnly","removePlaceholderTransaction","clearPlaceholders","clearPlaceholdersTransaction","findAllPlaceholders","trackers","decoration","isInteracting","generatePersistentSelectionDecorations","EG","inline","onApplyState","createElement","className","nodeName","classList","$pos","hj","resolve","nodeAfter","hK","withRequiredBase","placeholderNodeName","placeholderClassName","DEFAULT_PLACEHOLDER_META","getPluginState","accumulated","latestValue","Low","DocChangedExtension","firstUpdate","transactions","some","docChanged","Lowest","HelpersExtension","setStringHandler","textToProsemirrorNode","Ig","attrs2","EM","markRange","V1","extensionHelpers","createHelpers","helperName","keys","helper2","isSelectionEmpty","Ab","isViewEditable","editable","getStateJSON","toJSON","getJSON","getRemirrorJSON","insertHtml","html","fragment","getText","lineBreakDivider","textBetween","size","Vp","getTextBetween","getHTML","Em","stringHandlers","InputRulesExtension","rebuildInputRules","createExternalPlugins","generateInputRulesPlugin","rules","invalidMarks","markTags","eX","ExcludeInputRules","inputRules","createInputRules","rule","shouldSkip","shouldSkipInputRule","_remirror_pm_inputrules__WEBPACK_IMPORTED_MODULE_12__","Hw","updateExtensionPlugins","KeymapExtension","extraKeyBindings","backwardMarkExitTracker","keydownHandler","keymap","rebuildKeymap","binding","setupKeydownHandler","shortcutMap","shortcuts","keyboardShortcuts","Sy","handleKeyDown","event","bindings","generateKeymapBindings","_remirror_pm_keymap__WEBPACK_IMPORTED_MODULE_13__","$","extensionKeymaps","commandsExtension","extractNamesFactory","extractShortcutNames","createKeymap","updateNamedKeys","prioritizedBindings","previousBindings","updatedBindings","shortcutName","commandFunction","kJ","normalizeShortcutName","o8","isActive","keyBinding2","shortcutNames","bindingObject","sortedKeymaps","sortKeymaps","bk","arrowRightShortcut","excludedMarks","PreventExits","excludedNodes","nodeTags","exitMarkForwards","arrowLeftShortcut","Q2","exitNodeBackwards","exitMarkBackwards","backspace","selectParentNodeOnEscape","undoInputRuleOnBackspace","excludeBaseKeymap","baseKeyBindings","YR","Backspace","QF","dU","Escape","N0","OA","Tr","types","marksToRemove","startOfDoc","checker","GK","sg","xN","storedMarks","isNamedShortcut","q9","VO","exitMarksOnArrowPress","DEFAULT_SHORTCUTS","PastePlain","Undo","Redo","isMac","Bold","Italic","Underline","Strike","Code","Paragraph","H1","H2","H3","H4","H5","H6","TaskList","BulletList","OrderedList","Quote","Divider","Codeblock","ClearFormatting","Superscript","Subscript","LeftAlignment","CenterAlignment","RightAlignment","JustifyAlignment","InsertLink","Find","FindBackwards","FindReplace","AddFootnote","AddComment","ContextMenu","IncreaseFontSize","DecreaseFontSize","IncreaseIndent","DecreaseIndent","Shortcuts","Format","GOOGLE_DOC_SHORTCUTS","default","googleDoc","NodeViewsExtension","nodeViewList","nodeViews","createNodeViews","nodeView","assign","PasteRulesExtension","generatePasteRulesPlugin","extensionPasteRules","pasteRules","createPasteRules","_remirror_pm_paste_rules__WEBPACK_IMPORTED_MODULE_14__","N","PluginsExtension","plugins","managerPlugins","applyStateHandlers","initStateHandlers","appendTransactionHandlers","pluginKeys","stateGetters","getPluginStateCreator","getStateByName","stateGetter","identifier","updateExtensionStore","updatePlugins","onInitState","onAppendTransaction","extractExtensionPlugins","appendTransaction","previousState","selectionSet","storedMarksSet","_","applyState","isNotPluginCreator","H$","pluginSpec","key","plugin","externalPlugins","previous","pluginMap","index","dispatchPluginUpdate","isExtensionConstructor","extension3","INVALID_MANAGER_EXTENSION","phase","RC","EditorView","updateState","reconfigure","SchemaExtension","dynamicAttributes","tags","markNames","nodeNames","defaultBlockNode","nodeOverride","markOverride","nodes2","marks2","getSpecFromSchema","addSchema","isValidDefaultBlockNode","Block","namedExtraAttributes","getNamedSchemaAttributes","settings","gatheredSchemaAttributes","attributeGroup","extraSchemaAttributes","getIdentifiers","identifiers","PO","EXTENSION_EXTRA_ATTRIBUTES","extensionTags","extensionNames","behavior","excludeNames","excludeTags","acceptableNames","isNameValid","taggedNamesMap","tag","tagSet","currentValue","gatherExtraAttributes","ignoreExtraAttributes","dynamic","createSpec","createExtensionSpec","extra","override","createNodeSpec","createMarkSpec","V_","topNode","nextState","descendants","child","checkAndUpdateDynamicNodes","checkAndUpdateDynamicMarks","JN","values","isBlock","isTextblock","attributeName","attributeCreator","le","_remirror_pm_suggest__WEBPACK_IMPORTED_MODULE_15__","gn","mark2","newMark","createSchemaAttributes","onCalled","addDynamicCreator","defaultsCalled","defaults","creator","config","defaultValue","attributesObject","parse","parseDOM","other","getExtraAttributesObject","jd","domNode","getAttribute","domAttributes","updateDomAttributes","attr","val","toDOM","K_","EXTENSION_SPEC","group","BB","SuggestExtension","suggester","suggesters","Ek","C$","createSuggesters","suggesterList","D7","getSuggestState","hu","getSuggestMethods","addIgnored","clearIgnored","removeIgnored","ignoreNextExit","setMarkRemoved","findMatchAtPosition","findNextTextSelection","setLastChangeFromAppend","isSuggesterActive","match","TagsExtension","allTags","plainTags","resetTags","updateTagForExtension","tagName","createTags","extraTags","EXTENSION","UploadExtension","createUploadPlaceholderPlugin","payloads","deco","payload","MetaExtension","capture","captureCommands","captureKeybindings","commandsObject","isDevelopment","Framework","nanoevents__WEBPACK_IMPORTED_MODULE_17__","initialEditorState","getPreviousState","dispatchTransaction","destroyed","onDispatchTransaction","applyTransaction","updateViewProps","onChange","onChangeProps","eventListenerProps","onBlur","emit","onFocus","triggerChange","clearContent","createStateFromContent","getProps","attachFramework","updateListener","createView","addView","on","updatableViewProps","getAttributes","firstRender","previousStateOverride","uid","_remirror_core_helpers__WEBPACK_IMPORTED_MODULE_16__","setProps","ssr","autoFocus","classNames2","managerAttributes","propAttributes","autofocus","uniqueClasses","defaultAttributes","role","Yc","addFocusListeners","addEventListener","removeFocusListeners","removeEventListener","destroy","internalUpdate","baseOutput","hasExtension","WeakMap","_RemirrorManager","initialExtension","None","transformExtensions","initialExtensions","duplicateMap","gatheredExtensions","gatherRawExtensionConfig","parentExtensions","gatherRawExtensions","parentExtension","childExtensions","updateExtensionDuplicates","duplicate","parentToAdd","tiny_warning__WEBPACK_IMPORTED_MODULE_18__","Z","duplicates","INTERNAL","forEach","missing","findMissingExtensions","requiredExtensions","MISSING_REQUIRED_EXTENSION","createExtensionStore","Create","setupLifecycleHandlers","disposer","r2","builtinPreset","keymapOptions","decorationsOptions","builtin","Manager","Destroy","mounted","output","frameworkOutput","frameworkAttached","extensionStore","Me","plainNames","extractLifecycleMethods","createHandler","viewHandler","stateUpdateHandler","destroyHandler","getStoreKey","currentState","defineProperties","enumerable","isMounted","framework","updateHandler","INVALID_CONTENT","onError","defaultSelection","stringHandler","EP","yy","cb","Runtime","propsWithUpdate","e","recreate","currentExtensions","dispose","mustIncludeList","extensionsAndPresets","every","RemirrorManager","isRemirrorManager"],"sourceRoot":""}