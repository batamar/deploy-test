(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5873],{96540:function(e,t,r){"use strict";var n=r(91941);t.Z=void 0;var s=n(r(64938)),i=r(85893);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},44510:function(e,t,r){"use strict";var n=r(91941);t.Z=void 0;var s=n(r(64938)),i=r(85893);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},72882:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(32793),s=r(1048),i=r(67294),l=r(90512),a=r(58510),o=r(71657),d=r(90948),c=r(1977),u=r(8027);function h(e){return(0,u.ZP)("MuiTableContainer",e)}(0,c.Z)("MuiTableContainer",["root"]);var x=r(85893);let f=["className","component"],p=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},h,t)},j=(0,d.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"});var g=i.forwardRef(function(e,t){let r=(0,o.Z)({props:e,name:"MuiTableContainer"}),{className:i,component:a="div"}=r,d=(0,s.Z)(r,f),c=(0,n.Z)({},r,{component:a}),u=p(c);return(0,x.jsx)(j,(0,n.Z)({ref:t,as:a,className:(0,l.Z)(u.root,i),ownerState:c},d))})},53184:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(32793),s=r(1048),i=r(67294),l=r(90512),a=r(58510),o=r(44063),d=r(71657),c=r(90948),u=r(1977),h=r(8027);function x(e){return(0,h.ZP)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);var f=r(85893);let p=["className","component"],j=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},x,t)},g=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Z={variant:"head"},b="thead";var v=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableHead"}),{className:i,component:a=b}=r,c=(0,s.Z)(r,p),u=(0,n.Z)({},r,{component:a}),h=j(u);return(0,f.jsx)(o.Z.Provider,{value:Z,children:(0,f.jsx)(g,(0,n.Z)({as:a,className:(0,l.Z)(h.root,i),ref:t,role:a===b?null:"rowgroup",ownerState:u},c))})})},7281:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/candidate-status",function(){return r(5199)}])},87478:function(e,t,r){"use strict";var n=r(75766),s=r(85893),i=r(67294),l=r(5152),a=r.n(l);r(8645);let o=a()(async()=>{let{default:e}=await Promise.all([r.e(2937),r.e(939),r.e(7127)]).then(r.t.bind(r,71167,23)),t=e.Quill,l=t.import("blots/block/embed");class a extends l{static create(e){return super.create(e)}}return(0,n._)(a,"blotName","divider"),(0,n._)(a,"tagName","hr"),t.register({"formats/hr":a}),t=>{let{...r}=t,n=(0,i.useRef)(null),{renderExtraContent:l}=r;return r.modules={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},r.formats=["header","bold","italic","underline","strike","blockquote","code-block","list","bullet","link","image","hr","divider"],(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e,{ref:n,...r}),l&&l(n)]})}},{loadableGenerated:{webpack:()=>[71167]},ssr:!1});t.Z=o},56344:function(e,t,r){"use strict";r.d(t,{Fv:function(){return o},JU:function(){return a},bq:function(){return d}});var n=r(85893),s=r(67294),i=r(28627),l=r(82414);let a=e=>({backgroundColor:e.isDraggingOver?"#ffffff":"inherit"}),o=(e,t)=>(0,n.jsx)(i.bK,{droppableId:e,children:(e,r)=>(0,n.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[t(r),e.placeholder]})}),d=(e,t)=>{let r=e.destination,{draggableId:n}=e;if(r){let{droppableId:e}=r;if("droppable-editor"===e&&t&&t.current){let e=t.current.getEditor(),r=e.getSelection(),s=e.getLength();r&&(s=e.getSelection().index),e.insertText(s,n)}}};t.ZP=()=>{let[e,t]=(0,s.useState)([]);(0,s.useEffect)(()=>{(0,l.Gy)({path:"/candidates/statuses/tags",method:"GET"}).then(e=>{t(e.tags)})},[]);let r=()=>(0,n.jsx)(n.Fragment,{children:e.map((e,t)=>(0,n.jsx)(i._l,{draggableId:e.value,index:t,children:t=>(0,n.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:(0,n.jsx)("div",{style:{backgroundColor:"#f8f8f8",padding:"5px",borderBottom:"1px solid #e0e0e0",cursor:"grab"},children:e.text})})}))});return(0,n.jsx)(n.Fragment,{children:o("initial",()=>(0,n.jsx)(n.Fragment,{children:r()}))})}},40063:function(e,t,r){"use strict";r.d(t,{FQ:function(){return h},KY:function(){return c},fF:function(){return o},fM:function(){return a},lS:function(){return u}});var n=r(85893),s=r(86886),i=r(40476),l=r(15054);let a=e=>{let{label:t,renderControl:r,isCompact:l=!1,required:a=!1}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.ZP,{container:!0,children:[(0,n.jsx)(s.ZP,{item:!0,flex:1,id:"label-".concat(t),children:(0,n.jsx)(i.Z,{sx:{color:"#000",fontWeight:"bold"},required:a,children:t})}),(0,n.jsx)(s.ZP,{item:!0,flex:l?6:4,children:r()})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]})},o=e=>{let{router:t,totalCount:r,page:s,extraQueryParams:i={}}=e;return(0,n.jsx)(l.Z,{count:Math.ceil(r/10),page:parseInt(s,10),onChange:(e,r)=>{t.push({query:{page:r,...i}})},color:"primary",sx:{marginTop:"20px",display:"flex",justifyContent:"center"}})},d=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",c=e=>{let t="inherit",r="#fff";return"active"===e.status&&(t="#4a6cbd"),"lead"===e.status&&(t="rgb(251, 249, 185)",r="#000"),["onHold","canceled","closed"].includes(e.status)&&(t="rgb(200, 105, 80)"),"filled"===e.status&&(t="rgb(221, 160, 221)"),(0,n.jsx)("span",{style:{borderRadius:"5px",backgroundColor:t,color:r,width:"90px",padding:"2px 4px"},children:d(e.status)})},u=e=>{let t="#FA8072";return e.status||(e.status="active"),"active"===e.status&&(t="#4a6cbd"),(0,n.jsx)("span",{style:{borderRadius:"5px",backgroundColor:t,color:"#fff",width:"90px",padding:"2px 4px"},children:d(e.status)})},h=(e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.ZP,{container:!0,children:[(0,n.jsx)(s.ZP,{item:!0,flex:3,id:"label-".concat(e),children:e}),(0,n.jsx)(s.ZP,{item:!0,flex:4,children:t})]}),(0,n.jsx)("br",{})]})},57194:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(73463);function s(e){let{title:t,message:r,onAnswer:s}=e;(0,n.y)({title:t,message:r,onAnswer:s})}},69708:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(61889);function s(e){(0,n.l)({message:e.message||e.toString()})}},70949:function(e,t,r){"use strict";r.r(t);var n=r(85893),s=r(67294),i=r(61903),l=r(50657),a=r(37645),o=r(5616),d=r(93946),c=r(69417),u=r(6514),h=r(50594),x=r(30780),f=r(69708),p=r(82414),j=r(40063);t.default=e=>{let{open:t,onClose:r,onSuccess:g,status:Z}=e,b=Z||{_id:null,name:"",color:""},[v,m]=(0,s.useState)(b.name),[C,y]=(0,s.useState)(b.color),[w,S]=(0,s.useState)(!1),k=async()=>{if(!v||!C){(0,f.Z)("Please fill the required fields");return}S(!0);try{await (0,p.Gy)({path:"/candidates/statuses/manage",method:"POST",data:{_id:b._id,name:v,color:C}}),g(),S(!1)}catch(e){S(!1),(0,f.Z)(e)}};return(0,n.jsxs)(l.Z,{onClose:r,"aria-labelledby":"modal-title",open:t,PaperProps:{sx:{width:"100%"}},children:[(0,n.jsx)(a.Z,{id:"modal-title",children:(0,n.jsxs)(o.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(o.Z,{flexGrow:1,children:b.name?"Edit status":"Create a new status"}),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(d.Z,{onClick:r,children:(0,n.jsx)(h.Z,{})}),(0,n.jsx)(c.Z,{variant:"contained",color:"success",onClick:k,disabled:w,children:"Save"})]})]})}),(0,n.jsxs)(u.Z,{style:{backgroundColor:"#f8f8f8"},children:[(0,n.jsx)("br",{}),function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,n.jsx)(n.Fragment,{children:(0,j.fM)({label:t,required:s,renderControl:()=>(0,n.jsx)(i.Z,{fullWidth:!0,value:e,onChange:e=>r(e.target.value)})})})}(v,"Title",m,!0),(0,j.fM)({label:"Color",required:!0,renderControl:()=>(0,n.jsx)(x.e8,{color:C,onChangeComplete:e=>{y(e.hex)}})})]})]})}},85387:function(e,t,r){"use strict";r.r(t);var n=r(85893),s=r(67294),i=r(61903),l=r(50657),a=r(37645),o=r(5616),d=r(93946),c=r(69417),u=r(6514),h=r(28627),x=r(50594),f=r(69708),p=r(82414),j=r(40063),g=r(87478),Z=r(56344);t.default=e=>{let{onClose:t,onSuccess:r,statusId:b,trigger:v}=e,[m,C]=(0,s.useState)((null==v?void 0:v.description)||""),[y,w]=(0,s.useState)((null==v?void 0:v.bcc)||""),[S,k]=(0,s.useState)((null==v?void 0:v.subject)||""),[P,_]=(0,s.useState)((null==v?void 0:v.body)||""),[T,F]=(0,s.useState)(!1),R=(0,s.useRef)(null),M=(0,s.useRef)(null),E=(0,s.useRef)(null),N=async()=>{if(!y||!S){(0,f.Z)("Please fill the required fields");return}F(!0);try{await (0,p.Gy)({path:"/candidates/statuses/manage-triggers",method:"POST",data:{_id:null==v?void 0:v._id,statusId:b,description:m,bcc:y,subject:S,body:P}}),r(),F(!1)}catch(e){(0,f.Z)(e)}},G=function(e,t,r){let s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"To (BCC)"===t&&(s=R),"Subject"===t&&(s=M),(0,n.jsx)(n.Fragment,{children:(0,j.fM)({label:t,required:a,renderControl:()=>(0,n.jsx)(i.Z,{fullWidth:!0,value:e,onChange:e=>r(e.target.value),style:l,inputRef:s,inputProps:{autoFocus:!0}})})})};return(0,n.jsxs)(l.Z,{onClose:t,"aria-labelledby":"modal-title",fullScreen:!0,open:!0,sx:{width:"60%",left:"inherit"},children:[(0,n.jsx)(a.Z,{id:"modal-title",children:(0,n.jsxs)(o.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(o.Z,{flexGrow:1,children:"Add trigger"}),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(d.Z,{onClick:t,children:(0,n.jsx)(x.Z,{})}),(0,n.jsx)(c.Z,{variant:"contained",color:"success",onClick:N,disabled:T,children:"Save"})]})]})}),(0,n.jsxs)(u.Z,{sx:{backgroundColor:"#f8f8f8"},children:[(0,n.jsx)("br",{}),(0,n.jsxs)(h.Z5,{onDragEnd:e=>{let t=e.destination,{draggableId:r}=e;if(t){let{droppableId:n}=t;(0,Z.bq)(e,E),"droppable-bcc"===n&&(w("".concat(y).concat(r)),R&&R.current&&R.current.click()),"droppable-subject"===n&&(k("".concat(S).concat(r)),M&&M.current&&M.current.focus())}},children:[(0,Z.Fv)("initial",()=>(0,n.jsxs)("div",{style:{width:"38%",float:"right",marginTop:"-20px",fontSize:"12px"},children:[(0,n.jsx)("h3",{children:"Tags"}),(0,n.jsx)("div",{style:{height:"800px",overflow:"scroll"},children:(0,n.jsx)(Z.ZP,{})})]})),(0,n.jsxs)("div",{style:{width:"60%",float:"left"},children:[G(m,"Description",C),(0,n.jsx)("hr",{})," ",(0,n.jsx)("br",{}),(0,Z.Fv)("droppable-bcc",e=>G(y,"To (BCC)",w,(0,Z.JU)(e),!0)),(0,Z.Fv)("droppable-subject",e=>G(S,"Subject",k,(0,Z.JU)(e),!0)),(0,Z.Fv)("droppable-editor",e=>(0,n.jsx)(n.Fragment,{children:(0,j.fM)({label:"Body",renderControl:()=>(0,n.jsx)(g.Z,{style:{height:"300px",...(0,Z.JU)(e)},value:P,onChange:e=>_(e),renderExtraContent:e=>(E=e,null)})})}))]})]})]})]})}},5199:function(e,t,r){"use strict";r.r(t);var n=r(85893),s=r(67294),i=r(86427),l=r(69417),a=r(72882),o=r(90629),d=r(7906),c=r(53184),u=r(53816),h=r(53252),x=r(295),f=r(93946),p=r(96540),j=r(44510),g=r(82414),Z=r(70949),b=r(85387),v=r(57194);t.default=()=>{let[e,t]=(0,s.useState)(!1),[r,m]=(0,s.useState)([]),[C,y]=(0,s.useState)(),[w,S]=(0,s.useState)(),[k,P]=(0,s.useState)(!1),[_,T]=(0,s.useState)(!1),F=()=>{t(!0),(0,g.Gy)({path:"/candidates/statuses",method:"GET"}).then(e=>{t(!1),e.error||m(e.list)})},R=e=>{(0,g.Gy)({path:"/candidates/statuses/manage-triggers",data:{action:"delete",_id:e}}).then(()=>{F()})},M=e=>{(0,g.Gy)({path:"/candidates/statuses/manage",data:{action:"delete",_id:e}}).then(()=>{F()})};return(0,s.useEffect)(()=>{F()},[]),(0,n.jsxs)(i.Z,{title:"Candidate Pipeline",isLoading:e,children:[(0,n.jsx)("div",{style:{float:"right"},children:(0,n.jsx)(l.Z,{onClick:()=>{y(null),P(!0)},variant:"contained",children:"+ Add status"})}),(0,n.jsx)("div",{style:{clear:"both"}}),(0,n.jsx)("br",{}),k?(0,n.jsx)(Z.default,{status:C,open:k,onClose:()=>P(!1),onSuccess:()=>{P(!1),F()}}):null,_&&C?(0,n.jsx)(b.default,{statusId:C._id,trigger:w,onClose:()=>T(!1),onSuccess:()=>{T(!1),F()}}):null,(0,n.jsx)(a.Z,{component:o.Z,children:(0,n.jsxs)(d.Z,{sx:{minWidth:650},size:"small",children:[(0,n.jsx)(c.Z,{children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(h.Z,{children:"#"}),(0,n.jsx)(h.Z,{children:"Name"}),(0,n.jsx)(h.Z,{children:"Color"}),(0,n.jsx)(h.Z,{children:"Triggers"}),(0,n.jsx)(h.Z,{})]})}),(0,n.jsx)(x.Z,{children:r.map((e,t)=>(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(h.Z,{sx:{width:"5px"},children:t+1}),(0,n.jsx)(h.Z,{sx:{maxWidth:"200px"},children:e.name}),(0,n.jsx)(h.Z,{children:(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("span",{style:{display:"inline-block",height:"20px",width:"20px",backgroundColor:e.color,borderRadius:"5px",marginRight:"5px"}}),e.color]})}),(0,n.jsxs)(h.Z,{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(f.Z,{sx:{cursor:"pointer"},onClick:()=>{T(!0),y(e),S(null)},children:(0,n.jsx)(p.Z,{color:"success"})}),(e.triggers||[]).map(t=>(0,n.jsxs)("div",{children:[(0,n.jsx)("a",{href:"#",style:{cursor:"pointer"},onClick:()=>{y(e),S(t),T(!0)},children:t.description},t._id),(0,n.jsx)(f.Z,{onClick:()=>{(0,v.Z)({title:"Delete trigger",message:"Are you sure you want to delete this trigger?",onAnswer:e=>{e&&R(t._id)}})},children:(0,n.jsx)(j.Z,{color:"error"})})]}))]}),(0,n.jsxs)(h.Z,{align:"right",children:[(0,n.jsx)(l.Z,{variant:"contained",size:"small",color:"inherit",onClick:()=>{y(e),P(!0)},children:"Edit"})," ",(0,n.jsx)(l.Z,{variant:"contained",size:"small",color:"error",onClick:()=>{M(e._id)},children:"Delete"})]})]},e._id))})]})})]})}}},function(e){e.O(0,[5062,2840,8360,8584,7994,6326,7231,1956,5968,8118,8762,9704,939,474,780,6427,2888,9774,179],function(){return e(e.s=7281)}),_N_E=e.O()}]);
//# sourceMappingURL=candidate-status-f1c413998c0a250e.js.map