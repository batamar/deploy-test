(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{73406:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(14801)}])},40063:function(e,n,t){"use strict";t.d(n,{FQ:function(){return h},KY:function(){return o},fF:function(){return d},fM:function(){return a},lS:function(){return u}});var r=t(85893),s=t(86886),l=t(40476),i=t(15054);let a=e=>{let{label:n,renderControl:t,isCompact:i=!1,required:a=!1}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.ZP,{container:!0,children:[(0,r.jsx)(s.ZP,{item:!0,flex:1,id:"label-".concat(n),children:(0,r.jsx)(l.Z,{sx:{color:"#000",fontWeight:"bold"},required:a,children:n})}),(0,r.jsx)(s.ZP,{item:!0,flex:i?6:4,children:t()})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})},d=e=>{let{router:n,totalCount:t,page:s,extraQueryParams:l={}}=e;return(0,r.jsx)(i.Z,{count:Math.ceil(t/10),page:parseInt(s,10),onChange:(e,t)=>{n.push({query:{page:t,...l}})},color:"primary",sx:{marginTop:"20px",display:"flex",justifyContent:"center"}})},c=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",o=e=>{let n="inherit",t="#fff";return"active"===e.status&&(n="#4a6cbd"),"lead"===e.status&&(n="rgb(251, 249, 185)",t="#000"),["onHold","canceled","closed"].includes(e.status)&&(n="rgb(200, 105, 80)"),"filled"===e.status&&(n="rgb(221, 160, 221)"),(0,r.jsx)("span",{style:{borderRadius:"5px",backgroundColor:n,color:t,width:"90px",padding:"2px 4px"},children:c(e.status)})},u=e=>{let n="#FA8072";return e.status||(e.status="active"),"active"===e.status&&(n="#4a6cbd"),(0,r.jsx)("span",{style:{borderRadius:"5px",backgroundColor:n,color:"#fff",width:"90px",padding:"2px 4px"},children:c(e.status)})},h=(e,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.ZP,{container:!0,children:[(0,r.jsx)(s.ZP,{item:!0,flex:3,id:"label-".concat(e),children:e}),(0,r.jsx)(s.ZP,{item:!0,flex:4,children:n})]}),(0,r.jsx)("br",{})]})},57194:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(73463);function s(e){let{title:n,message:t,onAnswer:s}=e;(0,r.y)({title:n,message:t,onAnswer:s})}},69708:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(61889);function s(e){(0,r.l)({message:e.message||e.toString()})}},14801:function(e,n,t){"use strict";t.r(n);var r=t(85893),s=t(67294),l=t(41664),i=t.n(l),a=t(40063),d=t(86427),c=t(50657),o=t(37645),u=t(5616),h=t(93946),x=t(69417),g=t(6514),f=t(58951),j=t(61903),p=t(69368),m=t(7906),Z=t(295),b=t(53816),y=t(53252),v=t(50594),C=t(74855),k=t(70405),S=t(82414),_=t(69708),w=t(57194);n.default=()=>{let e;let[n,t]=(0,s.useState)(null),[l,P]=(0,s.useState)(null),[M,E]=(0,s.useState)(!1),[F,T]=(0,s.useState)(""),[A,G]=(0,s.useState)({}),[N,O]=(0,s.useState)(!1),{user:q,loadingUser:z}=(0,k.k)(),[L,R]=(0,s.useState)(!1),U=!z&&"systemAdmin"===q.role,W=!z&&"superAdmin"===q.role,H=()=>{(0,S.Gy)({path:"/users/get-integrations-by-user",method:"GET"}).then(e=>{t(e.find(e=>"calendar"===e.type));let n=e.find(e=>"meeting-scheduler"===e.type);P(n),n&&(T(n.data.username),G(n.data.days))})};(0,s.useEffect)(()=>{H()},[]);let I=(e,n)=>{G({...A,[e]:n})},X=e=>n=>{G({...A,[e]:{...A[e],from:n.target.value}})},B=e=>n=>{G({...A,[e]:{...A[e],to:n.target.value}})},D=()=>{(0,S.Gy)({path:"/integrations/delete",method:"POST",data:{type:"calendar"}}).then(()=>{t(null),(0,_.Z)("Success")})};return l&&l.data.username&&(e="".concat((0,S.zH)(),"/meetings/").concat(l.data.username)),(0,r.jsx)(d.Z,{title:"Settings",children:(0,r.jsxs)(u.Z,{width:"50%",bgcolor:"#ffffff",children:[M?(0,r.jsxs)(c.Z,{open:M,onClose:()=>E(!1),maxWidth:"lg",fullWidth:!0,children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)(u.Z,{flexGrow:1,children:"Configure Meeting scheduler"}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(h.Z,{onClick:()=>E(!1),children:(0,r.jsx)(v.Z,{})}),(0,r.jsx)(x.Z,{variant:"contained",color:"success",onClick:()=>{if(!F){(0,_.Z)("Username is required");return}O(!0),(0,S.Gy)({path:"/integrations/configure",method:"POST",data:{_id:l?l._id:void 0,type:"meeting-scheduler",data:{username:F,days:A}}}).then(()=>{E(!1),(0,_.Z)("Success"),H()}).catch(e=>{(0,_.Z)(e.message)}).finally(()=>{O(!1)})},disabled:N,children:N?"Saving...":"Save"})]})]})}),(0,r.jsxs)(g.Z,{style:{backgroundColor:"#f8f8f8"},children:[(0,r.jsx)("br",{}),(0,r.jsx)(f.Z,{children:"Create and share a custom meeting link to make scheduling simple."}),(0,r.jsx)("br",{}),(0,a.fM)({label:"Custom Meeting Link",required:!0,renderControl:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{disabled:!0,value:"".concat((0,S.zH)(),"/meetings/"),sx:{width:"40%",backgroundColor:"#ebebeb"},inputProps:{sx:{borderRight:"none"}}}),(0,r.jsx)(j.Z,{value:F,label:"Username",sx:{width:"30%"},onChange:e=>T(e.target.value),inputProps:{sx:{borderLeft:"none"}}})]})}),(0,a.fM)({label:"Availability",renderControl:()=>[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}].map(e=>{let n=!A[e.value],t=A[e.value]||{};return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginBottom:"10px"},children:[(0,r.jsxs)("div",{style:{width:"150px"},children:[(0,r.jsx)(p.Z,{checked:A[e.value],onChange:n=>I(e.value,n.target.checked)}),e.label]}),(0,r.jsx)(j.Z,{type:"time",value:t.from,sx:{marginRight:"10px",backgroundColor:n?"#ebebeb":"inherit"},disabled:n,onChange:X(e.value)}),"to",(0,r.jsx)(j.Z,{type:"time",value:t.to,sx:{marginLeft:"10px",backgroundColor:n?"#ebebeb":"inherit"},disabled:n,onChange:B(e.value)})]},e.value)})})]})]}):null,(0,r.jsx)(m.Z,{children:(0,r.jsxs)(Z.Z,{children:[W?(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsx)(i(),{href:"/settings/organization",children:"Organization configuration"})}),(0,r.jsx)(y.Z,{children:"Change your site name, set some general preferences."})]}):null,(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsx)(i(),{href:"/settings/users",children:"Users"})}),(0,r.jsx)(y.Z,{children:"Manage users"})]}),U?(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsx)(i(),{href:"/settings/manage-prompts",children:"Manage prompts"})}),(0,r.jsx)(y.Z,{children:"Manage prompts"})]}):null,(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsx)(i(),{href:"/settings/candidate-status",children:"Candidate Pipeline"})}),(0,r.jsx)(y.Z,{children:"Manage candidate statuses"})]}),(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(y.Z,{children:"Calendar integration"}),(0,r.jsxs)(y.Z,{children:[(0,r.jsx)("h3",{children:n?n.credentials&&n.credentials.email:null}),(0,r.jsx)(x.Z,{variant:"contained",color:"primary",href:"/google/auth",children:n?"Configure":"Enable"}),n?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(x.Z,{variant:"contained",color:"error",onClick:()=>{(0,w.Z)({title:"Confirmation",message:"Are you sure to delete ?",onAnswer:e=>{e&&D()}})},children:"Delete"})]}):null]})]}),(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(y.Z,{children:"Meeting scheduler"}),(0,r.jsxs)(y.Z,{children:[l?(0,r.jsx)("p",{children:(0,r.jsx)(i(),{href:e,target:"__blank",children:e})}):null,(0,r.jsx)(x.Z,{variant:"contained",color:"primary",onClick:()=>E(!0),children:l?"Configure":"Enable"}),e?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(C.CopyToClipboard,{text:e,onCopy:()=>R(!0),children:(0,r.jsx)(x.Z,{variant:"contained",color:"inherit",children:L?"Copied":"Copy link"})})]}):null]})]})]})})]})})}}},function(e){e.O(0,[2840,8360,8584,7994,6326,7231,1956,5968,8118,4626,6427,2888,9774,179],function(){return e(e.s=73406)}),_N_E=e.O()}]);
//# sourceMappingURL=settings-1c6b957dd56a19b8.js.map