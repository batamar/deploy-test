(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7242],{21964:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(1048),i=n(32793),r=n(67294),s=n(90512),l=n(58510),d=n(98216),o=n(90948),c=n(14136),u=n(49299),h=n(74423),x=n(49990),j=n(1977),Z=n(8027);function p(e){return(0,Z.ZP)("PrivateSwitchBase",e)}(0,j.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var m=n(85893);let g=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],f=e=>{let{classes:t,checked:n,disabled:a,edge:i}=e,r={root:["root",n&&"checked",a&&"disabled",i&&`edge${(0,d.Z)(i)}`],input:["input"]};return(0,l.Z)(r,p,t)},C=(0,o.ZP)(x.Z)(({ownerState:e})=>(0,i.Z)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),b=(0,o.ZP)("input",{shouldForwardProp:c.Z})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1});var v=r.forwardRef(function(e,t){let{autoFocus:n,checked:r,checkedIcon:l,className:d,defaultChecked:o,disabled:c,disableFocusRipple:x=!1,edge:j=!1,icon:Z,id:p,inputProps:v,inputRef:S,name:P,onBlur:y,onChange:k,onFocus:w,readOnly:I,required:_=!1,tabIndex:E,type:R,value:M}=e,N=(0,a.Z)(e,g),[F,V]=(0,u.Z)({controlled:r,default:!!o,name:"SwitchBase",state:"checked"}),W=(0,h.Z)(),D=c;W&&void 0===D&&(D=W.disabled);let O="checkbox"===R||"radio"===R,B=(0,i.Z)({},e,{checked:F,disabled:D,disableFocusRipple:x,edge:j}),L=f(B);return(0,m.jsxs)(C,(0,i.Z)({component:"span",className:(0,s.Z)(L.root,d),centerRipple:!0,focusRipple:!x,disabled:D,tabIndex:null,role:void 0,onFocus:e=>{w&&w(e),W&&W.onFocus&&W.onFocus(e)},onBlur:e=>{y&&y(e),W&&W.onBlur&&W.onBlur(e)},ownerState:B,ref:t},N,{children:[(0,m.jsx)(b,(0,i.Z)({autoFocus:n,checked:r,defaultChecked:o,className:L.input,disabled:D,id:O?p:void 0,name:P,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;let t=e.target.checked;V(t),k&&k(e,t)},readOnly:I,ref:S,required:_,ownerState:B,tabIndex:E,type:R},"checkbox"===R&&void 0===M?{}:{value:M},v)),F?l:Z]}))})},46381:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/candidate",function(){return n(34230)}])},80323:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=n(85893),i=n(67294),r=n(20247),s=n(61903),l=n(98456),d=n(57144),o=n(82414);let c={current:null},u=e=>(0,o.Gy)({path:"/clients?search=".concat(e),method:"get"});function h(e){let{onSelect:t,disabled:n=!1}=e,[o,h]=i.useState(!1),[x,j]=i.useState(null),[Z,p]=i.useState(""),[m,g]=i.useState([]),f=i.useMemo(()=>(0,d.Z)((e,t)=>{h(!0),c.current.getClientsApiMethod(e.input).then(e=>{h(!1),t(e.list)})},400),[]),C=e=>{let t=[];x&&(t=[x]),e&&(t=[...t,...e]),g(t)};return i.useEffect(()=>{let e=!0;if(c.current||(c.current={getClientsApiMethod:u}),""===Z){g(x?[x]:[]);return}return f({input:Z},t=>{e&&C(t)}),()=>{e=!1}},[x,Z,f]),(0,a.jsx)(r.Z,{isOptionEqualToValue:(e,t)=>e.name===t.name,getOptionLabel:e=>e.name,options:m,autoComplete:!0,disabled:n,includeInputInList:!0,filterSelectedOptions:!0,value:x,noOptionsText:"Type a client name ...",onChange:(e,n)=>{g(n?[n,...m]:m),j(n),t(n)},onInputChange:(e,t)=>{p(t)},renderInput:e=>(0,a.jsx)(s.Z,{id:"clients-auto-complete",...e,label:"Select a client",InputProps:{...e.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[o?(0,a.jsx)(l.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})})}},34230:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var a=n(85893),i=n(67294),r=n(11163),s=n(77957),l=n(38698),d=n(86427),o=n(50657),c=n(37645),u=n(5616),h=n(93946),x=n(69417),j=n(6514),Z=n(61903),p=n(86886),m=n(40476),g=n(18360),f=n(22224),C=n(69368),b=n(50594),v=n(80323),S=n(69708),P=n(82414),y=n(40063);let k={marginRight:"10px","& .MuiSelect-select":{width:"40px",padding:"8px"},"& .MuiOutlinedInput-input":{width:"40px",padding:"8px"}},w=[];for(let e=2024;e>=1950;e--)w.push(e);var I=e=>{let{candidateId:t,onClose:n,onSuccess:r,workHistory:s}=e,l=s||{},[d,I]=(0,i.useState)(l.title),[_,E]=(0,i.useState)(l.employer),[R,M]=(0,i.useState)(l.startDateMonth),[N,F]=(0,i.useState)(l.startDateYear),[V,W]=(0,i.useState)(l.endDateMonth),[D,O]=(0,i.useState)(l.endDateYear),[B,L]=(0,i.useState)(l.isCurrent),[T,A]=(0,i.useState)(l.locationState),[H,z]=(0,i.useState)(l.locationCity),[G,q]=(0,i.useState)(l.supervisorName),[Y,X]=(0,i.useState)(l.supervisorPhone),[$,J]=(0,i.useState)(l.isVerified),[K,Q]=(0,i.useState)(l.summary),[U,ee]=(0,i.useState)(!1),et=async()=>{ee(!0);try{await (0,P.Gy)({path:"/candidates/create-or-update-work-history",method:"POST",data:{candidateId:t,_id:l._id,title:d,employer:_,startDateMonth:R,startDateYear:N,endDateMonth:V,endDateYear:D,isCurrent:B,locationState:T,locationCity:H,supervisorName:G,supervisorPhone:Y,isVerified:$,summary:K}}),r(),ee(!1)}catch(e){(0,S.Z)(e)}};return(0,a.jsxs)(o.Z,{onClose:n,"aria-labelledby":"modal-title",maxWidth:"lg",open:!0,children:[(0,a.jsx)(c.Z,{id:"modal-title",children:(0,a.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,a.jsx)(u.Z,{flexGrow:1,children:l.title?"Edit Work History":"Add Work History"}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(h.Z,{onClick:n,children:(0,a.jsx)(b.Z,{})}),(0,a.jsx)(x.Z,{variant:"contained",color:"success",onClick:et,disabled:U,children:"Save"})]})]})}),(0,a.jsxs)(j.Z,{sx:{minWidth:"700px"},children:[(0,a.jsx)("br",{}),(0,y.fM)({label:"Title",renderControl:()=>(0,a.jsx)(Z.Z,{value:d,onChange:e=>I(e.target.value),fullWidth:!0})}),(0,y.fM)({label:"Employer",renderControl:()=>(0,a.jsxs)("div",{style:{flex:4},children:[(0,a.jsx)("span",{children:l.employer}),(0,a.jsx)(v.Z,{onSelect:e=>E(e&&e.name)})]}),isCompact:!0}),(0,a.jsxs)(p.ZP,{container:!0,children:[(0,a.jsx)(p.ZP,{item:!0,flex:1,children:(0,a.jsx)(m.Z,{sx:{color:"#000",fontWeight:"bold"},children:"Start/End Dates"})}),(0,a.jsx)(p.ZP,{item:!0,flex:4,children:(0,a.jsxs)(p.ZP,{container:!0,alignItems:"center",children:[(0,a.jsx)(g.Z,{defaultValue:R,sx:k,onChange:e=>{M(e.target.value)},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,a.jsx)(f.Z,{value:e,children:e},e))}),(0,a.jsx)(g.Z,{defaultValue:N,sx:k,onChange:e=>{F(e.target.value)},children:w.map(e=>(0,a.jsx)(f.Z,{value:e,children:e},e))}),(0,a.jsx)("span",{children:"-"}),B?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{defaultValue:V,sx:{...k,marginLeft:"10px"},onChange:e=>{W(e.target.value)},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,a.jsx)(f.Z,{value:e,children:e},e))}),(0,a.jsx)(g.Z,{defaultValue:D,sx:k,onChange:e=>{O(e.target.value)},children:w.map(e=>(0,a.jsx)(f.Z,{value:e,children:e},e))})]}),(0,a.jsx)(C.Z,{defaultChecked:B,onChange:e=>L(e.target.checked)}),(0,a.jsx)(m.Z,{children:"Current"})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)(p.ZP,{container:!0,children:[(0,a.jsx)(p.ZP,{item:!0,flex:1,children:(0,a.jsx)(m.Z,{sx:{color:"#000",fontWeight:"bold"},children:"Location"})}),(0,a.jsx)(p.ZP,{item:!0,flex:4,children:(0,a.jsxs)(p.ZP,{container:!0,children:[(0,a.jsx)(Z.Z,{sx:{marginRight:"10px"},label:"City",defaultValue:H,onChange:e=>{z(e.target.value)}}),(0,a.jsx)(Z.Z,{label:"State",defaultValue:T,onChange:e=>{A(e.target.value)}})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)(p.ZP,{container:!0,children:[(0,a.jsx)(p.ZP,{item:!0,flex:1,children:(0,a.jsx)(m.Z,{sx:{color:"#000",fontWeight:"bold"},children:"Supervisor"})}),(0,a.jsx)(p.ZP,{item:!0,flex:4,children:(0,a.jsxs)(p.ZP,{container:!0,children:[(0,a.jsx)(Z.Z,{sx:{marginRight:"10px"},label:"Name",defaultValue:G,onChange:e=>{q(e.target.value)}}),(0,a.jsx)(Z.Z,{label:"Phone",defaultValue:Y,onChange:e=>{X(e.target.value)}})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,y.fM)({label:"Verified",renderControl:()=>(0,a.jsx)(C.Z,{defaultChecked:$,onChange:e=>J(e.target.checked)})}),(0,y.fM)({label:"Summary",renderControl:()=>(0,a.jsx)(Z.Z,{multiline:!0,value:K,minRows:5,onChange:e=>Q(e.target.value),fullWidth:!0})})]})]})},_=n(90629),E=n(72882),R=n(7906),M=n(295),N=n(53816),F=n(53252),V=n(57194),W=n(70162),D=n(8339),O=n(23693),B=n(23233),L=n(37481),T=n(47198),A=n(66968),H=()=>{let e=(0,r.useRouter)(),[t,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(null),[j,Z]=(0,i.useState)(!1),[m,g]=(0,i.useState)(),f=()=>{if(e.isReady){let{query:t}=e;n(!0),(0,P.Gy)({path:"/candidates/detail?_id=".concat(t.id),method:"GET"}).then(e=>{n(!1),e.error||g(e)}).catch(e=>{n(!1)})}},{id:C}=e.query;(0,i.useEffect)(()=>{f()},[C]);let b=(e,t)=>(0,W.L)(m,e,f,t),v=e=>{b({type:"remove-work-history",value:e})};if(!m)return(0,a.jsx)(d.Z,{title:"",isLoading:t,children:" "});let S={padding:"10px 20px",marginBottom:"20px",marginRight:"10px"};return(0,a.jsxs)(d.Z,{title:(0,a.jsxs)(p.ZP,{container:!0,children:[m.firstName," ",m.lastName]}),isLoading:t,children:[j?(0,a.jsx)(I,{onClose:()=>Z(!1),candidateId:m._id,workHistory:u,onSuccess:()=>{Z(!1),f()}}):null,(0,a.jsxs)(p.ZP,{container:!0,flexDirection:"row",children:[(0,a.jsxs)(p.ZP,{item:!0,flex:1,children:[(0,a.jsxs)(_.Z,{sx:{...S},children:[(0,a.jsx)("h3",{children:"Primary"}),(0,a.jsx)("br",{}),(0,a.jsx)(B.Z,{candidate:m,onChange:()=>{f()}})]}),(0,a.jsx)(_.Z,{sx:{...S,height:"500px"},children:(0,a.jsx)(L.Z,{candidate:m,onChange:()=>{f()}})}),(0,a.jsxs)(_.Z,{sx:S,children:[(0,a.jsxs)(p.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(p.ZP,{item:!0,children:(0,a.jsx)("h3",{children:"Work histories"})}),(0,a.jsx)(p.ZP,{item:!0,children:(0,a.jsx)(x.Z,{size:"small",onClick:()=>{Z(!0),h(null)},variant:"contained",children:"Add Work History"})})]}),(0,a.jsx)(E.Z,{component:_.Z,children:(0,a.jsx)(R.Z,{children:(0,a.jsx)(M.Z,{children:(m.workHistories||[]).map((e,t)=>(0,a.jsxs)(N.Z,{children:[(0,a.jsx)(F.Z,{children:e.title}),(0,a.jsx)(F.Z,{children:e.employer}),(0,a.jsxs)(F.Z,{children:[e.startDateMonth,"/",e.startDateYear," - ",e.isCurrent?"Current":"".concat(e.endDateMonth,"/").concat(e.endDateYear)]}),(0,a.jsx)(F.Z,{children:(0,a.jsxs)("div",{style:{marginRight:"10px"},children:[(0,a.jsx)(s.Z,{sx:{cursor:"pointer"},onClick:()=>{h(e),Z(!0)}}),(0,a.jsx)(l.Z,{onClick:()=>{(0,V.Z)({title:"Confirmation",message:"Are you sure to delete ?",onAnswer:t=>{t&&v(e._id)}})}})]})})]},t))})})})]}),(0,a.jsx)(_.Z,{sx:S,children:(0,a.jsx)(O.Z,{candidate:m,onChange:()=>{c(Math.random().toString())}})}),(0,a.jsx)(_.Z,{sx:S,children:(0,a.jsx)(T.Z,{candidate:m,onChange:()=>{f()}})}),(0,a.jsxs)(_.Z,{sx:S,children:[(0,a.jsx)("h3",{children:"Send Email"}),(0,a.jsx)("br",{}),(0,a.jsx)(A.Z,{jobId:(m.jobIds||[]).length>0?m.jobIds[0]:void 0,candidateId:m._id,to:(m.emails||[]).map(e=>e.email).join(",")})]})]}),(0,a.jsx)(p.ZP,{item:!0,flex:1,children:(0,a.jsxs)(_.Z,{sx:S,children:[(0,a.jsx)("h3",{children:"Feed"}),(0,a.jsx)(D.Z,{candidateId:C,updateHash:o})]})})]})]})}}},function(e){e.O(0,[4885,5062,2840,8360,8584,7994,6326,7231,1956,5968,8118,8762,9704,5242,682,1664,4501,6427,2889,2387,5394,2888,9774,179],function(){return e(e.s=46381)}),_N_E=e.O()}]);
//# sourceMappingURL=candidate-51d2dc9ea3fa55ac.js.map